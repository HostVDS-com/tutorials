import{e as z,h as u,j as N,E as S,H as C,I as O,J as $,K as p,L as _,l as b,k as y,m as D,U as P}from"./m7HUMyHv.js";function Y(e,n,t=!1){u&&N();var o=e,r=null,a=null,l=P,j=t?S:0,s=!1;const x=(f,c=!0)=>{s=!0,L(c,f)},L=(f,c)=>{if(l===(l=f))return;let w=!1;if(u){const A=o.data===C;!!l===A&&(o=O(),$(o),p(!1),w=!0)}l?(r?_(r):c&&(r=b(()=>c(o))),a&&y(a,()=>{a=null})):(a?_(a):c&&(a=b(()=>c(o))),r&&y(r,()=>{r=null})),w&&p(!0)};z(()=>{s=!1,n(x),s||L(null,null)},j),u&&(o=D)}const g="en",k=["en","ru"],R="PARAGLIDE_LOCALE",F=3456e4,v=["url","cookie","preferredLanguage","baseLocale"];globalThis.__paraglide={};let U=!1,h=()=>{let e;for(const n of v)if(n==="cookie"?e=W():n==="baseLocale"?e=g:n==="url"&&typeof window<"u"?e=I(window.location.href):n==="preferredLanguage"&&(e=B()),e!==void 0){const t=J(e);return U||(U=!0,H(t,{reload:!1})),t}throw new Error("No locale found. Read the docs https://inlang.com/m/gerre34r/library-inlang-paraglideJs/errors#no-locale-found")};function B(){var n;if(!((n=navigator==null?void 0:navigator.languages)!=null&&n.length))return;const e=navigator.languages.map(t=>{var o;return{fullTag:t.toLowerCase(),baseTag:(o=t.split("-")[0])==null?void 0:o.toLowerCase()}});for(const t of e){if(i(t.fullTag))return t.fullTag;if(i(t.baseTag))return t.baseTag}}let H=(e,n)=>{const t={reload:!0,...n};let o;try{o=h()}catch{}let r;for(const a of v)if(a==="cookie"){if(typeof document>"u"||typeof window>"u")continue;const l=window.location.hostname;document.cookie=`${R}=${e}; path=/; max-age=${F}; domain=${l}`}else{if(a==="baseLocale")continue;a==="url"&&typeof window<"u"&&(r=d(window.location.href,{locale:e}).href)}t.reload&&window.location&&e!==o&&(r?window.location.href=r:window.location.reload())},m=()=>typeof window<"u"?window.location.origin:"http://fallback.com";function i(e){return e?k.includes(e):!1}function J(e){if(i(e)===!1)throw new Error(`Invalid locale: ${e}. Expected one of: ${k.join(", ")}`);return e}function W(){if(typeof document>"u"||!document.cookie)return;const e=document.cookie.match(new RegExp(`(^| )${R}=([^;]+)`)),n=e==null?void 0:e[2];if(i(n))return n}let E,T;function I(e){const n=typeof e=="string"?e:e.href;if(E===n)return T;let t;return t=q(e),E=n,T=t,t}function q(e){const t=new URL(e,"http://dummy.com").pathname.split("/").filter(Boolean);if(t.length>0){const o=t[0];if(i(o))return o}return g}function d(e,n){return G(e,n)}function G(e,n){const t=typeof e=="string"?new URL(e,m()):new URL(e),o=(n==null?void 0:n.locale)??h();if(I(t)===o)return t;const a=t.pathname.split("/").filter(Boolean);return a.length>0&&i(a[0])&&a.shift(),o===g?t.pathname="/"+a.join("/"):t.pathname="/"+o+"/"+a.join("/"),t}function Z(e){return K(e)}function K(e){const n=typeof e=="string"?new URL(e,m()):new URL(e),t=n.pathname.split("/").filter(Boolean);return t.length>0&&i(t[0])&&(n.pathname="/"+t.slice(1).join("/")),n}function Q(e,n){const t=h(),o=(n==null?void 0:n.locale)??t,r=new URL(e,m()),a=d(r,{locale:o});return e.startsWith("/")&&r.origin===a.origin?o!==t&&d(r,{locale:t}).origin!==a.origin?a.href:a.pathname+a.search+a.hash:a.href}export{k as a,Z as d,h as g,Y as i,Q as l,H as s};
