import{d as O,h as d,e as C,G as D,R as $,S as P,T as F,V as B,w as H,W as T,X as v,k as R,j as U,U as W,l as G}from"./D3tqMW58.js";function x(e,n,[t,o]=[0,0]){d&&t===0&&C();var r=e,a=null,l=null,s=W,j=t>0?D:0,f=!1;const N=(u,c=!0)=>{f=!0,p(c,u)},p=(u,c)=>{if(s===(s=u))return;let b=!1;if(d&&o!==-1){if(t===0){const g=$(r);g===P?o=0:g===F?o=1/0:(o=parseInt(g.substring(1)),o!==o&&(o=s?1/0:-1))}const z=o>t;!!s===z&&(r=B(),H(r),T(!1),b=!0,o=-1)}s?(a?v(a):c&&(a=R(()=>c(r))),l&&U(l,()=>{l=null})):(l?v(l):c&&(l=R(()=>c(r,[t+1,o]))),a&&U(a,()=>{a=null})),b&&T(!0)};O(()=>{f=!1,n(N),f||p(null,null)},j),d&&(r=G)}const m="en",I=["en","ru"],A="PARAGLIDE_LOCALE",Y=3456e4,_=["url","cookie","preferredLanguage","baseLocale"];globalThis.__paraglide={};let k=!1,L=()=>{let e;for(const n of _)if(n==="cookie"?e=V():n==="baseLocale"?e=m:n==="url"&&typeof window<"u"?e=S(window.location.href):n==="preferredLanguage"&&(e=q()),e!==void 0){const t=M(e);return k||(k=!0,J(t,{reload:!1})),t}throw new Error("No locale found. Read the docs https://inlang.com/m/gerre34r/library-inlang-paraglideJs/errors#no-locale-found")};function q(){var n;if(!((n=navigator==null?void 0:navigator.languages)!=null&&n.length))return;const e=navigator.languages.map(t=>{var o;return{fullTag:t.toLowerCase(),baseTag:(o=t.split("-")[0])==null?void 0:o.toLowerCase()}});for(const t of e){if(i(t.fullTag))return t.fullTag;if(i(t.baseTag))return t.baseTag}}let J=(e,n)=>{const t={reload:!0,...n};let o;try{o=L()}catch{}let r;for(const a of _)if(a==="cookie"){if(typeof document>"u"||typeof window>"u")continue;const l=window.location.hostname;document.cookie=`${A}=${e}; path=/; max-age=${Y}; domain=${l}`}else{if(a==="baseLocale")continue;a==="url"&&typeof window<"u"&&(r=h(window.location.href,{locale:e}).href)}t.reload&&window.location&&e!==o&&(r?window.location.href=r:window.location.reload())},w=()=>typeof window<"u"?window.location.origin:"http://fallback.com";function i(e){return e?I.includes(e):!1}function M(e){if(i(e)===!1)throw new Error(`Invalid locale: ${e}. Expected one of: ${I.join(", ")}`);return e}function V(){if(typeof document>"u"||!document.cookie)return;const e=document.cookie.match(new RegExp(`(^| )${A}=([^;]+)`)),n=e==null?void 0:e[2];if(i(n))return n}let y,E;function S(e){const n=typeof e=="string"?e:e.href;if(y===n)return E;let t;return t=X(e),y=n,E=t,t}function X(e){const t=new URL(e,"http://dummy.com").pathname.split("/").filter(Boolean);if(t.length>0){const o=t[0];if(i(o))return o}return m}function h(e,n){return Z(e,n)}function Z(e,n){const t=typeof e=="string"?new URL(e,w()):new URL(e),o=(n==null?void 0:n.locale)??L();if(S(t)===o)return t;const a=t.pathname.split("/").filter(Boolean);return a.length>0&&i(a[0])&&a.shift(),o===m?t.pathname="/"+a.join("/"):t.pathname="/"+o+"/"+a.join("/"),t}function ee(e){return K(e)}function K(e){const n=typeof e=="string"?new URL(e,w()):new URL(e),t=n.pathname.split("/").filter(Boolean);return t.length>0&&i(t[0])&&(n.pathname="/"+t.slice(1).join("/")),n}function te(e,n){const t=L(),o=(n==null?void 0:n.locale)??t,r=new URL(e,w()),a=h(r,{locale:o});return e.startsWith("/")&&r.origin===a.origin?o!==t&&h(r,{locale:t}).origin!==a.origin?a.href:a.pathname+a.search+a.hash:a.href}export{I as a,ee as d,L as g,x as i,te as l,J as s};
