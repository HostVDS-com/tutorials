import{e as S,h as u,j as T,E as N,H as O,I as $,J as D,K as p,L as _,l as y,k as b,m as C,U as P}from"./m7HUMyHv.js";function M(e,t,n=!1){u&&T();var a=e,l=null,o=null,r=P,A=n?N:0,s=!1;const v=(f,i=!0)=>{s=!0,w(i,f)},w=(f,i)=>{if(r===(r=f))return;let L=!1;if(u){const z=a.data===O;!!r===z&&(a=$(),D(a),p(!1),L=!0)}r?(l?_(l):i&&(l=y(()=>i(a))),o&&b(o,()=>{o=null})):(o?_(o):i&&(o=y(()=>i(a))),l&&b(l,()=>{l=null})),L&&p(!0)};S(()=>{s=!1,t(v),s||w(null,null)},A),u&&(a=C)}const h="en",R=["en","ru"],I="PARAGLIDE_LOCALE",F=3456e4,j=["url","cookie","baseLocale"];globalThis.__paraglide={};let U=!1,m=()=>{let e;for(const t of j)if(t==="cookie"?e=J():t==="baseLocale"?e=h:t==="url"&&typeof window<"u"&&(e=x(window.location.href)),e!==void 0){const n=H(e);return U||(U=!0,B(n,{reload:!1})),n}throw new Error("No locale found. Read the docs https://inlang.com/m/gerre34r/library-inlang-paraglideJs/errors#no-locale-found")},B=(e,t)=>{const n={reload:!0,...t};let a;try{a=m()}catch{}let l;for(const o of j)if(o==="cookie"){if(typeof document>"u"||typeof window>"u")continue;const r=window.location.hostname;document.cookie=`${I}=${e}; path=/; max-age=${F}; domain=${r}`}else{if(o==="baseLocale")continue;o==="url"&&typeof window<"u"&&(l=d(window.location.href,{locale:e}).href)}n.reload&&window.location&&e!==a&&(l?window.location.href=l:window.location.reload())},g=()=>typeof window<"u"?window.location.origin:"http://fallback.com";function c(e){return e?R.includes(e):!1}function H(e){if(c(e)===!1)throw new Error(`Invalid locale: ${e}. Expected one of: ${R.join(", ")}`);return e}function J(){if(typeof document>"u"||!document.cookie)return;const e=document.cookie.match(new RegExp(`(^| )${I}=([^;]+)`)),t=e==null?void 0:e[2];if(c(t))return t}let E,k;function x(e){const t=typeof e=="string"?e:e.href;if(E===t)return k;let n;return n=W(e),E=t,k=n,n}function W(e){const n=new URL(e,"http://dummy.com").pathname.split("/").filter(Boolean);if(n.length>0){const a=n[0];if(c(a))return a}return h}function d(e,t){return q(e,t)}function q(e,t){const n=typeof e=="string"?new URL(e,g()):new URL(e),a=(t==null?void 0:t.locale)??m();if(x(n)===a)return n;const o=n.pathname.split("/").filter(Boolean);return o.length>0&&c(o[0])&&o.shift(),a===h?n.pathname="/"+o.join("/"):n.pathname="/"+a+"/"+o.join("/"),n}function Y(e){return G(e)}function G(e){const t=typeof e=="string"?new URL(e,g()):new URL(e),n=t.pathname.split("/").filter(Boolean);return n.length>0&&c(n[0])&&(t.pathname="/"+n.slice(1).join("/")),t}function Z(e,t){const n=m(),a=(t==null?void 0:t.locale)??n,l=new URL(e,g()),o=d(l,{locale:a});return e.startsWith("/")&&l.origin===o.origin?a!==n&&d(l,{locale:n}).origin!==o.origin?o.href:o.pathname+o.search+o.hash:o.href}export{R as a,Y as d,m as g,M as i,Z as l,B as s};
