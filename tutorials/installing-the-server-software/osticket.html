<!doctype html>
<html lang="%paraglide.lang%" dir="%paraglide.textDirection%">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="/favicon.png" />
        <link rel="icon" href="/favicon.ico">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link href="../../_app/immutable/assets/2.DtYUWTDY.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/helpers.B5eUVdjS.css" rel="stylesheet">
		<link rel="modulepreload" href="../../_app/immutable/entry/start.BpR0p8s-.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Bl50Bi-o.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/BJWCS8Sb.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DpztGpZh.js">
		<link rel="modulepreload" href="../../_app/immutable/entry/app.BKEyNlll.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/baYNcSo_.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DU5Ugrrm.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/D3q6MvWc.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DQRDZVgM.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/B5CHsHiw.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/0.BMdIo-wV.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/CcJeNutm.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/2.C9JqmLcS.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/BS4vKAfn.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/G2dfQZB4.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Bj5dAQ4C.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/UIKM_j6o.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/CIf1_GiV.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/C4iSkGZK.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/3.4t9CF5MI.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/7.NQxYohVJ.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/D3WxHELb.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/C1GzZsZA.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Cqa9dqDS.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/BMATRHYP.js"><!--[--><meta name="description" content="In this section we consider installing various software on the server."/> <!--[!--><!--]--> <!--[!--><!--]--> <!--[--><meta property="og:description" content="In this section we consider installing various software on the server."/><!--]--> <meta property="og:image" content="/_app/immutable/assets/logo_white.BLIrTakm.svg"/> <meta property="og:url" content="https://hostvds.com/tutorials"/> <link href="https://fonts.googleapis.com/css2?family=Epilogue:ital,wght@0,100..900;1,100..900&amp;family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&amp;display=swap&amp;family=Fira+Code:wght@300..700&amp;family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000" rel="stylesheet"/><!--]--><!--[--><meta name="keywords"/> <meta property="og:title" content=""/> <!--[!--><!--]--> <!--[!--><!--]--> <meta property="og:url" content="https://tutorials.hostvds.com"/><!--]--><title>Installing the server software | Community Tutorials by HostVDS.com</title>
	</head>
	<body data-sveltekit-reload>
		<div style="display: contents"><!--[--><!--[--><!----><!--[--><!----><div style="display:none"><!--[--><a href="/tutorials/installing-the-server-software/osticket">en</a><a href="/ru/tutorials/installing-the-server-software/osticket">ru</a><!--]--></div> <!----><main class="m-auto h-full min-h-screen w-full px-0 2xl:container container"><div class="flex h-full min-h-screen w-full flex-row gap-0 pt-[135px] md:gap-1 lg:gap-3 lg:px-5"><div class="fixed top-0 right-0 left-0 z-10 flex h-[118px]"><div class="hostvds-bg flex w-full flex-row px-5 will-change-scroll md:px-3 lg:px-0"><div class="container m-auto flex flex-row items-center justify-between text-white"><div class="flex flex-row items-center text-xl"><a href="/tutorials/" class="flex flex-row items-center"><!--[--><img src="/_app/immutable/assets/logo_white.BLIrTakm.svg" alt="HostVDS Community Tutorials" class="hidden h-[20px] w-[126px] md:inline md:h-[30px] md:w-[190px]"/> <img src="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20width='380px'%20height='380px'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xml:space='preserve'%20xmlns:serif='http://www.serif.com/'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;'%3e%3cg%20transform='matrix(1,0,0,1,-17630,-4807)'%3e%3cg%20id='Logo-icon'%20serif:id='Logo%20icon'%20transform='matrix(0.884676,0,0,0.884676,1878.18,170.741)'%3e%3crect%20x='17805.2'%20y='5240.63'%20width='429.536'%20height='429.536'%20style='fill:none;'/%3e%3cg%20transform='matrix(0.581816,0,0,0.581816,15867.9,6019.25)'%3e%3cg%20transform='matrix(0.701781,0,0,0.701781,583.718,-1268.71)'%3e%3ccircle%20cx='4207.63'%20cy='488.566'%20r='215.878'%20style='fill:url(%23_Linear1);'/%3e%3c/g%3e%3cg%20transform='matrix(0.676336,0,0,0.676336,1064.2,-1293.77)'%3e%3cpath%20d='M3783.51,480C3783.51,321.048%203912.56,192%204071.51,192C4230.46,192%204359.51,321.048%204359.51,480C4359.51,638.952%204230.46,768%204071.51,768L3655.5,768C3596.09,768%203539.12,744.401%203497.11,702.395C3455.11,660.388%203431.51,603.416%203431.51,544.01L3431.51,480L3431.51,544C3431.51,641.137%203510.37,720%203607.51,720C3704.64,720%203783.51,641.137%203783.51,544L3783.51,480Z'%20style='fill:url(%23_Radial2);'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='_Linear1'%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(246.718,354.276,-354.276,246.718,4084.27,311.428)'%3e%3cstop%20offset='0'%20style='stop-color:rgb(32,210,242);stop-opacity:1'/%3e%3cstop%20offset='1'%20style='stop-color:rgb(13,188,220);stop-opacity:1'/%3e%3c/linearGradient%3e%3cradialGradient%20id='_Radial2'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(-608,502.591,-502.591,-608,4263.51,265.409)'%3e%3cstop%20offset='0'%20style='stop-color:rgb(142,247,249);stop-opacity:1'/%3e%3cstop%20offset='0.21'%20style='stop-color:rgb(109,234,247);stop-opacity:1'/%3e%3cstop%20offset='0.43'%20style='stop-color:rgb(75,221,245);stop-opacity:1'/%3e%3cstop%20offset='1'%20style='stop-color:rgb(59,215,244);stop-opacity:1'/%3e%3c/radialGradient%3e%3c/defs%3e%3c/svg%3e" alt="HostVDS Community Tutorials" class="inline h-[60px] w-auto md:hidden"/><!----><!--]--></a><!----></div> <div class="md:text-md flex flex-row items-center gap-2 text-xs font-light md:gap-8"><div class="md:text-md hidden flex-row items-center gap-2 text-xs font-light md:flex md:gap-10"><a href="/tutorials/" class="flex flex-col items-center uppercase transition-opacity hover:opacity-75"><!--[--><div class="mt-1 ml-2 align-middle">Topics</div><!----><!--]--></a><!----> <a class="flex flex-row items-center uppercase transition-opacity hover:opacity-75" target="_blank" rel="external" href="https://hostvds.com"><div class="mt-1 ml-2 align-middle">Products</div> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-external-link mt-[2px] ml-[2px] h-[10px] w-[10px]"><!--[--><!----><path d="M15 3h6v6"><!----></path><!----><!----><path d="M10 14 21 3"><!----></path><!----><!----><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"><!----></path><!----><!--]--><!----><!----></svg><!----></a></div> <div class="md:text-md flex flex-row items-center gap-2 text-xs font-light md:gap-3"><a class="hidden flex-col items-center transition-opacity hover:opacity-75 md:flex" target="_blank" rel="external" href="https://hostvds.com/login"><!--[!--><button data-slot="button" class="focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive inline-flex shrink-0 items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm outline-none transition-all focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&amp;_svg:not([class*='size-'])]:size-4 [&amp;_svg]:pointer-events-none [&amp;_svg]:shrink-0 text-primary-foreground shadow-xs h-9 px-4 py-2 has-[>svg]:px-3 w-full bg-cyan-400 font-light uppercase hover:bg-cyan-400 hover:opacity-85" type="button"><!---->Sing in<!----></button><!--]--><!----></a> <a class="flex flex-col items-center uppercase transition-opacity hover:opacity-75" target="_blank" rel="external" href="https://hostvds.com/register"><!--[!--><button data-slot="button" class="focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive inline-flex shrink-0 items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm outline-none transition-all focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&amp;_svg:not([class*='size-'])]:size-4 [&amp;_svg]:pointer-events-none [&amp;_svg]:shrink-0 text-primary-foreground h-9 has-[>svg]:px-3 w-full border-cyan-500 bg-transparent p-0 font-light uppercase shadow-none hover:bg-cyan-400 hover:opacity-85 md:border-[1px] md:p-4" type="button"><!---->Sing up<!----></button><!--]--><!----></a> <a class="ml-1 flex flex-col items-center uppercase transition-opacity hover:opacity-75" target="_blank" rel="external" href="https://github.com/HostVDS-com/tutorials"><img src="data:image/svg+xml,%3csvg%20width='98'%20height='96'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M48.854%200C21.839%200%200%2022%200%2049.217c0%2021.756%2013.993%2040.172%2033.405%2046.69%202.427.49%203.316-1.059%203.316-2.362%200-1.141-.08-5.052-.08-9.127-13.59%202.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015%204.934.326%207.523%205.052%207.523%205.052%204.367%207.496%2011.404%205.378%2014.235%204.074.404-3.178%201.699-5.378%203.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283%200-5.378%201.94-9.778%205.014-13.2-.485-1.222-2.184-6.275.486-13.038%200%200%204.125-1.304%2013.426%205.052a46.97%2046.97%200%200%201%2012.214-1.63c4.125%200%208.33.571%2012.213%201.63%209.302-6.356%2013.427-5.052%2013.427-5.052%202.67%206.763.97%2011.816.485%2013.038%203.155%203.422%205.015%207.822%205.015%2013.2%200%2018.905-11.404%2023.06-22.324%2024.283%201.78%201.548%203.316%204.481%203.316%209.126%200%206.6-.08%2011.897-.08%2013.526%200%201.304.89%202.853%203.316%202.364%2019.412-6.52%2033.405-24.935%2033.405-46.691C97.707%2022%2075.788%200%2048.854%200z'%20fill='%23fff'/%3e%3c/svg%3e" alt="GitHub" class="h-3 md:h-4"/></a> <div class="ml-1 flex flex-col items-center"><div class="flex flex-row items-center align-baseline"><!--[--><div class="relative w-16_ svelte-j3xm7p"><button type="button" class="flex w-full cursor-pointer items-center justify-between rounded text-white transition-opacity hover:opacity-75 svelte-j3xm7p"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-globe h-4 w-4"><!--[--><!----><circle cx="12" cy="12" r="10"><!----></circle><!----><!----><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"><!----></path><!----><!----><path d="M2 12h20"><!----></path><!----><!--]--><!----><!----></svg><!----> <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-chevron-down ml-[1px]"><!--[--><!----><path d="m6 9 6 6 6-6"><!----></path><!----><!--]--><!----><!----></svg><!----></button> <!--[!--><!--]--></div><!--]--></div></div></div></div></div></div><!----></div> <!--[--><div class="relative hidden md:flex md:w-5/12 lg:w-4/12"><div class="w-full"><div class="sticky top-[135px] flex flex-col gap-2 p-2"><!--[!--><div class="mb-2 flex flex-col gap-5"><div class="px-2 text-xl font-bold text-gray-800">Topics</div></div> <div class="flex flex-col gap-1"><!--[--><a href="/tutorials/linux-basics" class="flex cursor-pointer flex-col rounded px-3 py-2 text-gray-800 hover:bg-gray-200"><!--[--><div class="text-md font-semibold">Linux Basics</div><!----><!--]--></a><!--]--></div> <div class="mt-10 h-full"></div> <div class="flex w-full flex-col gap-1 px-3 text-xs"><a class="flex flex-col text-gray-800 hover:text-sky-500" href="https://hostvds.com" rel="external" target="_blank"><div class="flex w-full flex-col gap-1 text-xs">Community Tutorials by HostVDS</div></a></div> <div class="flex flex-col gap-1 px-3 align-middle text-xs"><a rel="external" href="https://github.com/HostVDS-com/tutorials/blob/main/topics/installing-the-server-software/osticket/en.md" target="_blank" class="flex flex-row items-center text-gray-800 hover:text-sky-500"><span>Contribute</span> <img src="data:image/svg+xml,%3csvg%20width='98'%20height='96'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M48.854%200C21.839%200%200%2022%200%2049.217c0%2021.756%2013.993%2040.172%2033.405%2046.69%202.427.49%203.316-1.059%203.316-2.362%200-1.141-.08-5.052-.08-9.127-13.59%202.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015%204.934.326%207.523%205.052%207.523%205.052%204.367%207.496%2011.404%205.378%2014.235%204.074.404-3.178%201.699-5.378%203.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283%200-5.378%201.94-9.778%205.014-13.2-.485-1.222-2.184-6.275.486-13.038%200%200%204.125-1.304%2013.426%205.052a46.97%2046.97%200%200%201%2012.214-1.63c4.125%200%208.33.571%2012.213%201.63%209.302-6.356%2013.427-5.052%2013.427-5.052%202.67%206.763.97%2011.816.485%2013.038%203.155%203.422%205.015%207.822%205.015%2013.2%200%2018.905-11.404%2023.06-22.324%2024.283%201.78%201.548%203.316%204.481%203.316%209.126%200%206.6-.08%2011.897-.08%2013.526%200%201.304.89%202.853%203.316%202.364%2019.412-6.52%2033.405-24.935%2033.405-46.691C97.707%2022%2075.788%200%2048.854%200z'%20fill='%2324292f'/%3e%3c/svg%3e" alt="GitHub" class="ml-[4px] h-3 w-3"/></a></div><!--]--></div><!----></div></div><!--]--> <div class="mx-auto flex h-full w-full p-3 pb-10"><div class="flex w-full flex-col"><div class="flex flex-row tracking-[-0.02em]"><!----><!----><nav data-slot="breadcrumb" class="" aria-label="breadcrumb"><!----><ol data-slot="breadcrumb-list" class="text-muted-foreground flex flex-wrap gap-1.5 break-words text-sm sm:gap-2.5 flex-col items-start md:flex-row md:items-center"><!--[--><!----><li data-slot="breadcrumb-item" class="inline-flex items-center gap-1.5"><!----><!--[!--><a data-slot="breadcrumb-link" class="hover:text-foreground transition-colors" href="/tutorials/"><!---->Topics<!----></a><!--]--><!----><!----></li><!----> <!----><li data-slot="breadcrumb-separator" role="presentation" aria-hidden="true" class="[&amp;>svg]:size-3.5 hidden md:inline"><!--[--><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-chevron-right"><!--[--><!----><path d="m9 18 6-6-6-6"><!----></path><!----><!--]--><!----><!----></svg><!----><!--]--></li><!----> <!----><li data-slot="breadcrumb-item" class="items-center gap-1.5 line-clamp-1 max-w-96 text-ellipsis"><!--[!-->Installing the server software<!--]--><!----></li><!----><!--]--> <!--[!--><!--]--><!----></ol><!----><!----></nav><!----><!----></div> <div class="flex w-full flex-row py-5"><!--[--><!----><!--[!--><div class="w-full"><div class="flex max-w-[900px] flex-col gap-5"><!----><div class="mb-2 flex w-full flex-col gap-5"><!----><!--[--><!--[--><div class="flex flex-col gap-2"><div class="mt-4 flex flex-col gap-5"><h2 class="text-4xl font-semibold">This article hasn't been translated to your language yet</h2> <div class="text-lg font-semibold">See in other languages:</div></div> <!--[--><div class="flex flex-row gap-2"><span class="font-semibold uppercase">ru</span> <a href="/ru/tutorials/installing-the-server-software/osticket" class="flex flex-row items-center gap-2 text-sky-700 transition-opacity duration-75 hover:opacity-70"><span>Как установить osTicket на Ubuntu 22.04</span></a></div><!--]--> <div class="flex flex-col gap-2"><div class="flex flex-col gap-2"><div class="my-4 flex flex-col gap-5"><a target="_blank" class="text-sky-700 transition-opacity duration-75 hover:opacity-70" href="https://github.com/HostVDS-com/tutorials/tree/main/topics/installing-the-server-software/osticket"><div class="text-md font-semibold">Help with translation</div></a></div></div></div></div><!--]--><!--]--> <!--[!--><!--]--><!----><!----></div><!----></div></div><!--]--><!----><!--]--><!----></div></div></div> <!--[!--><!--]--></div></main><!----><!----><!--]--><!----><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_z520i = {
						base: new URL("../..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../../_app/immutable/entry/start.BpR0p8s-.js"),
						import("../../_app/immutable/entry/app.BKEyNlll.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 2, 3, 7],
							data: [null,{type:"data",data:{collection:{en:[{slug:"databases",title:"Databases",description:"A database is an ordered data set that is stored and accessed electronically. It helps to store and manage large amounts of structured and unstructured information. There are various database management systems (DBMS) that provide a user and programming interface for working. SQL, a structured query language, is used to work with databases. There are different types of DBMS: relational, document-oriented, graph and others. The most famous MySQL, PostgreSQL, Oracle are relational DBMSs.\n",tutorials:[]},{slug:"installing-the-server-software",title:"Installing the server software",description:"In this section we consider installing various software on the server.",tutorials:[]},{slug:"linux-basics",title:"Linux Basics",description:"Linux is a free and open source operating system based on the Linux kernel.",tutorials:[{slug:"ssh-key-generation",tags:["linux","ubuntu","debian","windows","ssh","ssh-keygen","openssh","puttygen","ed25519","rsa","ecdsa"],title:"SSH keys generation",content:"# SSH keys generation\n\n##  Benefits of using SSH keys\nSSH (Secure Shell) is a network protocol used for secure communication and remote control of hosts. The protocol is used in various areas, from server administration and working with cloud hosting to interacting with databases and corporate systems. One of the key features of SSH is the authentication mechanism that uses a private and public key pair. In this article, we will look at how key generation works, explaining in detail the process of creating and configuring additional key parameters on different operating systems.\n\nUsing SSH keys is significantly more secure than using a password. This is primarily because passwords can be guessed through brute force attacks, whereas a private key is a long and random sequence of data that is almost impossible to guess. In addition, unlike a password, the private key is not transmitted over the network — only the fact that it is used is verified by the server. \nAnother important advantage is the ability to configure additional security settings, such as the use of passphrases to protect private keys.\n\n## Key encryption algorithms\n\nSSH provides support for a variety of encryption algorithms to ensure secure communication and authentication. The most common are RSA, Ed25519, ECDSA, and DSA.  \nToday, it is preferable to use the modern Ed25519 algorithm, designed for high performance, small key sizes, and strong security. It is based on the Curve25519 elliptic curve and uses deterministic key generation to eliminate randomness vulnerabilities.\n\nThe RSA algorithm is an example of a strong encryption algorithm, and its security is based on the computational complexity of factoring large integers, specifically the product of two large primes. RSA with a 2048-bit key is considered secure against current threats, while 4096-bit keys provide protection against predicted future advances in computing. It is the most common key today. \n\nECDSA is a variant of the elliptic curve digital signature algorithm (DSA). It provides strong security due to its smaller key sizes compared to RSA, making it effective for systems with limited bandwidth or storage. It is faster than RSA, but provides less reliable protection than Ed25519 due to certain problems in the implementation of the algorithm. \n\nThe DSA algorithm is not recommended for use in modern systems due to the low level of security.  \n\nThe table shows a comparison of algorithms:  \n\n| Algorithm | Key size | Performance | Security | Example of use |\n|-----:|---------------|---------------|---------------|---------------|\n|Ed25519 | 256 bit | High | Reliable  | Modern systems, systems with limited resources |\n|RSA | 2048 – 4096 bits | Average | Reliable (when using a 2048-bit key) | General Purpose Systems |\n|ECDSA | 256 – 521 bits | Average | Reliable | Modern systems, systems with limited resources |\n|DSA | 1024 bit | Low | Unreliable | Legacy systems |\n\nWe will consider examples of generating Ed25519 and RSA keys, the size of which we will choose 2048 bits.\n\n## Generation of public and private keys\n\nThe OpenSSH client is already included in the core software in Windows 10/11, Ubuntu, Debian. Let's consider generating keys on a client machine using it.  \nFor Windows, press Win+R, type cmd. For Ubuntu/Debian, start the terminal with the keyboard shortcut Ctrl+Alt+T.  \nThe key generation command looks like this:\n```\nssh-keygen [options]\n```\nAs options, you can use:  \n**–t**  [ dsa | ecdsa | ed25519 | rsa ]  \nSpecifies the type of cryptographic algorithm for the key.\n**-b** [key_size]  \nSpecifies the length of the key in bits.  \n**-C** [commentary]  \nAdds a comment to the key, helping to identify the key.  Does not affect key security.  \n**-f** [file_path]  \nSpecifies the path and file name to save the generated keys.  \n**-N** [key_password]  \nSets a password to protect the private key.  \n**-q**  \nDisables the display of messages about the key generation process. Useful in automated scenarios.  \n**-v**  Enables verbose output mode. Useful for debugging if you want to follow every step of a command.  \n**-P** [old_password]  \nChanges the password of the private key. In combination with the **-f** option, sets a new password for the existing private key. \n\nAs an example, let's create an RSA key on Windows with the following parameters:  \n• key length 2048 bits  \n• Comment \"Win-Ubuntu\"  \n• Private key password: ssh  \n• Key Name: id_rsa2048  \n• Key location: C:\\Users\\jetcry\\ssh_keys\\  \n\n> The \"ssh_keys\" folder must be pre-created. \n\nCommand to create a key with the specified parameters: \n```\nssh-keygen –t rsa –b 2048 –C Win-Ubuntu –N ssh –f C:\\Users\\jetcry\\ssh_keys\\id_rsa2048\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"ssh keygen \" src=/topics/linux-basics/ssh-key-generation/static/en_image_01.png  width=1024>\u003C/p>\n\nLet's take a look at the process of creating the ed25519 key without specifying parameters:\n```\nssh-keygen –t ed25519\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"ssh keygen ed25519\" src=/topics/linux-basics/ssh-key-generation/static/en_image_02.png width=1024>\u003C/p>\nHere we have specified the key name, password (passphrase).\nThe key that was created was saved in the user's root folder.\nFor Ububntu/Debian, the command syntax is similar. Let's create a key for Ubuntu. Let's check that it appeared in the .ssh home directory. \n\u003Cp align=\"center\">\u003Cimg alt=\"ssh-keygen ubuntu\" src=/topics/linux-basics/ssh-key-generation/static/en_image_03.png width=1024>\u003C/p>\nThe key pairs are generated and are located in the .ssh directory of the current Ubuntu user.\n\n## Key Generation with PuttyGen\n\nIn case you do not have OpenSSH installed, for example, on Windows 7 it is not included in the basic software set, an alternative way to create a key is to use the PuttyGen application, available for download from the official website [Putty](https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html).\n\nSelect the key type and start generating it. In our case, we chose the key type – RSA, the key length is 2048 bits.\n\u003Cp align=\"center\">\u003Cimg alt=\"Puttygen\" src=/topics/linux-basics/ssh-key-generation/static/en_image_04.png width=600>\u003C/p>\nDuring generation, you need to randomly move the mouse across the screen, this will create a unique key. \n\u003Cp align=\"center\">\u003Cimg alt=\"Puttygen_move_mouse\" src=/topics/linux-basics/ssh-key-generation/static/en_image_05.png width=600>\u003C/p>\nOnce the key has been created, it can be protected with a passphrase. After that, you need to save the public and private keys, preferably create a .ssh folder for the current user beforehand, e.g. C:\\Users\\jetcry\\.ssh\n\u003Cp align=\"center\">\u003Cimg alt=\"Puttygen_save key\" src=/topics/linux-basics/ssh-key-generation/static/en_image_06.png width=600>\u003C/p>\nHere's how Windows displays the keys you've created:\n\u003Cp align=\"center\">\u003Cimg alt=\"Puttygen_end\" src=/topics/linux-basics/ssh-key-generation/static/en_image_07.png width=600>\u003C/p>\nThe key generation is complete. \n\n## Conclusion\n\n1. The use of SSH keys is now a standard for ensuring information security requirements.\n2. Most commonly, OpenSSH is utilized to generate keys. The command is \"ssh-keygen\".\n3. The ssh-keygen options allow you to extensively control the parameters of the keys that are generated.\n4. An alternative option is PuttyGen.\n5. It is preferable to use ED25519 or RSA keys with a key length of at least 2048 bits.\n",updatedAt:new Date(1749222605571),markdown:"\n\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"benefits-of-using-ssh-keys\"\n>Benefits of using SSH keys\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>SSH (Secure Shell) is a network protocol used for secure communication and remote control of hosts. The protocol is used in various areas, from server administration and working with cloud hosting to interacting with databases and corporate systems. One of the key features of SSH is the authentication mechanism that uses a private and public key pair. In this article, we will look at how key generation works, explaining in detail the process of creating and configuring additional key parameters on different operating systems.\u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Using SSH keys is significantly more secure than using a password. This is primarily because passwords can be guessed through brute force attacks, whereas a private key is a long and random sequence of data that is almost impossible to guess. In addition, unlike a password, the private key is not transmitted over the network — only the fact that it is used is verified by the server.\nAnother important advantage is the ability to configure additional security settings, such as the use of passphrases to protect private keys.\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"key-encryption-algorithms\"\n>Key encryption algorithms\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>SSH provides support for a variety of encryption algorithms to ensure secure communication and authentication. The most common are RSA, Ed25519, ECDSA, and DSA.\u003Cbr>\nToday, it is preferable to use the modern Ed25519 algorithm, designed for high performance, small key sizes, and strong security. It is based on the Curve25519 elliptic curve and uses deterministic key generation to eliminate randomness vulnerabilities.\u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>The RSA algorithm is an example of a strong encryption algorithm, and its security is based on the computational complexity of factoring large integers, specifically the product of two large primes. RSA with a 2048-bit key is considered secure against current threats, while 4096-bit keys provide protection against predicted future advances in computing. It is the most common key today. \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>ECDSA is a variant of the elliptic curve digital signature algorithm (DSA). It provides strong security due to its smaller key sizes compared to RSA, making it effective for systems with limited bandwidth or storage. It is faster than RSA, but provides less reliable protection than Ed25519 due to certain problems in the implementation of the algorithm. \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>The DSA algorithm is not recommended for use in modern systems due to the low level of security.  \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">The table shows a comparison of algorithms:  \u003C/p>\n\u003Ctable class=\"my-5\">\n\u003Cthead>\n\u003Ctr>\n\u003Cth align=\"right\" class=\"text-md\">Algorithm\u003C/th>\n\u003Cth class=\"text-md\">Key size\u003C/th>\n\u003Cth class=\"text-md\">Performance\u003C/th>\n\u003Cth class=\"text-md\">Security\u003C/th>\n\u003Cth class=\"text-md\">Example of use\u003C/th>\n\u003C/tr>\n\u003C/thead>\n\u003Ctbody>\n\u003Ctr>\n\u003Ctd align=\"right\" class=\"text-sm\">Ed25519\u003C/td>\n\u003Ctd class=\"text-sm\">256 bit\u003C/td>\n\u003Ctd class=\"text-sm\">High\u003C/td>\n\u003Ctd class=\"text-sm\">Reliable\u003C/td>\n\u003Ctd class=\"text-sm\">Modern systems, systems with limited resources\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd align=\"right\" class=\"text-sm\">RSA\u003C/td>\n\u003Ctd class=\"text-sm\">2048 – 4096 bits\u003C/td>\n\u003Ctd class=\"text-sm\">Average\u003C/td>\n\u003Ctd class=\"text-sm\">Reliable (when using a 2048-bit key)\u003C/td>\n\u003Ctd class=\"text-sm\">General Purpose Systems\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd align=\"right\" class=\"text-sm\">ECDSA\u003C/td>\n\u003Ctd class=\"text-sm\">256 – 521 bits\u003C/td>\n\u003Ctd class=\"text-sm\">Average\u003C/td>\n\u003Ctd class=\"text-sm\">Reliable\u003C/td>\n\u003Ctd class=\"text-sm\">Modern systems, systems with limited resources\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd align=\"right\" class=\"text-sm\">DSA\u003C/td>\n\u003Ctd class=\"text-sm\">1024 bit\u003C/td>\n\u003Ctd class=\"text-sm\">Low\u003C/td>\n\u003Ctd class=\"text-sm\">Unreliable\u003C/td>\n\u003Ctd class=\"text-sm\">Legacy systems\u003C/td>\n\u003C/tr>\n\u003C/tbody>\n\u003C/table>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>We will consider examples of generating Ed25519 and RSA keys, the size of which we will choose 2048 bits.\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"generation-of-public-and-private-keys\"\n>Generation of public and private keys\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>The OpenSSH client is already included in the core software in Windows 10/11, Ubuntu, Debian. Let’s consider generating keys on a client machine using it.\u003Cbr>\nFor Windows, press Win+R, type cmd. For Ubuntu/Debian, start the terminal with the keyboard shortcut Ctrl+Alt+T.\u003Cbr>\nThe key generation command looks like this:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">ssh\u003C/span>-keygen\u003Cspan class=\"hljs-meta\"> [options]\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">As options, you can use:\u003Cbr>\n\u003Cstrong>–t\u003C/strong>  [ dsa | ecdsa | ed25519 | rsa ]\u003Cbr>\nSpecifies the type of cryptographic algorithm for the key.\n\u003Cstrong>-b\u003C/strong> [key_size]\u003Cbr>\nSpecifies the length of the key in bits.\u003Cbr>\n\u003Cstrong>-C\u003C/strong> [commentary]\u003Cbr>\nAdds a comment to the key, helping to identify the key.  Does not affect key security.\u003Cbr>\n\u003Cstrong>-f\u003C/strong> [file_path]\u003Cbr>\nSpecifies the path and file name to save the generated keys.\u003Cbr>\n\u003Cstrong>-N\u003C/strong> [key_password]\u003Cbr>\nSets a password to protect the private key.\u003Cbr>\n\u003Cstrong>-q\u003C/strong>\u003Cbr>\nDisables the display of messages about the key generation process. Useful in automated scenarios.\u003Cbr>\n\u003Cstrong>-v\u003C/strong>  Enables verbose output mode. Useful for debugging if you want to follow every step of a command.\u003Cbr>\n\u003Cstrong>-P\u003C/strong> [old_password]\u003Cbr>\nChanges the password of the private key. In combination with the \u003Cstrong>-f\u003C/strong> option, sets a new password for the existing private key. \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>As an example, let’s create an RSA key on Windows with the following parameters:\u003Cbr>\n• key length 2048 bits\u003Cbr>\n• Comment “Win-Ubuntu”\u003Cbr>\n• Private key password: ssh\u003Cbr>\n• Key Name: id_rsa2048\u003Cbr>\n• Key location: C:\\Users\\jetcry\\ssh_keys\\  \u003C/p>\n\u003Cblockquote>\n\u003Cp class=\"mt-2 mb-2 text-md\">The “ssh_keys” folder must be pre-created. \u003C/p>\n\u003C/blockquote>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Command to create a key with the specified parameters: \u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-variable\">ssh\u003C/span>\u003Cspan class=\"hljs-operator\">-\u003C/span>\u003Cspan class=\"hljs-variable\">keygen\u003C/span> \u003Cspan class=\"hljs-operator\">-\u003C/span>\u003Cspan class=\"hljs-variable\">t\u003C/span> \u003Cspan class=\"hljs-variable\">rsa\u003C/span> \u003Cspan class=\"hljs-operator\">-\u003C/span>\u003Cspan class=\"hljs-variable\">b\u003C/span> \u003Cspan class=\"hljs-number\">2048\u003C/span> \u003Cspan class=\"hljs-operator\">-\u003C/span>\u003Cspan class=\"hljs-built_in\">C\u003C/span> \u003Cspan class=\"hljs-variable\">Win\u003C/span>\u003Cspan class=\"hljs-operator\">-\u003C/span>\u003Cspan class=\"hljs-variable\">Ubuntu\u003C/span> \u003Cspan class=\"hljs-operator\">-\u003C/span>\u003Cspan class=\"hljs-built_in\">N\u003C/span> \u003Cspan class=\"hljs-variable\">ssh\u003C/span> \u003Cspan class=\"hljs-operator\">-\u003C/span>\u003Cspan class=\"hljs-variable\">f\u003C/span> \u003Cspan class=\"hljs-built_in\">C\u003C/span>\u003Cspan class=\"hljs-operator\">:\u003C/span>\\\u003Cspan class=\"hljs-variable\">Users\u003C/span>\\\u003Cspan class=\"hljs-variable\">jetcry\u003C/span>\\\u003Cspan class=\"hljs-type\">ssh_keys\u003C/span>\\\u003Cspan class=\"hljs-type\">id_rsa2048\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/ssh-key-generation/static/en_image_01.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"ssh keygen \"\n                            src=\"/topics/linux-basics/ssh-key-generation/static/en_image_01.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Let’s take a look at the process of creating the ed25519 key without specifying parameters:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>ssh-keygen -\u003Cspan class=\"hljs-built_in\">t\u003C/span> \u003Cspan class=\"hljs-symbol\">ed25519\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/ssh-key-generation/static/en_image_02.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"ssh keygen ed25519\"\n                            src=\"/topics/linux-basics/ssh-key-generation/static/en_image_02.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nHere we have specified the key name, password (passphrase).\nThe key that was created was saved in the user's root folder.\nFor Ububntu/Debian, the command syntax is similar. Let's create a key for Ubuntu. Let's check that it appeared in the .ssh home directory. \n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/ssh-key-generation/static/en_image_03.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"ssh-keygen ubuntu\"\n                            src=\"/topics/linux-basics/ssh-key-generation/static/en_image_03.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nThe key pairs are generated and are located in the .ssh directory of the current Ubuntu user.\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"key-generation-with-puttygen\"\n>Key Generation with PuttyGen\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>In case you do not have OpenSSH installed, for example, on Windows 7 it is not included in the basic software set, an alternative way to create a key is to use the PuttyGen application, available for download from the official website \u003Ca   href=\"https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html\"\n  rel=\"nofollow\"\n  class=\"text-sky-700 transition-opacity duration-75 hover:opacity-70\"\n  target=\"_blank\"\n>Putty\u003C/a>.\u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Select the key type and start generating it. In our case, we chose the key type – RSA, the key length is 2048 bits.\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/ssh-key-generation/static/en_image_04.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"Puttygen\"\n                            src=\"/topics/linux-basics/ssh-key-generation/static/en_image_04.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nDuring generation, you need to randomly move the mouse across the screen, this will create a unique key. \n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/ssh-key-generation/static/en_image_05.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"Puttygen_move_mouse\"\n                            src=\"/topics/linux-basics/ssh-key-generation/static/en_image_05.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nOnce the key has been created, it can be protected with a passphrase. After that, you need to save the public and private keys, preferably create a .ssh folder for the current user beforehand, e.g. C:\\Users\\jetcry\\.ssh\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/ssh-key-generation/static/en_image_06.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"Puttygen_save key\"\n                            src=\"/topics/linux-basics/ssh-key-generation/static/en_image_06.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nHere's how Windows displays the keys you've created:\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/ssh-key-generation/static/en_image_07.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"Puttygen_end\"\n                            src=\"/topics/linux-basics/ssh-key-generation/static/en_image_07.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nThe key generation is complete.\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"conclusion\"\n>Conclusion\u003C/h2>\n\u003Col>\n\u003Cli>The use of SSH keys is now a standard for ensuring information security requirements.\u003C/li>\n\u003Cli>Most commonly, OpenSSH is utilized to generate keys. The command is “ssh-keygen”.\u003C/li>\n\u003Cli>The ssh-keygen options allow you to extensively control the parameters of the keys that are generated.\u003C/li>\n\u003Cli>An alternative option is PuttyGen.\u003C/li>\n\u003Cli>It is preferable to use ED25519 or RSA keys with a key length of at least 2048 bits.\u003C/li>\n\u003C/ol>\n",description:"In this article we will consider key encryption algorithms. We will generate public and private keys using ssh-keygen and PuttyGen.",cover:"/topics/linux-basics/ssh-key-generation/static/ru_image_00.webp",tableOfContents:[{title:"Benefits of using SSH keys",level:2,id:"benefits-of-using-ssh-keys"},{title:"Key encryption algorithms",level:2,id:"key-encryption-algorithms"},{title:"Generation of public and private keys",level:2,id:"generation-of-public-and-private-keys"},{title:"Key Generation with PuttyGen",level:2,id:"key-generation-with-puttygen"},{title:"Conclusion",level:2,id:"conclusion"}]}]}],ru:[{slug:"databases",title:"Базы данных",description:"База данных — это упорядоченный набор данных, который хранится и доступен в электронном виде. Она помогает хранить и управлять большим количеством структурированной и неструктурированной информации. Существуют различные системы управления базами данных (СУБД), которые обеспечивают пользовательский и программный интерфейс для работы. Для работы с базами данных применяется SQL (Structured Query Language) —язык структурированных запросов. Существуют различные виды СУБД: реляционные, документоориентированные, графовые и другие. Наиболее известные MySQL, PostgreSQL, Oracle относятся к реляционным СУБД.\n",tutorials:[{slug:"how-to-install-postgresql-on-ubuntu-server",tags:["postgresql","pgadmin","ubuntu","ubuntu-24.04"],title:"Как установить PostgreSQL 17 на Ubuntu 24.04",content:"# Как установить PostgreSQL 17 на Ubuntu 24.04\n\nСистема управления базами данных (СУБД) PostgreSQL 17 является бесплатной объектно-реляционной системой управления базами данных с открытым исходным кодом. Она поддерживает большой набор различных типов данных и многопользовательскую работу. СУБД является кроссплатформенной и может быть установлена на все популярные операционные системы. PostgreSQL соответствует требованиям ACID (atomicity, consistency, isolation, durability или атомарность, согласованность, изоляция, устойчивость) для проведения транзакций и обеспечения сохранности данных.  \nВ статье мы рассмотрим установку, первоначальную настройку и выполнение удаленного подключения к серверу с помощью pgAdmin. \n\n## Подготовка системы к установке\n\nПеред началом установки обновим список пакетов и установим последние версии обновлений командой: \n\n```\nsudo apt update && sudo apt upgrade -y\n```\n\nУстановим необходимые пакеты:\n\n```\nsudo apt install -y curl ca-certificates\n```\n\nВ этой команде:  \n•\tcurl — кроссплатформенный инструмент командной строки для передачи данных (с помощью протоколов FTP, TFTP, SCP, SFTP и др.) и работы с URL-адресами.  \n•\tca-certificates — пакет, необходимый для безопасной передачи данных и подтверждения подлинности сертификатов.  \nСоздадим директорию для ключей репозитория:\n\n```\nsudo install -d /usr/share/postgresql-common/pgdg\n```\nСкачаем и добавим ключ репозитория:\n\n```\nsudo curl -o /usr/share/postgresql-common/pgdg/apt.postgresql.org.asc --fail https://www.postgresql.org/media/keys/ACCC4CF8.asc\n```\nДобавим репозиторий в список источников APT:\n\n```\necho \"deb [signed-by=/usr/share/postgresql-common/pgdg/apt.postgresql.org.asc] https://apt.postgresql.org/pub/repos/apt noble-pgdg main\" | sudo tee /etc/apt/sources.list.d/pgdg.list\n```\n\nСнова обновим список пакетов:\n\n```\nsudo apt update && sudo apt upgrade -y\n```\n\nПредварительная подготовка Вашей системы закончена.\n\n## Установка PostgreSQL 17\n\nТеперь установим PostgreSQL 17 и дополнительные модули, необходимые для работы: \n\n```\nsudo apt install -y postgresql-17 postgresql-client-17 postgresql-contrib\n```\n\nВ этой команде:  \n•\tpostgresql-17 — основной сервер базы данных.  \n•\tpostgresql-client-17 — клиентские утилиты для взаимодействия с сервером.  \n•\tpostgresql-contrib — дополнительные расширения и утилиты.  \nПосле установки PostgreSQL должен автоматически запуститься. Проверим, что служба активна:\n```\nsudo systemctl status postgresql\n```\nВы должны увидеть сообщение, указывающее на активное состояние службы:\n\u003Cp align=\"center\">\u003Cimg alt=\"активное состояние службы postgresql\" src=/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_01.png width=1024>\u003C/p>\n\n## Защита базы данных\n\nПо умолчанию PostgreSQL использует одноранговую аутентификацию \"peer\", что означает, что доступ к базе данных осуществляется только от имени системного пользователя. Изначально удаленное подключение не поддерживается.\nНастроим пароль для базового пользователя postgres. Заходим в базу данных: \n\n```\nsudo -u postgres psql\n```\nУкажем новый пароль **new_password** для пользователя по умолчанию postgres (обратите внимание, он в апострофах и строка обязательно завершается знаком ;)\n\n```\nALTER USER postgres WITH ENCRYPTED PASSWORD 'new_password';\n```\n\nСоздадим нового пользователя manager и укажем его пароль **manager_password**:\n\n```\nCREATE USER manager ENCRYPTED PASSWORD 'manager_password';\n```\nТеперь необходимо выйти из базы данных и включить доступ по паролю в конфигурационном файле pg_hba.conf. \nДля выхода из базы данных введите:\n\n```\n\\q\n```\n\nЗатем введите команду в командной строке Ubuntu:\n\n```\nsudo sed -i '/^local/s/peer/scram-sha-256/' /etc/postgresql/17/main/pg_hba.conf\n```\nПерезапустим PostgreSQL:\n\n```\nsudo systemctl restart postgresql\n```\n\nПробуем зайти в базу данных:\n\n```\nsudo -u postgres psql\n```\n\nПри входе теперь требуется ввести пароль.\n\n\u003Cp align=\"center\">\u003Cimg alt=\"необходим ввод пароля\" src=/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_02.png width=1024>\u003C/p>\n\n## Создание новой базы данных\n\nВ качестве примера создадим новую базу данных под именем **salers** и дадим права на ее управление пользователю **manager**\n\n\n```\nsudo -u postgres createdb salers -O manager\n```\n\nОбратите внимание, что пароль Вы вводите для пользователя postgres.\nЗаходим в базу данных уже как пользователь manager\n\n```\nsudo -u postgres psql -U manager -d salers\n```\n\nВ базе данных создадим таблицу менеджеры по продажам:\n\n```\nCREATE TABLE sales_managers (\n           manager_id SERIAL PRIMARY KEY,\n           first_name VARCHAR(50),\n           last_name VARCHAR(50),\n           date_of_employment DATE\n       );\n```\n\nЗаполним данные трех сотрудников для примера:\n\n```\nINSERT INTO sales_managers\n       (first_name, last_name, date_of_employment)\n       VALUES\n       ( 'Иван', 'Касаткин', '2024-11-15'),\n       ( 'Артём', 'Фролов', '2020-10-10'),\n       ( 'Юлия', 'Юсупова', '2019-12-17');\n\nSELECT * FROM sales_managers;\n```\n\n\u003Cp align=\"center\">\u003Cimg alt=\"тестовая база данных\" src=/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_03.png width=1024>\u003C/p>\n\n## Настройка удаленного доступа к PostgreSQL\n\nФайлы конфигурации для PostgreSQL 17 в Ubuntu 24.04 хранятся в подкаталоге _/etc/postgresql/17/main_.\nНас будут интересовать два файла: postgresql.conf и pg_hba.conf. Файл postgresql.conf является основным файлом конфигурации и определяет порт по умолчанию, который прослушивает сервер базы данных, максимальный объём памяти на операцию, прослушиваемые IP-адреса и другие параметры, необходимые для корректной работы системы управления базами данных.\nНастроим подключение к PostgreSQL с удаленного хоста. Откроем файл с помощью текстового редактора nano:\n\n```\nsudo nano  /etc/postgresql/17/main/postgresql.conf\n```\n\nНайдем раздел **«CONNECTIONS AND AUTHENTICATION»**\n\nРаскомментируем строчку listen_addresses и заменим 'localhost' на '*':\n\n```\nlisten_addresses = '*'\n```\n\n\u003Cp align=\"center\">\u003Cimg alt=\"Раскомментируем строчку listen_addresses\" src=/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_04.png width=1024>\u003C/p>\n\nЗвездочка указывает серверу PostgreSQL прослушивать все сетевые интерфейсы. Если Вы хотите, чтобы сервер базы данных прослушивал только определенные сетевые интерфейсы, укажите их IP-адреса через запятую, например:\n\n```\nlisten_addresses = ‘192.168.0.111, localhost, 10.10.10.150’\n```\n\nДля сохранения файла в редакторе nano: Ctrl+O. Соглашаемся с сохранением, нажимаем Enter. Выход: Ctrl+X.\n\nОтредактируем файл конфигурации **pg_hba.conf**. Он определяет, какие IP-адреса или диапазоны IP-адресов разрешены для подключения к серверу базы данных PostgreSQL. Также в нем указывается, какие учётные записи и механизмы аутентификации должны использоваться для регистрации пользователей.\nОткрываем его с помощью текстового редактора nano:\n\n```\nsudo nano /etc/postgresql/17/main/pg_hba.conf\n```\n\nРасскомментируем строчку host. Укажем,  к каким базам, каким пользователям и с каких IP-адресов возможен доступ. Так же укажем механизм аутентификации scram-sha-256.\nАутентификация SCRAM-SHA-256 описана в [RFC 7677](https://datatracker.ietf.org/doc/html/rfc7677). Она предотвращает перехват паролей в ненадежных соединениях и поддерживает хранение паролей на сервере в хешированной форме. Считается наиболее безопасным сегодня методом аутентификации. \n\n\u003Cp align=\"center\">\u003Cimg alt=\"Расскомментируем строчку host. Укажем,  к каким базам, каким пользователям и с каких IP-адресов возможен доступ\" src=/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_05.png width=1024>\u003C/p>\n\nПерезапускаем базу данных:\n\n```\nsudo systemctl restart postgresql\n```\n\nПроверим, прослушивает ли PostgreSQL порт 5432, который задан в настройках по умолчанию в файле postgresql.conf. Если Вы поменяете порт, то при проверке укажите его номер. Команда:\n\n```\nnetstat -ano | grep 5432\n```\n\n>Примечание: Если у Вас не установлен пакет net-tools, установите его командой:\n>```\n>sudo apt install net-tools\n>```\n\n\u003Cp align=\"center\">\u003Cimg alt=\"net-tools\" src=/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_06.png width=1024>\u003C/p>\n\nНа скриншоте видно, что порт 5432 занят процессом PostgreSQL, все настроено корректно.\n\n## Удаленное подключение к базе с помощью pgAdmin\n\nДля примера выполним подключение к серверу PostgreSQL с помощью pgAdmin. Загрузить и установить pgAdmin можно с [официального сайта](https://www.pgadmin.org/download/).  \nЗапускаем программу.\nВыбираем пункт «Add new server».\n\u003Cp align=\"center\">\u003Cimg alt=\"подключение через pgAdmin\" src=/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_07.png width=1024>\u003C/p>\n\nПереходим на вкладку Connections.\nЗаполняем наши данные. В примере я указываю IP-адрес и порт, который прослушивает сервер, имя базы данных, пользователя и его пароль.\n\n\u003Cp align=\"center\">\u003Cimg alt=\"указываем параметры подключения (IP-адрес и порт, который прослушивает сервер, имя базы данных, пользователя и его пароль)\" src=/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_08.png width=1024>\u003C/p>\n\nПосле того, как Вы сохраните параметры, подключение произойдет автоматически. Если Вы нажмете правой клавишей мыши на базе данных, то можете выбрать PSQL tools:\n\n\u003Cp align=\"center\">\u003Cimg alt=\"подключение выполнено успешно\" src=/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_09.png width=1024>\u003C/p>\n\nПосле этого Вы сможете работать с базой данных через PSQL:\n\n\u003Cp align=\"center\">\u003Cimg alt=\"Работа с базой данных через PSQL\" src=/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_10.png width=1024>\u003C/p>\n\n## Заключение\n\nМы установили PostgreSQL 17 на Ubuntu 24.04. Создали тестовую базу данных, пользователя, защитили доступ к базе данных с помощью пароля. Настроили удаленное подключение к PostgreSQL и протестировали корректность работы с помощью pgAdmin.\n",updatedAt:new Date(1749222605466),markdown:"\n\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Система управления базами данных (СУБД) PostgreSQL 17 является бесплатной объектно-реляционной системой управления базами данных с открытым исходным кодом. Она поддерживает большой набор различных типов данных и многопользовательскую работу. СУБД является кроссплатформенной и может быть установлена на все популярные операционные системы. PostgreSQL соответствует требованиям ACID (atomicity, consistency, isolation, durability или атомарность, согласованность, изоляция, устойчивость) для проведения транзакций и обеспечения сохранности данных.\u003Cbr>\nВ статье мы рассмотрим установку, первоначальную настройку и выполнение удаленного подключения к серверу с помощью pgAdmin. \u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"подготовка-системы-к-установке\"\n>Подготовка системы к установке\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Перед началом установки обновим список пакетов и установим последние версии обновлений командой: \u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt update &amp;&amp; \u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt upgrade -y\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Установим необходимые пакеты:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt install -y curl ca-certificates\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">В этой команде:\u003Cbr>\n•\tcurl — кроссплатформенный инструмент командной строки для передачи данных (с помощью протоколов FTP, TFTP, SCP, SFTP и др.) и работы с URL-адресами.\u003Cbr>\n•\tca-certificates — пакет, необходимый для безопасной передачи данных и подтверждения подлинности сертификатов.\u003Cbr>\nСоздадим директорию для ключей репозитория:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> install -d /usr/share/postgresql-common/pgdg\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Скачаем и добавим ключ репозитория:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> curl -o /usr/share/postgresql-common/pgdg/apt.postgresql.org.asc --fail https://www.postgresql.org/media/keys/ACCC4CF8.asc\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Добавим репозиторий в список источников APT:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">echo\u003C/span> \u003Cspan class=\"hljs-string\">&quot;deb [signed-by=/usr/share/postgresql-common/pgdg/apt.postgresql.org.asc] https://apt.postgresql.org/pub/repos/apt noble-pgdg main&quot;\u003C/span> | \u003Cspan class=\"hljs-built_in\">sudo\u003C/span> \u003Cspan class=\"hljs-built_in\">tee\u003C/span> /etc/apt/sources.list.d/pgdg.list\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Снова обновим список пакетов:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt update &amp;&amp; \u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt upgrade -y\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Предварительная подготовка Вашей системы закончена.\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"установка-postgresql-17\"\n>Установка PostgreSQL 17\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Теперь установим PostgreSQL 17 и дополнительные модули, необходимые для работы: \u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt install -y postgresql-17 postgresql-client-17 postgresql-contrib\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">В этой команде:\u003Cbr>\n•\tpostgresql-17 — основной сервер базы данных.\u003Cbr>\n•\tpostgresql-client-17 — клиентские утилиты для взаимодействия с сервером.\u003Cbr>\n•\tpostgresql-contrib — дополнительные расширения и утилиты.\u003Cbr>\nПосле установки PostgreSQL должен автоматически запуститься. Проверим, что служба активна:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl status postgresql\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Вы должны увидеть сообщение, указывающее на активное состояние службы:\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_01.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"активное состояние службы postgresql\"\n                            src=\"/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_01.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"защита-базы-данных\"\n>Защита базы данных\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>По умолчанию PostgreSQL использует одноранговую аутентификацию “peer”, что означает, что доступ к базе данных осуществляется только от имени системного пользователя. Изначально удаленное подключение не поддерживается.\nНастроим пароль для базового пользователя postgres. Заходим в базу данных: \u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> -u postgres psql\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Укажем новый пароль \u003Cstrong>new_password\u003C/strong> для пользователя по умолчанию postgres (обратите внимание, он в апострофах и строка обязательно завершается знаком ;)\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-keyword\">ALTER\u003C/span> \u003Cspan class=\"hljs-keyword\">USER\u003C/span> postgres \u003Cspan class=\"hljs-keyword\">WITH\u003C/span> \u003Cspan class=\"hljs-keyword\">ENCRYPTED\u003C/span> \u003Cspan class=\"hljs-keyword\">PASSWORD\u003C/span> \u003Cspan class=\"hljs-string\">&#x27;new_password&#x27;\u003C/span>;\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Создадим нового пользователя manager и укажем его пароль \u003Cstrong>manager_password\u003C/strong>:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-keyword\">CREATE\u003C/span> \u003Cspan class=\"hljs-keyword\">USER\u003C/span> manager \u003Cspan class=\"hljs-keyword\">ENCRYPTED\u003C/span> \u003Cspan class=\"hljs-keyword\">PASSWORD\u003C/span> \u003Cspan class=\"hljs-string\">&#x27;manager_password&#x27;\u003C/span>;\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Теперь необходимо выйти из базы данных и включить доступ по паролю в конфигурационном файле pg_hba.conf.\nДля выхода из базы данных введите:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\\\u003Cspan class=\"hljs-selector-tag\">q\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Затем введите команду в командной строке Ubuntu:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> sed -i \u003Cspan class=\"hljs-string\">&#x27;/^local/s/peer/scram-sha-256/&#x27;\u003C/span> /etc/postgresql/17/main/pg_hba.conf\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Перезапустим PostgreSQL:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl restart postgresql\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Пробуем зайти в базу данных:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> -u postgres psql\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">При входе теперь требуется ввести пароль.\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_02.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"необходим ввод пароля\"\n                            src=\"/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_02.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"создание-новой-базы-данных\"\n>Создание новой базы данных\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>В качестве примера создадим новую базу данных под именем \u003Cstrong>salers\u003C/strong> и дадим права на ее управление пользователю \u003Cstrong>manager\u003C/strong>\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> -u postgres createdb salers -O manager\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Обратите внимание, что пароль Вы вводите для пользователя postgres.\nЗаходим в базу данных уже как пользователь manager\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> -u postgres psql -U manager -d salers\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>В базе данных создадим таблицу менеджеры по продажам:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-keyword\">CREATE\u003C/span> \u003Cspan class=\"hljs-keyword\">TABLE\u003C/span> sales_managers (\n           manager_id \u003Cspan class=\"hljs-type\">SERIAL\u003C/span> \u003Cspan class=\"hljs-keyword\">PRIMARY KEY\u003C/span>,\n           first_name \u003Cspan class=\"hljs-type\">VARCHAR\u003C/span>(\u003Cspan class=\"hljs-number\">50\u003C/span>),\n           last_name \u003Cspan class=\"hljs-type\">VARCHAR\u003C/span>(\u003Cspan class=\"hljs-number\">50\u003C/span>),\n           date_of_employment \u003Cspan class=\"hljs-type\">DATE\u003C/span>\n       );\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Заполним данные трех сотрудников для примера:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-keyword\">INSERT\u003C/span> \u003Cspan class=\"hljs-keyword\">INTO\u003C/span> sales_managers\n       (first_name, last_name, date_of_employment)\n       \u003Cspan class=\"hljs-keyword\">VALUES\u003C/span>\n       ( \u003Cspan class=\"hljs-string\">&#x27;Иван&#x27;\u003C/span>, \u003Cspan class=\"hljs-string\">&#x27;Касаткин&#x27;\u003C/span>, \u003Cspan class=\"hljs-string\">&#x27;2024-11-15&#x27;\u003C/span>),\n       ( \u003Cspan class=\"hljs-string\">&#x27;Артём&#x27;\u003C/span>, \u003Cspan class=\"hljs-string\">&#x27;Фролов&#x27;\u003C/span>, \u003Cspan class=\"hljs-string\">&#x27;2020-10-10&#x27;\u003C/span>),\n       ( \u003Cspan class=\"hljs-string\">&#x27;Юлия&#x27;\u003C/span>, \u003Cspan class=\"hljs-string\">&#x27;Юсупова&#x27;\u003C/span>, \u003Cspan class=\"hljs-string\">&#x27;2019-12-17&#x27;\u003C/span>);\n\n\u003Cspan class=\"hljs-keyword\">SELECT\u003C/span> * \u003Cspan class=\"hljs-keyword\">FROM\u003C/span> sales_managers;\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_03.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"тестовая база данных\"\n                            src=\"/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_03.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"настройка-удаленного-доступа-к-postgresql\"\n>Настройка удаленного доступа к PostgreSQL\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Файлы конфигурации для PostgreSQL 17 в Ubuntu 24.04 хранятся в подкаталоге \u003Cem>/etc/postgresql/17/main\u003C/em>.\nНас будут интересовать два файла: postgresql.conf и pg_hba.conf. Файл postgresql.conf является основным файлом конфигурации и определяет порт по умолчанию, который прослушивает сервер базы данных, максимальный объём памяти на операцию, прослушиваемые IP-адреса и другие параметры, необходимые для корректной работы системы управления базами данных.\nНастроим подключение к PostgreSQL с удаленного хоста. Откроем файл с помощью текстового редактора nano:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> nano  /etc/postgresql/17/main/postgresql.conf\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Найдем раздел \u003Cstrong>«CONNECTIONS AND AUTHENTICATION»\u003C/strong>\u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Раскомментируем строчку listen_addresses и заменим ‘localhost’ на ’*‘:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attr\">listen_addresses\u003C/span> = \u003Cspan class=\"hljs-string\">&#x27;*&#x27;\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_04.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"Раскомментируем строчку listen_addresses\"\n                            src=\"/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_04.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Звездочка указывает серверу PostgreSQL прослушивать все сетевые интерфейсы. Если Вы хотите, чтобы сервер базы данных прослушивал только определенные сетевые интерфейсы, укажите их IP-адреса через запятую, например:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">listen_addresses\u003C/span> = ‘\u003Cspan class=\"hljs-number\">192.168.0.111\u003C/span>, localhost, \u003Cspan class=\"hljs-number\">10.10.10.150\u003C/span>’\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Для сохранения файла в редакторе nano: Ctrl+O. Соглашаемся с сохранением, нажимаем Enter. Выход: Ctrl+X.\u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Отредактируем файл конфигурации \u003Cstrong>pg_hba.conf\u003C/strong>. Он определяет, какие IP-адреса или диапазоны IP-адресов разрешены для подключения к серверу базы данных PostgreSQL. Также в нем указывается, какие учётные записи и механизмы аутентификации должны использоваться для регистрации пользователей.\nОткрываем его с помощью текстового редактора nano:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> nano /etc/postgresql/17/main/pg_hba.conf\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Расскомментируем строчку host. Укажем,  к каким базам, каким пользователям и с каких IP-адресов возможен доступ. Так же укажем механизм аутентификации scram-sha-256.\nАутентификация SCRAM-SHA-256 описана в \u003Ca   href=\"https://datatracker.ietf.org/doc/html/rfc7677\"\n  rel=\"nofollow\"\n  class=\"text-sky-700 transition-opacity duration-75 hover:opacity-70\"\n  target=\"_blank\"\n>RFC 7677\u003C/a>. Она предотвращает перехват паролей в ненадежных соединениях и поддерживает хранение паролей на сервере в хешированной форме. Считается наиболее безопасным сегодня методом аутентификации. \u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_05.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"Расскомментируем строчку host. Укажем,  к каким базам, каким пользователям и с каких IP-адресов возможен доступ\"\n                            src=\"/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_05.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Перезапускаем базу данных:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl restart postgresql\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Проверим, прослушивает ли PostgreSQL порт 5432, который задан в настройках по умолчанию в файле postgresql.conf. Если Вы поменяете порт, то при проверке укажите его номер. Команда:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>netstat \u003Cspan class=\"hljs-punctuation\">-\u003C/span>ano \u003Cspan class=\"hljs-string\">| grep 5432\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Примечание: Если у Вас не установлен пакет net-tools, установите его командой:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt install net-tools\u003C/code>\u003C/pre>\n\u003C/blockquote>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_06.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"net-tools\"\n                            src=\"/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_06.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>На скриншоте видно, что порт 5432 занят процессом PostgreSQL, все настроено корректно.\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"удаленное-подключение-к-базе-с-помощью-pgadmin\"\n>Удаленное подключение к базе с помощью pgAdmin\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Для примера выполним подключение к серверу PostgreSQL с помощью pgAdmin. Загрузить и установить pgAdmin можно с \u003Ca   href=\"https://www.pgadmin.org/download/\"\n  rel=\"nofollow\"\n  class=\"text-sky-700 transition-opacity duration-75 hover:opacity-70\"\n  target=\"_blank\"\n>официального сайта\u003C/a>.\u003Cbr>\nЗапускаем программу.\nВыбираем пункт «Add new server».\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_07.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"подключение через pgAdmin\"\n                            src=\"/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_07.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Переходим на вкладку Connections.\nЗаполняем наши данные. В примере я указываю IP-адрес и порт, который прослушивает сервер, имя базы данных, пользователя и его пароль.\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_08.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"указываем параметры подключения (IP-адрес и порт, который прослушивает сервер, имя базы данных, пользователя и его пароль)\"\n                            src=\"/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_08.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>После того, как Вы сохраните параметры, подключение произойдет автоматически. Если Вы нажмете правой клавишей мыши на базе данных, то можете выбрать PSQL tools:\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_09.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"подключение выполнено успешно\"\n                            src=\"/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_09.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>После этого Вы сможете работать с базой данных через PSQL:\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_10.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"Работа с базой данных через PSQL\"\n                            src=\"/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_10.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"заключение\"\n>Заключение\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Мы установили PostgreSQL 17 на Ubuntu 24.04. Создали тестовую базу данных, пользователя, защитили доступ к базе данных с помощью пароля. Настроили удаленное подключение к PostgreSQL и протестировали корректность работы с помощью pgAdmin.\u003C/p>\n",description:"В статье рассмотрим как установить PostgreSQL на Ubuntu 24.04. Выполним первоначальные настройки. Создадим безопасное подключение к СУБД с помощью pgAdmin.",cover:"/topics/databases/how-to-install-postgresql-on-ubuntu-server/static/ru_image_00.webp",tableOfContents:[{title:"Подготовка системы к установке",level:2,id:"подготовка-системы-к-установке"},{title:"Установка PostgreSQL 17",level:2,id:"установка-postgresql-17"},{title:"Защита базы данных",level:2,id:"защита-базы-данных"},{title:"Создание новой базы данных",level:2,id:"создание-новой-базы-данных"},{title:"Настройка удаленного доступа к PostgreSQL",level:2,id:"настройка-удаленного-доступа-к-postgresql"},{title:"Удаленное подключение к базе с помощью pgAdmin",level:2,id:"удаленное-подключение-к-базе-с-помощью-pgadmin"},{title:"Заключение",level:2,id:"заключение"}]},{slug:"how-to-install-mysql-on-ubuntu-server",tags:["mysql","ubuntu","ssh"],title:"Как установить MySQL на Ubuntu 24.04",content:"# Как установить MySQL на Ubuntu 24.04\n\n## Введение \n\nMySQL представляет собой свободно распространяемую реляционную систему управления базами данных с открытым исходным кодом. Чаще всего ее устанавливают в рамках популярного стека LAMP (Linux, Apache, MySQL, PHP/Python/Perl). С помощью языка структурированных запросов SQL система управляет данными, которые находятся в базе.  \nВ статье мы рассмотрим этапы установки и настройки безопасности MySQL на Ubuntu Server 24.04, а также процесс создания пользователей. \nВерсия MySQL 8.0 доступна для релизов Ubuntu Server 20.04 и выше.  \nСледуя приведенным ниже инструкциям, Вы сможете настроить работающую реляционную систему управления базами данных, которая подойдет для разработки веб-сайтов, приложений или хранения различных данных.  \n>Если вы устанавливаете MySQL на виртуальную машину, рекомендуем использовать приложение [Putty](https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html) для подключения. В противном случае Вы можете столкнуться с проблемами кодировки при чтении информации из базы данных. \n> Мы подробно разбирали подключение к удаленному серверу по SSH  в статье \u003Ca href=/linux-basics/connect-to-the-server-using-ssh-keys>Подключение к серверу с помощью SSH-ключей\u003C/a>.\n\u003Cp align=\"center\">\u003Cimg alt=\"кодировка mysql\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_01.png width=1024>\u003C/p>\n\n## Установка MySQL\n\nВ сервере Ubuntu 24.04 для установки MySQL мы воспользуемся репозиторием пакетов **APT**. На данный момент версия MySQL, доступная в репозитории Ubuntu по умолчанию, – это версия 8.0.41.\nДля корректной установки MySQL последней версии обновим список пакетов с помощью указанной утилиты, запущенной от прав суперпользователя:\n\n>Запуск всех команд идет от имени суперпользователя.\n>\n```\nsudo apt update\n```\nПри необходимости проведем обновление старых версий пакетов на новые:\n```\nsudo apt upgrade\n```\nПосле успешного обновления переходим к процедуре установки:\n```\nsudo apt-get install mysql-server\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"запуск установки mysql\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_02.png width=1024>\u003C/p>\n\nПосле завершения установки запуск сервиса MySQL произойдет автоматически. Проверим, \nчто установка прошла успешно и сервис MySQL запущен:\n```\nsudo systemctl start mysql.service\n```\nДополнительно можно проверить статус сервиса MySQL с помощью команды:\n```\nsudo systemctl status mysql\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"проверка статуса службы\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_03.png width=1024>\u003C/p>\n\nЕсли есть необходимость в проверке сетевого статуса сервиса, то его можно провести с помощью команды:\n```\nsudo ss -tap | grep mysql\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"проверка сетевого статуса\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_04.png width=1024>\u003C/p>\n\nТакже дополнительно можно убедиться, что мы установили последнюю версию MySQL:\n```\nmysql --version\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"проверка версии mysql\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_05.png width=1024>\u003C/p>\n\nЕсли по каким-либо причинам сервис не запустился автоматически или статус отображается как неактивный, то необходимо перезапустить его:\n```\nsudo service mysql restart\n```\nДля того чтобы MySQL запускался автоматически при загрузке операционной системы выполним команду:\n```\nsudo systemctl enable mysql\n```\nУбедиться, что MySQL запускается вместе с операционной системой монжо с помощью команды:\n```\nsudo systemctl is-enabled mysql.service\n```\nНа этом установка завершена, переходим к настройкам установленного сервера MyQSL.\n\n## Настройка MySQL\n\nПосле успешной установки сервера MySQL создается основной каталог конфигурации **/etc/mysql/**. В данном каталоге содержится файл конфигурации сервера баз данных MySQL – **my.cnf**. Для того, чтобы провести установку пользовательских параметров отредактируйте файл **.my.cnf** из директории **$HOME/.my.cnf**.  \nВы можете самостоятельно провести дополнительные настройки сервера MySQL, такие как ведение log-файла, номер порта, IP-адрес и другие, путем редактирования файлов **mysql.cnf** и **mysqld.cnf** с помощью текстового редактора nano или vim, находящиеся в директориях **/etc/mysql/conf.d/** и **/etc/mysql/mysql.conf.d/** соответственно. \n\u003Cp align=\"center\">\u003Cimg alt=\"файл mysql.cnf\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_06.png width=1024>\u003C/p>\n\n\u003Cp align=\"center\">\u003Cimg alt=\"файл mysqld.cnf\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_07.png width=1024>\u003C/p>\n\nПосле внесения изменений в конфигурационные файлы, необходимо провести перезапуск сервиса MySQL:\n```\nsudo systemctl restart mysql.service\n```\nУ сервера MySQL есть журнал службы, просмотреть который можно с помощью:\n```\nsudo journalctl -u mysql.service\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"журнал службы\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_08.png width=1024>\u003C/p>\n\nЕсли необходимо посмотреть журнал службы более подробно воспользуйтесь командой:\n```\nsudo journalctl -u mysql.service -xe\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"журнал службы подробно\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_09.png width=1024>\u003C/p>\n\nФайл журнала ошибок MySQL сервера по умолчанию расположен в /var/log/mysql/error.log. Посмотреть последние записи можно с помощью:\n```\nsudo tail -f /var/log/mysql/error.log\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"проверка log-файла\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_10.png width=1024>\u003C/p>\n\nВыход из логов: CTRL+Z.\n\nПосле первой установки MySQL необходимо провести улучшение безопасности. Для этого служит mysql_secure_installation – интерактивный скрипт безопасности, включенный в систему управления базами данных. Данный скрипт проводит изменение некоторых параметров безопасности по умолчанию, например, запрещает удаленный вход в систему с правами суперпользователя и удаляет выборочных пользователей.\n```\nsudo mysql_secure_installation\n```\nПосле запуска скрипта начинается диалог, в процессе которого мы внесем изменения в параметры безопасности установленного MySQL. Первым будет задан вопрос о необходимости настройки плагина проверки паролей, который можно использовать для проверки надежности паролей новых пользователей MySQL, до того, как они будут приняты системой. Если плагин будет включен, то все созданные пользователи будут проходить процедуру аутентификации с помощью пароля, соответствующего выбранной политике.\n\u003Cp align=\"center\">\u003Cimg alt=\"запуск скрипта безопасности\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_11.png width=1024>\u003C/p>\n\nВыберем уровень сложности пароля для работы плагина проверки паролей. Уровня три: 0 Низкий, 1 Средний и 2 Высокий. Какой уровень выбрать решать Вам, а мы выберем максимальный уровень.\n\u003Cp align=\"center\">\u003Cimg alt=\"уровень сложности пароля\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_12.png width=1024>\u003C/p>\nНа текущем этапе настройки должна произойти установка пароля пользователю root, но поскольку по умолчанию используется аутентификация с помощью auth_socket, установка будет пропущена. Если для пользователя root уже была выполнена настройка аутентификации по паролю, то установите пароль в соответствии с уровнем сложности выбранном на предыдущем этапе.\n\u003Cp align=\"center\">\u003Cimg alt=\"пароль для суперпользователя\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_13.png width=1024>\u003C/p>\n\nНа следующем шаге будет предложено удалить анонимных пользователей, которые были созданы самим сервисом автоматически, выбираем согласиться:\n\u003Cp align=\"center\">\u003Cimg alt=\"удаление анонимных пользователей\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_14.png width=1024>\u003C/p>\n\nТеперь запрос на отключение удалённого входа root пользователя, также соглашаемся:\n\u003Cp align=\"center\">\u003Cimg alt=\"отключение удаленного входа\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_15.png width=1024>\u003C/p>\n\nАналогично поступаем с удалением созданных тестовых баз данных:\n\u003Cp align=\"center\">\u003Cimg alt=\"удаление тестовых таблиц\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_16.png width=1024>\u003C/p>\n\nСоглашаемся с перезагрузкой привилегий:\n\u003Cp align=\"center\">\u003Cimg alt=\"перезагрузка привилегий\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_17.png width=1024>\u003C/p>\n\nНастройка завершена, MySQL немедленно учел внесенные изменения и готов к работе. \n\nСледующим шагом проведем настройку аутентификации для учетной записи root.\n\n## Настройка аутентификации для root\n\nВходим в консоль MySQL:\n```\nsudo mysql\n```\nПеред настройкой аутентификации проверим версию, статус и параметры нашего сервера:\n```\nSTATUS;\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"проверка статуса сервера\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_18.png width=1024>\u003C/p>\n\n>Так как все настройки будут проходит путем отправки SQL-запросов к базе данных, каждая команда должна оканчиваться **;**\n\nПо умолчанию в установках Ubuntu учетная запись root не настроена для подключения к службам с использованием пароля. Для того, чтобы установить доступ к службе MySQL по паролю для данной учетной записи, необходимо провести изменение плагина авторизации с auth_socket на caching_sha2_password.  \nДалее нам необходимо выполнить запрос пользователей с типом их авторизации:\n```\nSELECT user,authentication_string,plugin,host FROM mysql.user;\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"таблица пользователей mysql\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_19.png width=1024>\u003C/p>\n\nВ результате запроса в списке пользователей видно, что у пользователя root в значении plugin стоит auth_socket, а значение authentication_string пусто. Проведем обновление плагина авторизации и установим пароль (в качестве примера установлен пароль ~MysqlU24, помните, что создаваемый пароль должен удовлетворять требованиям, установленным Вами в плагине проверки паролей):\n```\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY ' ~MysqlU24';\n```\nПрименим проведенные изменения:\n```\nFLUSH PRIVILEGES;\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"установка пароля пользователю root\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_20.png width=1024>\u003C/p>\n\nНе все приложения, которые работают с севером MySQL, поддерживают надежную работу с плагином безопасности **caching_sha2_password**. При необходимости установите плагин **mysql_native_password** для повышения надежности. Настройка аутентификации завершена, выходим с помощью exit.\n\nТеперь для подключения к базе данных потребуется ввести: \n```\nmysql -u root –p\n```\nПри попытке подключения с помощью команды sudo mysql будет выведена ошибка доступа.\n\u003Cp align=\"center\">\u003Cimg alt=\"проверка входа без пароля\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_21.png width=1024>\u003C/p>\n \nЕсли вам требуется вернуться в методу аутентификации по умолчанию и выполнять подключение к MySQL как суперпользователь root с помощью команды sudo mysql необходимо выполнить подключение к MySQL с помощью имени пользователя и пароля. Далее возвращаем настройки аутентификации по умолчанию с помощью команды:\n```\nALTER USER 'root'@'localhost' IDENTIFIED WITH auth_socket;\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"вход root с паролем\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_22.png width=1024>\u003C/p>\n\n## Создание пользователя и предоставление привилегий в MySQL\n\nПосле создания и настройки MySQL сервера может возникнуть необходимость в создании пользователя с набором определенных прав и привилегий. Создадим пользователя sysadmin с помощью команды:\n```\nCREATE USER 'sysadmin'@'localhost' IDENTIFIED BY '~MysqlU241';\n```\nВ примере мы создаем пользователя sysadmin с паролем ~MysqlU241.\n\u003Cp align=\"center\">\u003Cimg alt=\"создание пользователя\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_23.png width=1024>\u003C/p>\n\n\u003Cp align=\"center\">\u003Cimg alt=\"проверка создания пользователя\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_24.png width=1024>\u003C/p>\n\nПредоставим права на работу с базой данных созданному пользователю:\n```\nGRANT CREATE, ALTER, DROP, INSERT, UPDATE, DELETE, SELECT, REFERENCES, RELOAD on *.* TO 'sysadmin'@'localhost' **WITH GRANT** OPTION;\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"предоставление прав пользователю\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_25.png width=1024>\u003C/p>\n\nОбратите свое внимание, что предоставление прав пользователю выполнено с использованием параметра WITH GRANT. Это позволит вашему пользователю MySQL предоставлять любые разрешения, которые у него есть, другим пользователям в системе. \n\nЕсли есть необходимость в предоставлении всех привилегий созданному пользователю, то стоит воспользоваться командой:\n```\nGRANT ALL PRIVILEGES ON *.* TO 'sysadmin'@'localhost' WITH GRANT OPTION;\n```\n\n>Будьте внимательны при предоставлении привилегий пользователю. Параметр **ALL PRIVILEGES** предоставит пользователю широкие привилегии, как у суперпользователя. Такие широкие привилегии позволят ему иметь полный контроль над каждой базой данных на сервере. Для просмотра назначенных прав и привилегий пользователю используем команду:\n```\nSHOW GRANTS FOR 'sysadmin'@'localhost';\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"просмотр прав и привилегий пользователя\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_26.png width=1024>\u003C/p>\n\nДля того, чтобы изменения вступили в силу, рекомендуется выполнить команду по обновлению привилегий и прав пользователей:\n```\nFLUSH PRIVILEGES;\n```\nЕсли возникнет необходимость отозвать предоставленные пользователю права и привилегии, воспользуйтесь командой:\n```\nREVOKE ALL PRIVILEGES ON *.* FROM 'sysadmin'@'localhost';\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"удаление привилегий пользователя\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_27.png width=1024>\u003C/p>\n\nСоздание и настройка пользователя на этом завершена. Можно проверить его работу и подключиться с использованием его имени и пароля.\n\nЕсли в процессе работы потребуется удаление созданного пользователя, то воспользуйтесь командой:\n```\nDROP USER 'sysadmin'@'localhost';\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"удаление созданного пользователя\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_28.png width=1024>\u003C/p>\n\nПользователь удален, теперь не отображается в таблице пользователей MySQL.\n\nВозможно потребуется удаление установленного сервера MySQL. \nЧтобы удаление произошло корректно и не было выполнения службы, выполним:\n```\nsudo systemctl stop mysql\n```\nДля того чтобы провести удаление сервера также необходимо воспользоваться репозиторием APT. При выполнении команды будет произведено удаление всех баз данных и самого сервера:\n```\nsudo apt-get remove mysql-server\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"удаление сервера mysql\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_29.png width=1024>\u003C/p>\n\nБыли удалены основные пакеты MySQL, но не конфигурационные файлы, логи и каталоги.\n\u003Cp align=\"center\">\u003Cimg alt=\"удаление каталогов сервера\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_30.png width=1024>\u003C/p> \n\nУдалим конфигурационные каталоги с файлами и логами:\n```\nrm -rf /etc/mysql /var/lib/mysql /var/log/mysql\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"проверка удаления каталогов\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_31.png width=1024>\u003C/p>\n\nПроведем удаление всех пакетов, установленных как зависимости MySQL:\n```\napt autoremove\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"проверка удаления пакетов\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_32.png width=1024>\u003C/p>\n\nЕсли у вас были создан специальный пользователь для MySQL, нужно удалить \nи его, выполнив последовательно команды:\n```\ndeluser mysql\nrm -rf /home/mysql\n```\nПроведем проверку полного удаления сервера MySQL с использованием команды проверки процесса:\n\u003Cp align=\"center\">\u003Cimg alt=\"проверка статуса службы\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_33.png width=1024>\u003C/p>\n\nЕсли были выведены данные о неполной остановке демона MySQL, выполните:\n```\nsudo systemctl daemon-reload\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"остановка службы\" src=/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_34.png width=1024>\u003C/p>\n\nСервер MySQL со всеми пакетами был успешно удален из системы.\n\n## Краткие итоги\n\n1. На сегодняшний день MySQL сервер является распространенной системой управления базами данных, используемой в операционных системах Linux.\n2. Для установки MySQL в ручном режиме предпочтительней пользоваться репозиторием APT.\n3. После установки сервера необходимо в обязательном порядке провести улучшение безопасности. \n4. Суперпользователю root доступно подключение к серверу как в парольном, так и беспарольном варианте.\n",updatedAt:new Date(1749222605385),markdown:"\n\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"введение\"\n>Введение\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>MySQL представляет собой свободно распространяемую реляционную систему управления базами данных с открытым исходным кодом. Чаще всего ее устанавливают в рамках популярного стека LAMP (Linux, Apache, MySQL, PHP/Python/Perl). С помощью языка структурированных запросов SQL система управляет данными, которые находятся в базе.\u003Cbr>\nВ статье мы рассмотрим этапы установки и настройки безопасности MySQL на Ubuntu Server 24.04, а также процесс создания пользователей.\nВерсия MySQL 8.0 доступна для релизов Ubuntu Server 20.04 и выше.\u003Cbr>\nСледуя приведенным ниже инструкциям, Вы сможете настроить работающую реляционную систему управления базами данных, которая подойдет для разработки веб-сайтов, приложений или хранения различных данных.  \u003C/p>\n\u003Cblockquote>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если вы устанавливаете MySQL на виртуальную машину, рекомендуем использовать приложение \u003Ca   href=\"https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html\"\n  rel=\"nofollow\"\n  class=\"text-sky-700 transition-opacity duration-75 hover:opacity-70\"\n  target=\"_blank\"\n>Putty\u003C/a> для подключения. В противном случае Вы можете столкнуться с проблемами кодировки при чтении информации из базы данных.\nМы подробно разбирали подключение к удаленному серверу по SSH  в статье \u003Ca href=https://github.com/HostVDS-com/tutorials/blob/main/topics/linux-basics/connect-to-the-server-using-ssh-keys/ru.md>Подключение к серверу с помощью SSH-ключей\u003C/a>.\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_01.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"кодировка mysql\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_01.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003C/blockquote>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"установка-mysql\"\n>Установка MySQL\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>В сервере Ubuntu 24.04 для установки MySQL мы воспользуемся репозиторием пакетов \u003Cstrong>APT\u003C/strong>. На данный момент версия MySQL, доступная в репозитории Ubuntu по умолчанию, – это версия 8.0.41.\nДля корректной установки MySQL последней версии обновим список пакетов с помощью указанной утилиты, запущенной от прав суперпользователя:\u003C/p>\n\u003Cblockquote>\n\u003Cp class=\"mt-2 mb-2 text-md\">Запуск всех команд идет от имени суперпользователя.\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt update\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>При необходимости проведем обновление старых версий пакетов на новые:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt upgrade\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>После успешного обновления переходим к процедуре установки:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt-get install mysql-server\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_02.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"запуск установки mysql\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_02.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003C/blockquote>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>После завершения установки запуск сервиса MySQL произойдет автоматически. Проверим,\nчто установка прошла успешно и сервис MySQL запущен:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl start mysql.service\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Дополнительно можно проверить статус сервиса MySQL с помощью команды:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl status mysql\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_03.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"проверка статуса службы\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_03.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если есть необходимость в проверке сетевого статуса сервиса, то его можно провести с помощью команды:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> ss -tap | grep mysql\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_04.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"проверка сетевого статуса\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_04.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Также дополнительно можно убедиться, что мы установили последнюю версию MySQL:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>mysql \u003Cspan class=\"hljs-comment\">--version\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_05.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"проверка версии mysql\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_05.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если по каким-либо причинам сервис не запустился автоматически или статус отображается как неактивный, то необходимо перезапустить его:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> service mysql restart\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Для того чтобы MySQL запускался автоматически при загрузке операционной системы выполним команду:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl \u003Cspan class=\"hljs-built_in\">enable\u003C/span> mysql\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Убедиться, что MySQL запускается вместе с операционной системой монжо с помощью команды:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl is-enabled mysql.service\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>На этом установка завершена, переходим к настройкам установленного сервера MyQSL.\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"настройка-mysql\"\n>Настройка MySQL\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>После успешной установки сервера MySQL создается основной каталог конфигурации \u003Cstrong>/etc/mysql/\u003C/strong>. В данном каталоге содержится файл конфигурации сервера баз данных MySQL – \u003Cstrong>my.cnf\u003C/strong>. Для того, чтобы провести установку пользовательских параметров отредактируйте файл \u003Cstrong>.my.cnf\u003C/strong> из директории \u003Cstrong>$HOME/.my.cnf\u003C/strong>.\u003Cbr>\nВы можете самостоятельно провести дополнительные настройки сервера MySQL, такие как ведение log-файла, номер порта, IP-адрес и другие, путем редактирования файлов \u003Cstrong>mysql.cnf\u003C/strong> и \u003Cstrong>mysqld.cnf\u003C/strong> с помощью текстового редактора nano или vim, находящиеся в директориях \u003Cstrong>/etc/mysql/conf.d/\u003C/strong> и \u003Cstrong>/etc/mysql/mysql.conf.d/\u003C/strong> соответственно. \u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_06.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"файл mysql.cnf\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_06.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_07.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"файл mysqld.cnf\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_07.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>После внесения изменений в конфигурационные файлы, необходимо провести перезапуск сервиса MySQL:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl restart mysql.service\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>У сервера MySQL есть журнал службы, просмотреть который можно с помощью:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> journalctl -u mysql.service\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_08.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"журнал службы\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_08.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если необходимо посмотреть журнал службы более подробно воспользуйтесь командой:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> journalctl -u mysql.service -xe\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_09.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"журнал службы подробно\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_09.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Файл журнала ошибок MySQL сервера по умолчанию расположен в /var/log/mysql/error.log. Посмотреть последние записи можно с помощью:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> \u003Cspan class=\"hljs-built_in\">tail\u003C/span> -f /var/log/mysql/error.log\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_10.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"проверка log-файла\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_10.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Выход из логов: CTRL+Z.\u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>После первой установки MySQL необходимо провести улучшение безопасности. Для этого служит mysql_secure_installation – интерактивный скрипт безопасности, включенный в систему управления базами данных. Данный скрипт проводит изменение некоторых параметров безопасности по умолчанию, например, запрещает удаленный вход в систему с правами суперпользователя и удаляет выборочных пользователей.\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> mysql_secure_installation\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>После запуска скрипта начинается диалог, в процессе которого мы внесем изменения в параметры безопасности установленного MySQL. Первым будет задан вопрос о необходимости настройки плагина проверки паролей, который можно использовать для проверки надежности паролей новых пользователей MySQL, до того, как они будут приняты системой. Если плагин будет включен, то все созданные пользователи будут проходить процедуру аутентификации с помощью пароля, соответствующего выбранной политике.\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_11.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"запуск скрипта безопасности\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_11.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Выберем уровень сложности пароля для работы плагина проверки паролей. Уровня три: 0 Низкий, 1 Средний и 2 Высокий. Какой уровень выбрать решать Вам, а мы выберем максимальный уровень.\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_12.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"уровень сложности пароля\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_12.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nНа текущем этапе настройки должна произойти установка пароля пользователю root, но поскольку по умолчанию используется аутентификация с помощью auth_socket, установка будет пропущена. Если для пользователя root уже была выполнена настройка аутентификации по паролю, то установите пароль в соответствии с уровнем сложности выбранном на предыдущем этапе.\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_13.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"пароль для суперпользователя\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_13.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>На следующем шаге будет предложено удалить анонимных пользователей, которые были созданы самим сервисом автоматически, выбираем согласиться:\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_14.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"удаление анонимных пользователей\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_14.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Теперь запрос на отключение удалённого входа root пользователя, также соглашаемся:\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_15.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"отключение удаленного входа\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_15.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Аналогично поступаем с удалением созданных тестовых баз данных:\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_16.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"удаление тестовых таблиц\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_16.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Соглашаемся с перезагрузкой привилегий:\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_17.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"перезагрузка привилегий\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_17.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Настройка завершена, MySQL немедленно учел внесенные изменения и готов к работе. \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Следующим шагом проведем настройку аутентификации для учетной записи root.\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"настройка-аутентификации-для-root\"\n>Настройка аутентификации для root\u003C/h2>\n\u003Cp class=\"mt-2 mb-2 text-md\">Входим в консоль MySQL:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> mysql\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Перед настройкой аутентификации проверим версию, статус и параметры нашего сервера:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>STATUS\u003Cspan class=\"hljs-comment\">;\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_18.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"проверка статуса сервера\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_18.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cblockquote>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Так как все настройки будут проходит путем отправки SQL-запросов к базе данных, каждая команда должна оканчиваться \u003Cstrong>;\u003C/strong>\u003C/p>\n\u003C/blockquote>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>По умолчанию в установках Ubuntu учетная запись root не настроена для подключения к службам с использованием пароля. Для того, чтобы установить доступ к службе MySQL по паролю для данной учетной записи, необходимо провести изменение плагина авторизации с auth_socket на caching_sha2_password.\u003Cbr>\nДалее нам необходимо выполнить запрос пользователей с типом их авторизации:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-keyword\">SELECT\u003C/span> \u003Cspan class=\"hljs-keyword\">user\u003C/span>,authentication_string,plugin,host \u003Cspan class=\"hljs-keyword\">FROM\u003C/span> mysql.\u003Cspan class=\"hljs-keyword\">user\u003C/span>;\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_19.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"таблица пользователей mysql\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_19.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>В результате запроса в списке пользователей видно, что у пользователя root в значении plugin стоит auth_socket, а значение authentication_string пусто. Проведем обновление плагина авторизации и установим пароль (в качестве примера установлен пароль ~MysqlU24, помните, что создаваемый пароль должен удовлетворять требованиям, установленным Вами в плагине проверки паролей):\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-keyword\">ALTER\u003C/span> \u003Cspan class=\"hljs-keyword\">USER\u003C/span> \u003Cspan class=\"hljs-string\">&#x27;root&#x27;\u003C/span>@\u003Cspan class=\"hljs-string\">&#x27;localhost&#x27;\u003C/span> IDENTIFIED \u003Cspan class=\"hljs-keyword\">WITH\u003C/span> caching_sha2_password \u003Cspan class=\"hljs-keyword\">BY\u003C/span> \u003Cspan class=\"hljs-string\">&#x27; ~MysqlU24&#x27;\u003C/span>;\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Применим проведенные изменения:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>FLUSH PRIVILEGES\u003Cspan class=\"hljs-comment\">;\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_20.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"установка пароля пользователю root\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_20.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Не все приложения, которые работают с севером MySQL, поддерживают надежную работу с плагином безопасности \u003Cstrong>caching_sha2_password\u003C/strong>. При необходимости установите плагин \u003Cstrong>mysql_native_password\u003C/strong> для повышения надежности. Настройка аутентификации завершена, выходим с помощью exit.\u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Теперь для подключения к базе данных потребуется ввести: \u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>mysql -u root -\u003Cspan class=\"hljs-selector-tag\">p\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>При попытке подключения с помощью команды sudo mysql будет выведена ошибка доступа.\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_21.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"проверка входа без пароля\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_21.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n \nЕсли вам требуется вернуться в методу аутентификации по умолчанию и выполнять подключение к MySQL как суперпользователь root с помощью команды sudo mysql необходимо выполнить подключение к MySQL с помощью имени пользователя и пароля. Далее возвращаем настройки аутентификации по умолчанию с помощью команды:\n```\nALTER USER 'root'@'localhost' IDENTIFIED WITH auth_socket;\n```\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_22.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"вход root с паролем\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_22.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"создание-пользователя-и-предоставление-привилегий-в-mysql\"\n>Создание пользователя и предоставление привилегий в MySQL\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>После создания и настройки MySQL сервера может возникнуть необходимость в создании пользователя с набором определенных прав и привилегий. Создадим пользователя sysadmin с помощью команды:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-keyword\">CREATE\u003C/span> \u003Cspan class=\"hljs-keyword\">USER\u003C/span> \u003Cspan class=\"hljs-string\">&#x27;sysadmin&#x27;\u003C/span>@\u003Cspan class=\"hljs-string\">&#x27;localhost&#x27;\u003C/span> IDENTIFIED \u003Cspan class=\"hljs-keyword\">BY\u003C/span> \u003Cspan class=\"hljs-string\">&#x27;~MysqlU241&#x27;\u003C/span>;\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>В примере мы создаем пользователя sysadmin с паролем ~MysqlU241.\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_23.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"создание пользователя\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_23.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_24.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"проверка создания пользователя\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_24.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Предоставим права на работу с базой данных созданному пользователю:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-keyword\">GRANT\u003C/span> \u003Cspan class=\"hljs-keyword\">CREATE\u003C/span>, \u003Cspan class=\"hljs-keyword\">ALTER\u003C/span>, \u003Cspan class=\"hljs-keyword\">DROP\u003C/span>, \u003Cspan class=\"hljs-keyword\">INSERT\u003C/span>, \u003Cspan class=\"hljs-keyword\">UPDATE\u003C/span>, \u003Cspan class=\"hljs-keyword\">DELETE\u003C/span>, \u003Cspan class=\"hljs-keyword\">SELECT\u003C/span>, \u003Cspan class=\"hljs-keyword\">REFERENCES\u003C/span>, RELOAD \u003Cspan class=\"hljs-keyword\">on\u003C/span> *.* \u003Cspan class=\"hljs-keyword\">TO\u003C/span> \u003Cspan class=\"hljs-string\">&#x27;sysadmin&#x27;\u003C/span>@\u003Cspan class=\"hljs-string\">&#x27;localhost&#x27;\u003C/span> **\u003Cspan class=\"hljs-keyword\">WITH\u003C/span> \u003Cspan class=\"hljs-keyword\">GRANT\u003C/span>** \u003Cspan class=\"hljs-keyword\">OPTION\u003C/span>;\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_25.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"предоставление прав пользователю\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_25.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Обратите свое внимание, что предоставление прав пользователю выполнено с использованием параметра WITH GRANT. Это позволит вашему пользователю MySQL предоставлять любые разрешения, которые у него есть, другим пользователям в системе. \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если есть необходимость в предоставлении всех привилегий созданному пользователю, то стоит воспользоваться командой:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-keyword\">GRANT\u003C/span> \u003Cspan class=\"hljs-keyword\">ALL\u003C/span> \u003Cspan class=\"hljs-keyword\">PRIVILEGES\u003C/span> \u003Cspan class=\"hljs-keyword\">ON\u003C/span> *.* \u003Cspan class=\"hljs-keyword\">TO\u003C/span> \u003Cspan class=\"hljs-string\">&#x27;sysadmin&#x27;\u003C/span>@\u003Cspan class=\"hljs-string\">&#x27;localhost&#x27;\u003C/span> \u003Cspan class=\"hljs-keyword\">WITH\u003C/span> \u003Cspan class=\"hljs-keyword\">GRANT\u003C/span> \u003Cspan class=\"hljs-keyword\">OPTION\u003C/span>;\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Будьте внимательны при предоставлении привилегий пользователю. Параметр \u003Cstrong>ALL PRIVILEGES\u003C/strong> предоставит пользователю широкие привилегии, как у суперпользователя. Такие широкие привилегии позволят ему иметь полный контроль над каждой базой данных на сервере. Для просмотра назначенных прав и привилегий пользователю используем команду:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">SHOW\u003C/span> GRANTS FOR \u003Cspan class=\"hljs-string\">&#x27;sysadmin&#x27;\u003C/span>@\u003Cspan class=\"hljs-string\">&#x27;localhost&#x27;\u003C/span>;\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_26.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"просмотр прав и привилегий пользователя\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_26.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003C/blockquote>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Для того, чтобы изменения вступили в силу, рекомендуется выполнить команду по обновлению привилегий и прав пользователей:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>FLUSH PRIVILEGES\u003Cspan class=\"hljs-comment\">;\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если возникнет необходимость отозвать предоставленные пользователю права и привилегии, воспользуйтесь командой:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-keyword\">REVOKE\u003C/span> \u003Cspan class=\"hljs-keyword\">ALL\u003C/span> \u003Cspan class=\"hljs-keyword\">PRIVILEGES\u003C/span> \u003Cspan class=\"hljs-keyword\">ON\u003C/span> *.* \u003Cspan class=\"hljs-keyword\">FROM\u003C/span> \u003Cspan class=\"hljs-string\">&#x27;sysadmin&#x27;\u003C/span>@\u003Cspan class=\"hljs-string\">&#x27;localhost&#x27;\u003C/span>;\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_27.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"удаление привилегий пользователя\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_27.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Создание и настройка пользователя на этом завершена. Можно проверить его работу и подключиться с использованием его имени и пароля.\u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если в процессе работы потребуется удаление созданного пользователя, то воспользуйтесь командой:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-keyword\">DROP\u003C/span> \u003Cspan class=\"hljs-keyword\">USER\u003C/span> \u003Cspan class=\"hljs-string\">&#x27;sysadmin&#x27;\u003C/span>@\u003Cspan class=\"hljs-string\">&#x27;localhost&#x27;\u003C/span>;\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_28.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"удаление созданного пользователя\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_28.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Пользователь удален, теперь не отображается в таблице пользователей MySQL.\u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Возможно потребуется удаление установленного сервера MySQL.\nЧтобы удаление произошло корректно и не было выполнения службы, выполним:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl stop mysql\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Для того чтобы провести удаление сервера также необходимо воспользоваться репозиторием APT. При выполнении команды будет произведено удаление всех баз данных и самого сервера:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt-get remove mysql-server\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_29.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"удаление сервера mysql\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_29.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Были удалены основные пакеты MySQL, но не конфигурационные файлы, логи и каталоги.\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_30.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"удаление каталогов сервера\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_30.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Удалим конфигурационные каталоги с файлами и логами:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>rm -rf \u003Cspan class=\"hljs-regexp\">/etc/\u003C/span>mysql \u003Cspan class=\"hljs-regexp\">/var/\u003C/span>lib\u003Cspan class=\"hljs-regexp\">/mysql /\u003C/span>\u003Cspan class=\"hljs-keyword\">var\u003C/span>\u003Cspan class=\"hljs-regexp\">/log/\u003C/span>mysql\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_31.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"проверка удаления каталогов\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_31.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Проведем удаление всех пакетов, установленных как зависимости MySQL:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>apt \u003Cspan class=\"hljs-built_in\">auto\u003C/span>remove\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_32.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"проверка удаления пакетов\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_32.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если у вас были создан специальный пользователь для MySQL, нужно удалить\nи его, выполнив последовательно команды:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>deluser mysql\n\u003Cspan class=\"hljs-built_in\">rm\u003C/span> -rf /home/mysql\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Проведем проверку полного удаления сервера MySQL с использованием команды проверки процесса:\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_33.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"проверка статуса службы\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_33.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если были выведены данные о неполной остановке демона MySQL, выполните:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl daemon-reload\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_34.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"остановка службы\"\n                            src=\"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_34.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Сервер MySQL со всеми пакетами был успешно удален из системы.\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"краткие-итоги\"\n>Краткие итоги\u003C/h2>\n\u003Col>\n\u003Cli>На сегодняшний день MySQL сервер является распространенной системой управления базами данных, используемой в операционных системах Linux.\u003C/li>\n\u003Cli>Для установки MySQL в ручном режиме предпочтительней пользоваться репозиторием APT.\u003C/li>\n\u003Cli>После установки сервера необходимо в обязательном порядке провести улучшение безопасности. \u003C/li>\n\u003Cli>Суперпользователю root доступно подключение к серверу как в парольном, так и беспарольном варианте.\u003C/li>\n\u003C/ol>\n",description:"В статье рассмотрим как установить MySQL на Ubuntu Server 24.04 LTS. Настроим аутентификацию для пользователя root. Создадим пользователя и назначим ему права и привилегии для доступа к СУБД.",cover:"/topics/databases/how-to-install-mysql-on-ubuntu-server/static/ru_image_00.webp",tableOfContents:[{title:"Введение",level:2,id:"введение"},{title:"Установка MySQL",level:2,id:"установка-mysql"},{title:"Настройка MySQL",level:2,id:"настройка-mysql"},{title:"Настройка аутентификации для root",level:2,id:"настройка-аутентификации-для-root"},{title:"Создание пользователя и предоставление привилегий в MySQL",level:2,id:"создание-пользователя-и-предоставление-привилегий-в-mysql"},{title:"Краткие итоги",level:2,id:"краткие-итоги"}]}]},{slug:"installing-the-server-software",title:"Установка ПО на сервер",description:"В разделе рассматриваем установку различного программного обеспечения на сервер.",tutorials:[{slug:"osticket",tags:["osticket","ubuntu","ubuntu-24.04","apache","mariadb","php","ssh"],title:"Как установить osTicket на Ubuntu 22.04",content:"# Как установить osTicket на Ubuntu 22.04\n\nСистема osTicket предлагает централизованную платформу, на которой запросы в службу поддержки преобразуются в тикеты (заявки), с которыми можно работать. Платформа построена на базе открытого кода. \n\n## Подготовка к установке дистрибутива\nПереходим в режим выполнения команд от суперпользователя:\n```\nsudo -s\n```\nПеред установкой обновим систему:\n```\napt update && apt upgrade -y\n```\nИзначально текстовый редактор nano и утилита wget для скачивания файлов из интернета уже присутствуют в системе, если они не установлены, то выполним команду:\n```\napt install nano wget -y\n```\nЕсли у Вас есть доменное имя, то проверьте, что имя сервера ему соответствует, в противном случае установите имя сервера (в примере osticket.test.ru):\n```\nhostnamectl set-hostname osticket.test.ru\n```\nВ нашей статье у нас сервер «из коробки», на нем не настроен DNS, поэтому мы будем показывать вариант работы с доменным именем и с IP-адресом. Мы выбрали вариант работы с IP-адресом, потому что он чуть сложнее, с доменным именем будет проще.  \nУстановим временную зону: \n```\ntimedatectl set-timezone Europe/Moscow\n```\nУстановим службу синхронизации времени:\n```\napt install chrony -y\n```\nДобавим службу в автозагрузку при запуске системы:\n```\nsystemctl enable chrony\n```\nДля корректной работы перезагрузим сервер:\n```\nreboot now\n```\nДля правильной работы нам потребуются следующие компоненты стека LAMP: Apache, MariaDB, PHP.  \nПереходим в режим выполнения команд от суперпользователя:\n```\nsudo -s\n```\nУстановим их в нужной конфигурации с помощью следующей команды:\n```\napt install apache2 mariadb-server php libapache2-mod-php php-mysql php-cgi php-fpm php-cli php-curl php-gd php-imap php-mbstring php-pear php-intl php-apcu php-common php-bcmath -y\n```\nПроверим, что порт 80 свободен, он потребуется для apache:\n```\nnetstat -ltnp | grep -w ':80'\n```\nВ моем случае он занят:\n\u003Cp align=\"center\">\u003Cimg alt=\"ошибка при запуске apache\" src=/topics/installing-the-server-software/osticket/static/ru_image_01.png width=1024>\u003C/p>\nЕсли он будет занят, то при выполнении запуска  apache2 Вы увидите ошибку:\n\u003Cp align=\"center\">\u003Cimg alt=\"ошибка при запуске apache\" src=/topics/installing-the-server-software/osticket/static/ru_image_02.png width=1024>\u003C/p>\nПроверим статус системы:\n\u003Cp align=\"center\">\u003Cimg alt=\"статус системы\" src=/topics/installing-the-server-software/osticket/static/ru_image_03.png width=1024>\u003C/p>\nВ моем случае порт 80 был занят nginx. Удалим процесс nginx, его PID 973:\n\n```\nkill 973\n```\nПроверяем результат и запускаем apache2:\n```\nsystemctl start apache2\n```\n\n\u003Cp align=\"center\">\u003Cimg alt=\"запуск apache2\" src=/topics/installing-the-server-software/osticket/static/ru_image_04.png width=1024>\u003C/p>\n\nДалее запустим службу mariadb:\n\n```\nsystemctl start mariadb\n```\nТеперь необходимо добавить в автозагрузку службы Apache и MariaDB:\n```\nsystemctl enable apache2\n```\n\n```\nsystemctl enable mariadb\n```\nДля безопасности включим защиту базы данных:\n```\nmysql_secure_installation\n```\nСистема будет задавать Вам следующие вопросы, на первый вопрос необходимо нажать просто Enter, на остальные необходимо ответить символом “Y”. Также надо будет задать пароль для root.  \nПосле этого входим в оболочку MariaDB:\n```\nmysql -u root -p\n```\nРабота с базой данных аналогична работе с базой данных MySQL, про которую мы подробно писали в \u003Ca href=/databases/how-to-install-mysql-on-ubuntu-server>этой статье\u003C/a>, рекомендуем ознакомиться с ней.  \nСоздаем базу данных для osTicket:\n```\nCREATE DATABASE osticket;\n```\nОбратите внимание, что все команды при работе с базой данных заканчиваются знаком **;**  \nСоздаем пользователя **osticket** для базы данных **osticket** и указываем для него пароль **osTicket**:\n```\nCREATE USER 'osticket'@'localhost' IDENTIFIED BY 'osTicket';\n```\nДаем полные права на базу данных **osticket** нашему пользователю **osticket**:\n```\nGRANT ALL PRIVILEGES ON osticket.* TO osticket@localhost IDENTIFIED BY \"osTicket\";\n```\nОбновляем данные о привилегиях:\n```\nFLUSH PRIVILEGES;\n```\nВыходим из настройки базы данных:\n```\nEXIT;\n```\n\n## Скачивание дистрибутива osTicket\n\nПоследняя версия osTicket v1.18.2 доступна на Гитхабе:\n```\nhttps://github.com/osTicket/osTicket/releases/tag/v1.18.2\n```\nСкачаем дистрибутив:\n```\nwget https://github.com/osTicket/osTicket/archive/refs/tags/v1.18.2.tar.gz\n```\nСоздаем папку в директории для нашего сервера:\n```\nmkdir /var/www/html/osticket\n```\nВсе команды выполняются под root.\nИзвлекаем архив в созданную папку:\n```\ntar -xf v1.18.2.tar.gz  -C /var/www/html/osticket\n```\nДаем права web-серверу на созданную папку:\n```\nchown -R www-data:www-data /var/www/html/osticket\n```\n\n```\nchmod -R 755 /var/www/html/osticket\n```\nПереименовываем конфигурационный файл ost-sampleconfig.php в  ost-config.php:\n```\nmv /var/www/html/osticket/osTicket-1.18.2/include/ost-sampleconfig.php /var/www/html/osticket/osTicket-1.18.2/include/ost-config.php\n```\n\n## Создание виртуального хоста Apache\n\nСоздаём файл конфигурации osTicket для виртуального хоста Apache с помощью текстового редактора nano:\n```\nnano /etc/apache2/sites-available/osticket.conf\n```\nДобавляем следующие строки:\n```\n\u003CVirtualHost *:80>\nServerName osticket.test.ru\nServerAdmin admin@osticket.test.ru\nDocumentRoot /var/www/html/osticket/osTicket-1.18.2/include/>\n\u003CDirectory /var/www/html/osticket/osTicket-1.18.2/include/>\nRequire all granted\nOptions FollowSymlinks\nAllowOverride All\n\u003C/Directory>\nErrorLog ${APACHE_LOG_DIR}/osticket.error.log\nCustomLog ${APACHE_LOG_DIR}/osticket.access.log combined\n\u003C/VirtualHost>\n```\nОбратите внимание, что в качестве ServerName надо указать имя Вашего сервера!  \nСохраняем файл CTRL+O, выходим из файла CTRL+X.  \nАктивируем виртуальный хост osTicket:\n```\na2ensite osticket.conf\n```\nВключим модуль перезаписи Apache:\n```\na2enmod rewrite\n```\nПерезапустим Apache:\n```\nsystemctl restart apache2\n```\nПроверим состояние web-сервера:\n```\nsystemctl status apache2\n```\n\n\u003Cp align=\"center\">\u003Cimg alt=\"состояние web-сервера\" src=/topics/installing-the-server-software/osticket/static/ru_image_05.png width=1024>\u003C/p>\n\nСлужба работает, переходим непосредственно к установке osTicket.\n\n## Установка и запуск  osTicket\n\nЕсли у Вас работает служба DNS, то введите в браузере:\n\n```\nhttp://osticket.test.ru\n```\nгде вместо _osticket.test.ru_ введите имя Вашего сервера.\n\nЛибо введите:\n```\nhttp://192.168.1.59/osticket/osTicket-1.18.2/setup/install.php\n```\nгде вместо _192.168.1.59_ укажите IP-адрес Вашего сервера.\nВы увидите следующее приглашение на установку:\n\u003Cp align=\"center\">\u003Cimg alt=\"приглашение на установку\" src=/topics/installing-the-server-software/osticket/static/ru_image_06.png width=1024>\u003C/p>\n\nНажимаем кнопку **Continue**.  \nЗаполняем данные администратора osTicket, указываем две электронные почты, которые не должны совпадать. Затем вводим параметры доступа к базе данных.\n\u003Cp align=\"center\">\u003Cimg alt=\"данные администратора osTicket\" src=/topics/installing-the-server-software/osticket/static/ru_image_07.png width=1024>\u003C/p>\n\u003Cp align=\"center\">\u003Cimg alt=\"данные администратора osTicket\" src=/topics/installing-the-server-software/osticket/static/ru_image_08.png width=1024>\u003C/p>\n\u003Cp align=\"center\">\u003Cimg alt=\"данные администратора osTicket\" src=/topics/installing-the-server-software/osticket/static/ru_image_09.png width=1024>\u003C/p>\nПосле этого производим саму установку.\n\n\u003Cp align=\"center\">\u003Cimg alt=\"установка\" src=/topics/installing-the-server-software/osticket/static/ru_image_10.png width=1024>\u003C/p>\nПосле установки увидим уведомление, что все прошло успешно. \n\u003Cp align=\"center\">\u003Cimg alt=\"уведомление\" src=/topics/installing-the-server-software/osticket/static/ru_image_11.png width=1024>\u003C/p>\n\nТеперь необходимо изменить разрешения на доступ к файлу **ost-config.php**:\n```\nchmod 0644 /var/www/html/osticket/osTicket-1.18.2/include/ost-config.php\n```\nТак же указано, как попасть в панель управления osTicket:\n```\nhttp://192.168.1.59/osticket/osTicket-1.18.2/scp\n```\nПереходим по указанному адресу и вводим данные администратора.\n\u003Cp align=\"center\">\u003Cimg alt=\"вводим данные администратора\" src=/topics/installing-the-server-software/osticket/static/ru_image_12.png width=1024>\u003C/p>\nВидим первый тикет, показывающий, что osTicket установлен. \n\u003Cp align=\"center\">\u003Cimg alt=\"вводим данные администратора\" src=/topics/installing-the-server-software/osticket/static/ru_image_13.png width=1024>\u003C/p>\n\nВсе данные представлены на английском языке. Выполним русификацию.\n\n## Русификация osTicket\n\nВсе действия выполняем через \n```\nsudo -s\n```\nПереходим в домашний каталог:\n```\ncd\n```\nСоздадим каталог для загрузки языкового пакета:\n```\nmkdir ru_language\n```\nПереходим в каталог:\n```\ncd ru_language\n```\nСкачиваем языковой пакет:\n```\nwget https://s3.amazonaws.com/downloads.osticket.com/lang/1.14.x/ru.phar\n```\nСоздаем php файл:\n```\nnano extract.php\n```\nВставляем блок кода:\n```\n\u003C?php\ntry {\n$phar = new Phar('ru.phar');\n$phar->extractTo('./',null,true); // extract all files\n} catch (Exception $e) {\necho \"there was an error\u003Cbr>\";\nprint_r($e);\n}\n?>\n```\nСохраняем файл (**CTRL+O**) и выходим из файла (**CTRL+X**):\nЗапускаем скрипт и распаковываем файлы:\n```\nphp extract.php\n```\nСоздаём папку для языкового пакета:\n```\nmkdir -p /var/www/html/osticket/osTicket-1.18.2/include/ i18n/ru_RU\n```\nСинхронизируем распакованные файлы с созданной папкой, за исключением _extract.php_ и _ru.phar_\n```\nrsync -r --exclude=ru.phar --exclude=extract.php /root/ru_language/ /var/www/html/osticket/osTicket-1.18.2/include/i18n/ru_RU/\n```\nОбратите внимание, если Вы сделали директорию не под root, то команда будет выглядеть примерно вот так:\n```\nrsync -r --exclude=ru.phar --exclude=extract.php /home/jetcry/ru_language /var/www/html/osticket/osTicket-1.18.2/include/i18n/ru_RU/\n```\nДалее изменим разрешения на директорию с движком для web-сервера:\n```\nchown -R www-data:www-data /var/www/html/osticket/\n```\nМеняем разрешения на папку с движком osTicket:\n```\nchmod -R 755 /var/www/html/osticket/\n```\nМеняем разрешения на конфигурационный файл osTicket:\n```\nchmod 644 /var/www/html/osticket/osTicket-1.18.2/include/ost-config.php\n```\nПерезапускаем web-сервер:\n```\nsystemctl restart apache2\n```\n\nПереходим в _Admin Panel_ в браузере.\n\n\u003Cp align=\"center\">\u003Cimg alt=\"Admin Panel\" src=/topics/installing-the-server-software/osticket/static/ru_image_14.png width=1024>\u003C/p>\nВыбираем _Primary_ _Language_ «русский». Сохраняем изменения.\n\u003Cp align=\"center\">\u003Cimg alt=\"Primary_ _Language\" src=/topics/installing-the-server-software/osticket/static/ru_image_15.png width=1024>\u003C/p>\nВидим, что изменения применились. \n\u003Cp align=\"center\">\u003Cimg alt=\"английский язык\" src=/topics/installing-the-server-software/osticket/static/ru_image_16.png width=1024>\u003C/p>\nПерезагружаем страницу.\n\u003Cp align=\"center\">\u003Cimg alt=\"русский язык\" src=/topics/installing-the-server-software/osticket/static/ru_image_17.png width=1024>\u003C/p>\n\nСистема osTicket русифицирована.  \nНа этом моменте osTicket предложил для обеспечения безопасности удалить папку **setup**  с сервера. Выполним это действие командой:\n```\nrm -r /var/www/html/osticket/osTicket-1.18.2/setup\n```\nДалее переходим в панель персонала и можно приступать непосредственно к работе в osTicket.  \nНа этом установка и русификация osTicket завершены. \n\n## Немного о безопасности\nВы можете дополнительно использовать SSL сертификаты для обеспечения безопасности подключения. В этом случае рекомендуем Вам воспользоваться бесплатными SSL сертификатами Let's Encrypt, для регистрации и получения которых в центре сертификации нужно установить пакет certbot и плагин под Apache:\n```\napt install certbot python3-certbot-apache -y\n```\nЗапрос на получение сертификата:\n ```\ncertbot --apache\n```\nВводим необходимые данные и перезапускаем сервер:\n```\nsystemctl restart apache2\n```\nДобавьте автоматическое обновление сертификатов:\n```\nsystemctl enable certbot.timer\n```\n\nЕсли Вы по каким-то причинам не хотите использовать сертификаты, то можно создать SSH-туннель для подключения к osTicket.  \nВ этом случае не потребуется использование доменного имени и сертификата.  \nКоманда на клиентском хосте:\n```\nssh -L 80:localhost:80 jetcry@192.168.1.59\n```\nПосле этого подключение выполняйте на IP-адрес 127.0.0.1:\n```\nhttp://127.0.0.1/osticket/osTicket-1.18.2/scp/login.php\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"русский язык\" src=/topics/installing-the-server-software/osticket/static/ru_image_18.png width=1024>\u003C/p>\n\nНа этом установка osTicket завершена. Можно приступать к работе с платформой.\n",updatedAt:new Date(1749222605523),markdown:"\n\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Система osTicket предлагает централизованную платформу, на которой запросы в службу поддержки преобразуются в тикеты (заявки), с которыми можно работать. Платформа построена на базе открытого кода. \u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"подготовка-к-установке-дистрибутива\"\n>Подготовка к установке дистрибутива\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Переходим в режим выполнения команд от суперпользователя:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> -s\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Перед установкой обновим систему:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>apt \u003Cspan class=\"hljs-keyword\">update\u003C/span> \u003Cspan class=\"hljs-variable\">&amp;&amp;\u003C/span> apt upgrade -y\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Изначально текстовый редактор nano и утилита wget для скачивания файлов из интернета уже присутствуют в системе, если они не установлены, то выполним команду:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>apt \u003Cspan class=\"hljs-keyword\">install\u003C/span> nano wget -y\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если у Вас есть доменное имя, то проверьте, что имя сервера ему соответствует, в противном случае установите имя сервера (в примере osticket.test.ru):\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-string\">hostnamectl\u003C/span> \u003Cspan class=\"hljs-built_in\">set-hostname\u003C/span> \u003Cspan class=\"hljs-string\">osticket\u003C/span>.\u003Cspan class=\"hljs-string\">test\u003C/span>.\u003Cspan class=\"hljs-string\">ru\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>В нашей статье у нас сервер «из коробки», на нем не настроен DNS, поэтому мы будем показывать вариант работы с доменным именем и с IP-адресом. Мы выбрали вариант работы с IP-адресом, потому что он чуть сложнее, с доменным именем будет проще.\u003Cbr>\nУстановим временную зону: \u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-string\">timedatectl\u003C/span> \u003Cspan class=\"hljs-built_in\">set-timezone\u003C/span> \u003Cspan class=\"hljs-string\">Europe\u003C/span>/\u003Cspan class=\"hljs-string\">Moscow\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Установим службу синхронизации времени:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>apt \u003Cspan class=\"hljs-keyword\">install\u003C/span> chrony -y\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Добавим службу в автозагрузку при запуске системы:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>systemctl \u003Cspan class=\"hljs-built_in\">enable\u003C/span> chrony\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Для корректной работы перезагрузим сервер:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>reboot \u003Cspan class=\"hljs-built_in\">now\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Для правильной работы нам потребуются следующие компоненты стека LAMP: Apache, MariaDB, PHP.\u003Cbr>\nПереходим в режим выполнения команд от суперпользователя:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> -s\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Установим их в нужной конфигурации с помощью следующей команды:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>apt install apache2 mariadb-\u003Cspan class=\"hljs-keyword\">server\u003C/span> php libapache2-\u003Cspan class=\"hljs-keyword\">mod\u003C/span>-php php-mysql php-cgi php-fpm php-cli php-curl php-gd php-imap php-mbstring php-pear php-intl php-apcu php-\u003Cspan class=\"hljs-keyword\">common\u003C/span> php-bcmath -y\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Проверим, что порт 80 свободен, он потребуется для apache:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>netstat -ltnp | \u003Cspan class=\"hljs-keyword\">grep\u003C/span> -w \u003Cspan class=\"hljs-string\">&#x27;:80&#x27;\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">В моем случае он занят:\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/osticket/static/ru_image_01.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"ошибка при запуске apache\"\n                            src=\"/topics/installing-the-server-software/osticket/static/ru_image_01.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nЕсли он будет занят, то при выполнении запуска  apache2 Вы увидите ошибку:\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/osticket/static/ru_image_02.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"ошибка при запуске apache\"\n                            src=\"/topics/installing-the-server-software/osticket/static/ru_image_02.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nПроверим статус системы:\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/osticket/static/ru_image_03.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"статус системы\"\n                            src=\"/topics/installing-the-server-software/osticket/static/ru_image_03.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nВ моем случае порт 80 был занят nginx. Удалим процесс nginx, его PID 973:\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">kill\u003C/span> \u003Cspan class=\"hljs-number\">973\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Проверяем результат и запускаем apache2:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>systemctl \u003Cspan class=\"hljs-literal\">start\u003C/span> apache2\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/osticket/static/ru_image_04.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"запуск apache2\"\n                            src=\"/topics/installing-the-server-software/osticket/static/ru_image_04.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Далее запустим службу mariadb:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>systemctl \u003Cspan class=\"hljs-literal\">start\u003C/span> mariadb\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Теперь необходимо добавить в автозагрузку службы Apache и MariaDB:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>systemctl \u003Cspan class=\"hljs-built_in\">enable\u003C/span> apache2\u003C/code>\u003C/pre>\n\u003Cpre class=\"hljs\">\u003Ccode>systemctl \u003Cspan class=\"hljs-built_in\">enable\u003C/span> mariadb\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Для безопасности включим защиту базы данных:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">mysql_secure_installation\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Система будет задавать Вам следующие вопросы, на первый вопрос необходимо нажать просто Enter, на остальные необходимо ответить символом “Y”. Также надо будет задать пароль для root.\u003Cbr>\nПосле этого входим в оболочку MariaDB:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>mysql -u root -\u003Cspan class=\"hljs-selector-tag\">p\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Работа с базой данных аналогична работе с базой данных MySQL, про которую мы подробно писали в \u003Ca href=https://github.com/HostVDS-com/tutorials/blob/main/topics/databases/how-to-install-mysql-on-ubuntu-server/ru.md>этой статье\u003C/a>, рекомендуем ознакомиться с ней.\u003Cbr>\nСоздаем базу данных для osTicket:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-keyword\">CREATE\u003C/span> \u003Cspan class=\"hljs-keyword\">DATABASE\u003C/span> osticket;\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Обратите внимание, что все команды при работе с базой данных заканчиваются знаком \u003Cstrong>;\u003C/strong>\u003Cbr>\nСоздаем пользователя \u003Cstrong>osticket\u003C/strong> для базы данных \u003Cstrong>osticket\u003C/strong> и указываем для него пароль \u003Cstrong>osTicket\u003C/strong>:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-keyword\">CREATE\u003C/span> \u003Cspan class=\"hljs-keyword\">USER\u003C/span> \u003Cspan class=\"hljs-string\">&#x27;osticket&#x27;\u003C/span>@\u003Cspan class=\"hljs-string\">&#x27;localhost&#x27;\u003C/span> IDENTIFIED \u003Cspan class=\"hljs-keyword\">BY\u003C/span> \u003Cspan class=\"hljs-string\">&#x27;osTicket&#x27;\u003C/span>;\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Даем полные права на базу данных \u003Cstrong>osticket\u003C/strong> нашему пользователю \u003Cstrong>osticket\u003C/strong>:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-keyword\">GRANT\u003C/span> \u003Cspan class=\"hljs-keyword\">ALL\u003C/span> \u003Cspan class=\"hljs-keyword\">PRIVILEGES\u003C/span> \u003Cspan class=\"hljs-keyword\">ON\u003C/span> osticket.* \u003Cspan class=\"hljs-keyword\">TO\u003C/span> osticket@localhost IDENTIFIED \u003Cspan class=\"hljs-keyword\">BY\u003C/span> &quot;osTicket&quot;;\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Обновляем данные о привилегиях:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>FLUSH PRIVILEGES\u003Cspan class=\"hljs-comment\">;\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Выходим из настройки базы данных:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>EXIT\u003Cspan class=\"hljs-comment\">;\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"скачивание-дистрибутива-osticket\"\n>Скачивание дистрибутива osTicket\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Последняя версия osTicket v1.18.2 доступна на Гитхабе:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>https:\u003Cspan class=\"hljs-regexp\">//gi\u003C/span>thub.com\u003Cspan class=\"hljs-regexp\">/osTicket/\u003C/span>osTicket\u003Cspan class=\"hljs-regexp\">/releases/\u003C/span>tag/v1.\u003Cspan class=\"hljs-number\">18.2\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Скачаем дистрибутив:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>wget https:\u003Cspan class=\"hljs-regexp\">//gi\u003C/span>thub.com\u003Cspan class=\"hljs-regexp\">/osTicket/\u003C/span>osTicket\u003Cspan class=\"hljs-regexp\">/archive/\u003C/span>refs\u003Cspan class=\"hljs-regexp\">/tags/\u003C/span>v1.\u003Cspan class=\"hljs-number\">18.2\u003C/span>.tar.gz\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Создаем папку в директории для нашего сервера:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>mkdir \u003Cspan class=\"hljs-regexp\">/var/\u003C/span>www\u003Cspan class=\"hljs-regexp\">/html/\u003C/span>osticket\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Все команды выполняются под root.\nИзвлекаем архив в созданную папку:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">tar\u003C/span> -xf v1.\u003Cspan class=\"hljs-number\">18\u003C/span>.\u003Cspan class=\"hljs-number\">2\u003C/span>.tar.gz  -C /var/www/html/osticket\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Даем права web-серверу на созданную папку:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-title\">chown\u003C/span> -\u003Cspan class=\"hljs-type\">R\u003C/span> www-\u003Cspan class=\"hljs-class\">\u003Cspan class=\"hljs-keyword\">data\u003C/span>:www-\u003Cspan class=\"hljs-keyword\">data\u003C/span> /var/www/html/osticket\u003C/span>\u003C/code>\u003C/pre>\n\u003Cpre class=\"hljs\">\u003Ccode>chmod -\u003Cspan class=\"hljs-attribute\">R\u003C/span> \u003Cspan class=\"hljs-number\">755\u003C/span> /\u003Cspan class=\"hljs-selector-tag\">var\u003C/span>/www/\u003Cspan class=\"hljs-selector-tag\">html\u003C/span>/osticket\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Переименовываем конфигурационный файл ost-sampleconfig.php в  ost-config.php:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>mv \u003Cspan class=\"hljs-regexp\">/var/\u003C/span>www\u003Cspan class=\"hljs-regexp\">/html/\u003C/span>osticket\u003Cspan class=\"hljs-regexp\">/osTicket-1.18.2/\u003C/span>include\u003Cspan class=\"hljs-regexp\">/ost-sampleconfig.php /\u003C/span>\u003Cspan class=\"hljs-keyword\">var\u003C/span>\u003Cspan class=\"hljs-regexp\">/www/\u003C/span>html\u003Cspan class=\"hljs-regexp\">/osticket/\u003C/span>osTicket\u003Cspan class=\"hljs-number\">-1.18\u003C/span>\u003Cspan class=\"hljs-number\">.2\u003C/span>\u003Cspan class=\"hljs-regexp\">/include/\u003C/span>ost-config.php\u003C/code>\u003C/pre>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"создание-виртуального-хоста-apache\"\n>Создание виртуального хоста Apache\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Создаём файл конфигурации osTicket для виртуального хоста Apache с помощью текстового редактора nano:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>nano \u003Cspan class=\"hljs-regexp\">/etc/\u003C/span>apache2\u003Cspan class=\"hljs-regexp\">/sites-available/\u003C/span>osticket.conf\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Добавляем следующие строки:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-section\">&lt;VirtualHost *\u003Cspan class=\"hljs-number\">:80\u003C/span>&gt;\u003C/span>\n\u003Cspan class=\"hljs-attribute\">ServerName\u003C/span> osticket.test.ru\n\u003Cspan class=\"hljs-attribute\">ServerAdmin\u003C/span> admin@osticket.test.ru\n\u003Cspan class=\"hljs-attribute\">DocumentRoot\u003C/span> /var/www/html/osticket/osTicket-\u003Cspan class=\"hljs-number\">1\u003C/span>.\u003Cspan class=\"hljs-number\">18\u003C/span>.\u003Cspan class=\"hljs-number\">2\u003C/span>/include/&gt;\n\u003Cspan class=\"hljs-section\">&lt;Directory /var/www/html/osticket/osTicket-1.18.2/include/&gt;\u003C/span>\n\u003Cspan class=\"hljs-attribute\">Require\u003C/span> \u003Cspan class=\"hljs-literal\">all\u003C/span> granted\n\u003Cspan class=\"hljs-attribute\">Options\u003C/span> FollowSymlinks\n\u003Cspan class=\"hljs-attribute\">AllowOverride\u003C/span> \u003Cspan class=\"hljs-literal\">All\u003C/span>\n\u003Cspan class=\"hljs-section\">&lt;/Directory&gt;\u003C/span>\n\u003Cspan class=\"hljs-attribute\">ErrorLog\u003C/span> \u003Cspan class=\"hljs-variable\">${APACHE_LOG_DIR}\u003C/span>/osticket.error.log\n\u003Cspan class=\"hljs-attribute\">CustomLog\u003C/span> \u003Cspan class=\"hljs-variable\">${APACHE_LOG_DIR}\u003C/span>/osticket.access.log combined\n\u003Cspan class=\"hljs-section\">&lt;/VirtualHost&gt;\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Обратите внимание, что в качестве ServerName надо указать имя Вашего сервера!\u003Cbr>\nСохраняем файл CTRL+O, выходим из файла CTRL+X.\u003Cbr>\nАктивируем виртуальный хост osTicket:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">a2ensite\u003C/span> osticket.conf\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Включим модуль перезаписи Apache:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>a2enmod \u003Cspan class=\"hljs-built_in\">rewrite\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Перезапустим Apache:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>systemctl \u003Cspan class=\"hljs-built_in\">restart\u003C/span> apache2\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Проверим состояние web-сервера:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>systemctl \u003Cspan class=\"hljs-keyword\">status\u003C/span> apache2\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/osticket/static/ru_image_05.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"состояние web-сервера\"\n                            src=\"/topics/installing-the-server-software/osticket/static/ru_image_05.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Служба работает, переходим непосредственно к установке osTicket.\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"установка-и-запуск--osticket\"\n>Установка и запуск  osTicket\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если у Вас работает служба DNS, то введите в браузере:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-symbol\">http:\u003C/span>\u003Cspan class=\"hljs-comment\">//osticket.test.ru\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">где вместо \u003Cem>osticket.test.ru\u003C/em> введите имя Вашего сервера.\u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Либо введите:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">http\u003C/span>://\u003Cspan class=\"hljs-number\">192.168.1.59\u003C/span>/osticket/osTicket-\u003Cspan class=\"hljs-number\">1\u003C/span>.\u003Cspan class=\"hljs-number\">18\u003C/span>.\u003Cspan class=\"hljs-number\">2\u003C/span>/setup/install.php\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">где вместо \u003Cem>192.168.1.59\u003C/em> укажите IP-адрес Вашего сервера.\nВы увидите следующее приглашение на установку:\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/osticket/static/ru_image_06.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"приглашение на установку\"\n                            src=\"/topics/installing-the-server-software/osticket/static/ru_image_06.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Нажимаем кнопку \u003Cstrong>Continue\u003C/strong>.\u003Cbr>\nЗаполняем данные администратора osTicket, указываем две электронные почты, которые не должны совпадать. Затем вводим параметры доступа к базе данных.\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/osticket/static/ru_image_07.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"данные администратора osTicket\"\n                            src=\"/topics/installing-the-server-software/osticket/static/ru_image_07.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/osticket/static/ru_image_08.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"данные администратора osTicket\"\n                            src=\"/topics/installing-the-server-software/osticket/static/ru_image_08.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/osticket/static/ru_image_09.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"данные администратора osTicket\"\n                            src=\"/topics/installing-the-server-software/osticket/static/ru_image_09.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nПосле этого производим саму установку.\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/osticket/static/ru_image_10.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"установка\"\n                            src=\"/topics/installing-the-server-software/osticket/static/ru_image_10.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nПосле установки увидим уведомление, что все прошло успешно. \n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/osticket/static/ru_image_11.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"уведомление\"\n                            src=\"/topics/installing-the-server-software/osticket/static/ru_image_11.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Теперь необходимо изменить разрешения на доступ к файлу \u003Cstrong>ost-config.php\u003C/strong>:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">chmod\u003C/span> \u003Cspan class=\"hljs-number\">0644\u003C/span> /var/www/html/osticket/osTicket-\u003Cspan class=\"hljs-number\">1\u003C/span>.\u003Cspan class=\"hljs-number\">18\u003C/span>.\u003Cspan class=\"hljs-number\">2\u003C/span>/include/ost-config.php\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Так же указано, как попасть в панель управления osTicket:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">http\u003C/span>://\u003Cspan class=\"hljs-number\">192.168.1.59\u003C/span>/osticket/osTicket-\u003Cspan class=\"hljs-number\">1\u003C/span>.\u003Cspan class=\"hljs-number\">18\u003C/span>.\u003Cspan class=\"hljs-number\">2\u003C/span>/scp\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Переходим по указанному адресу и вводим данные администратора.\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/osticket/static/ru_image_12.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"вводим данные администратора\"\n                            src=\"/topics/installing-the-server-software/osticket/static/ru_image_12.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nВидим первый тикет, показывающий, что osTicket установлен. \n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/osticket/static/ru_image_13.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"вводим данные администратора\"\n                            src=\"/topics/installing-the-server-software/osticket/static/ru_image_13.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Все данные представлены на английском языке. Выполним русификацию.\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"русификация-osticket\"\n>Русификация osTicket\u003C/h2>\n\u003Cp class=\"mt-2 mb-2 text-md\">Все действия выполняем через \u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> -s\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Переходим в домашний каталог:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">cd\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Создадим каталог для загрузки языкового пакета:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>mkdir ru_language\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Переходим в каталог:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">cd\u003C/span> ru_language\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Скачиваем языковой пакет:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>wget https:\u003Cspan class=\"hljs-regexp\">//\u003C/span>s3.amazonaws.com\u003Cspan class=\"hljs-regexp\">/downloads.osticket.com/\u003C/span>lang\u003Cspan class=\"hljs-regexp\">/1.14.x/\u003C/span>ru.phar\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Создаем php файл:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">nano\u003C/span> extract.php\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Вставляем блок кода:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-meta\">&lt;?php\u003C/span>\n\u003Cspan class=\"hljs-keyword\">try\u003C/span> {\n\u003Cspan class=\"hljs-variable\">$phar\u003C/span> = \u003Cspan class=\"hljs-keyword\">new\u003C/span> \u003Cspan class=\"hljs-title class_\">Phar\u003C/span>(\u003Cspan class=\"hljs-string\">&#x27;ru.phar&#x27;\u003C/span>);\n\u003Cspan class=\"hljs-variable\">$phar\u003C/span>-&gt;\u003Cspan class=\"hljs-title function_ invoke__\">extractTo\u003C/span>(\u003Cspan class=\"hljs-string\">&#x27;./&#x27;\u003C/span>,\u003Cspan class=\"hljs-literal\">null\u003C/span>,\u003Cspan class=\"hljs-literal\">true\u003C/span>); \u003Cspan class=\"hljs-comment\">// extract all files\u003C/span>\n} \u003Cspan class=\"hljs-keyword\">catch\u003C/span> (\u003Cspan class=\"hljs-built_in\">Exception\u003C/span> \u003Cspan class=\"hljs-variable\">$e\u003C/span>) {\n\u003Cspan class=\"hljs-keyword\">echo\u003C/span> \u003Cspan class=\"hljs-string\">&quot;there was an error&lt;br&gt;&quot;\u003C/span>;\n\u003Cspan class=\"hljs-title function_ invoke__\">print_r\u003C/span>(\u003Cspan class=\"hljs-variable\">$e\u003C/span>);\n}\n\u003Cspan class=\"hljs-meta\">?&gt;\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Сохраняем файл (\u003Cstrong>CTRL+O\u003C/strong>) и выходим из файла (\u003Cstrong>CTRL+X\u003C/strong>):\nЗапускаем скрипт и распаковываем файлы:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">php\u003C/span> extract.php\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Создаём папку для языкового пакета:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>mkdir -p \u003Cspan class=\"hljs-regexp\">/var/\u003C/span>www\u003Cspan class=\"hljs-regexp\">/html/\u003C/span>osticket\u003Cspan class=\"hljs-regexp\">/osTicket-1.18.2/i\u003C/span>nclude\u003Cspan class=\"hljs-regexp\">/ i18n/\u003C/span>ru_RU\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Синхронизируем распакованные файлы с созданной папкой, за исключением \u003Cem>extract.php\u003C/em> и \u003Cem>ru.phar\u003C/em>\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>rsync -r --\u003Cspan class=\"hljs-keyword\">exclude\u003C/span>=ru.phar --\u003Cspan class=\"hljs-keyword\">exclude\u003C/span>=extract.php \u003Cspan class=\"hljs-regexp\">/root/\u003C/span>ru_language\u003Cspan class=\"hljs-regexp\">/ /\u003C/span>var\u003Cspan class=\"hljs-regexp\">/www/\u003C/span>html\u003Cspan class=\"hljs-regexp\">/osticket/\u003C/span>osTicket-\u003Cspan class=\"hljs-number\">1.18\u003C/span>.\u003Cspan class=\"hljs-number\">2\u003C/span>\u003Cspan class=\"hljs-regexp\">/include/i\u003C/span>18n\u003Cspan class=\"hljs-regexp\">/ru_RU/\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Обратите внимание, если Вы сделали директорию не под root, то команда будет выглядеть примерно вот так:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>rsync -r --\u003Cspan class=\"hljs-keyword\">exclude\u003C/span>=ru.phar --\u003Cspan class=\"hljs-keyword\">exclude\u003C/span>=extract.php \u003Cspan class=\"hljs-regexp\">/home/\u003C/span>jetcry\u003Cspan class=\"hljs-regexp\">/ru_language /\u003C/span>var\u003Cspan class=\"hljs-regexp\">/www/\u003C/span>html\u003Cspan class=\"hljs-regexp\">/osticket/\u003C/span>osTicket-\u003Cspan class=\"hljs-number\">1.18\u003C/span>.\u003Cspan class=\"hljs-number\">2\u003C/span>\u003Cspan class=\"hljs-regexp\">/include/i\u003C/span>18n\u003Cspan class=\"hljs-regexp\">/ru_RU/\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Далее изменим разрешения на директорию с движком для web-сервера:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-title\">chown\u003C/span> -\u003Cspan class=\"hljs-type\">R\u003C/span> www-\u003Cspan class=\"hljs-class\">\u003Cspan class=\"hljs-keyword\">data\u003C/span>:www-\u003Cspan class=\"hljs-keyword\">data\u003C/span> /var/www/html/osticket/\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Меняем разрешения на папку с движком osTicket:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>chmod -\u003Cspan class=\"hljs-attribute\">R\u003C/span> \u003Cspan class=\"hljs-number\">755\u003C/span> /\u003Cspan class=\"hljs-selector-tag\">var\u003C/span>/www/\u003Cspan class=\"hljs-selector-tag\">html\u003C/span>/osticket/\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Меняем разрешения на конфигурационный файл osTicket:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">chmod\u003C/span> \u003Cspan class=\"hljs-number\">644\u003C/span> /var/www/html/osticket/osTicket-\u003Cspan class=\"hljs-number\">1\u003C/span>.\u003Cspan class=\"hljs-number\">18\u003C/span>.\u003Cspan class=\"hljs-number\">2\u003C/span>/include/ost-config.php\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Перезапускаем web-сервер:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>systemctl \u003Cspan class=\"hljs-built_in\">restart\u003C/span> apache2\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Переходим в \u003Cem>Admin Panel\u003C/em> в браузере.\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/osticket/static/ru_image_14.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"Admin Panel\"\n                            src=\"/topics/installing-the-server-software/osticket/static/ru_image_14.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nВыбираем _Primary_ _Language_ «русский». Сохраняем изменения.\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/osticket/static/ru_image_15.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"Primary_ _Language\"\n                            src=\"/topics/installing-the-server-software/osticket/static/ru_image_15.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nВидим, что изменения применились. \n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/osticket/static/ru_image_16.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"английский язык\"\n                            src=\"/topics/installing-the-server-software/osticket/static/ru_image_16.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nПерезагружаем страницу.\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/osticket/static/ru_image_17.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"русский язык\"\n                            src=\"/topics/installing-the-server-software/osticket/static/ru_image_17.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Система osTicket русифицирована.\u003Cbr>\nНа этом моменте osTicket предложил для обеспечения безопасности удалить папку \u003Cstrong>setup\u003C/strong>  с сервера. Выполним это действие командой:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">rm\u003C/span> -r /var/www/html/osticket/osTicket-\u003Cspan class=\"hljs-number\">1\u003C/span>.\u003Cspan class=\"hljs-number\">18\u003C/span>.\u003Cspan class=\"hljs-number\">2\u003C/span>/setup\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Далее переходим в панель персонала и можно приступать непосредственно к работе в osTicket.\u003Cbr>\nНа этом установка и русификация osTicket завершены. \u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"немного-о-безопасности\"\n>Немного о безопасности\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Вы можете дополнительно использовать SSL сертификаты для обеспечения безопасности подключения. В этом случае рекомендуем Вам воспользоваться бесплатными SSL сертификатами Let’s Encrypt, для регистрации и получения которых в центре сертификации нужно установить пакет certbot и плагин под Apache:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>apt \u003Cspan class=\"hljs-keyword\">install\u003C/span> certbot python3-certbot-apache -y\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Запрос на получение сертификата:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>certbot \u003Cspan class=\"hljs-comment\">--apache\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Вводим необходимые данные и перезапускаем сервер:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>systemctl \u003Cspan class=\"hljs-built_in\">restart\u003C/span> apache2\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Добавьте автоматическое обновление сертификатов:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>systemctl \u003Cspan class=\"hljs-built_in\">enable\u003C/span> certbot.timer\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если Вы по каким-то причинам не хотите использовать сертификаты, то можно создать SSH-туннель для подключения к osTicket.\u003Cbr>\nВ этом случае не потребуется использование доменного имени и сертификата.\u003Cbr>\nКоманда на клиентском хосте:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">ssh\u003C/span> -L \u003Cspan class=\"hljs-number\">80\u003C/span>:localhost:\u003Cspan class=\"hljs-number\">80\u003C/span> jetcry@\u003Cspan class=\"hljs-number\">192.168.1.59\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>После этого подключение выполняйте на IP-адрес 127.0.0.1:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">http\u003C/span>://\u003Cspan class=\"hljs-number\">127.0.0.1\u003C/span>/osticket/osTicket-\u003Cspan class=\"hljs-number\">1\u003C/span>.\u003Cspan class=\"hljs-number\">18\u003C/span>.\u003Cspan class=\"hljs-number\">2\u003C/span>/scp/login.php\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/osticket/static/ru_image_18.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"русский язык\"\n                            src=\"/topics/installing-the-server-software/osticket/static/ru_image_18.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>На этом установка osTicket завершена. Можно приступать к работе с платформой.\u003C/p>\n",description:"В статье рассмотрим установку osTicket на Ubuntu 24.04. Создадим виртуальный хост Apache. Выполним первоначальную настройку и русификацию osTicket.",cover:"/topics/installing-the-server-software/osticket/static/ru_image_00.webp",tableOfContents:[{title:"Подготовка к установке дистрибутива",level:2,id:"подготовка-к-установке-дистрибутива"},{title:"Скачивание дистрибутива osTicket",level:2,id:"скачивание-дистрибутива-osticket"},{title:"Создание виртуального хоста Apache",level:2,id:"создание-виртуального-хоста-apache"},{title:"Установка и запуск  osTicket",level:2,id:"установка-и-запуск--osticket"},{title:"Русификация osTicket",level:2,id:"русификация-osticket"},{title:"Немного о безопасности",level:2,id:"немного-о-безопасности"}]},{slug:"how-to-install-vnc-server",tags:["vnc","ubuntu","ubuntu-24.04","gnome","xfce","ufw","tigervnc"],title:"Настройка удаленного рабочего стола через VNC на Ubuntu 24.04",content:"# Настройка удаленного рабочего стола через VNC на Ubuntu 24.04 \n\n## Введение\nVNC (Virtual Network Computing) в Ubuntu – это графическая система совместного использования рабочего стола, которая использует протокол Remote Frame Buffer для удаленного управления другим компьютером. Она функционирует по модели клиент-сервер, передает события клавиатуры и мыши с одного компьютера на другой, одновременно ретранслируя графические обновления экрана в обратном направлении по сетевому соединению. С помощью VNC можно администрировать и отлаживать системы без физического присутствия. \n\n## Подготовка системы\n\n> Вам потребуются привилегии sudo для установки пакетов и настройки параметров системы.\n\nПеред установкой проведем обновление системы, чтобы убедиться, что установлены последние версии пакетов и исправлений безопасности:\n```\nsudo apt-get update && sudo apt-get upgrade\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"обновление пакетов\" src=/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_01.png width=1024>\u003C/p>\n\nЕсли Вы используете Ubuntu Server без графического интерфейса, Вам потребуется установить среду рабочего стола. Ubuntu 24.04 предлагает несколько вариантов:  \n• GNOME: среда рабочего стола Ubuntu по умолчанию, многофункциональная, но ресурсоемкая.  \n• XFCE: облегченная среда рабочего стола, идеально подходящая для сценариев удаленного доступа.  \n• KDE Plasma: настраиваемое окружение рабочего стола с современными функциями и красивым дизайном.  \n• MATE: легкая традиционная компоновка окружения рабочего стола.  \n• LXQt: очень легкая и быстрая среда рабочего стола для старых систем.  \nДля установки VNC-сервера мы будем использовать систему XFCE, как самую легковесную и быструю. Установим её:\n```\nsudo apt install xfce4 xfce4-goodies\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"установка рабочего стола\" src=/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_02.png width=1024>\u003C/p>\n\nЕсли Вы предпочитаете GNOME (рабочий стол Ubuntu по умолчанию), то его можно установить с помощью команды::\n\n```\nsudo apt install ubuntu-gnome-desktop\n```\n\n\n## Установка VNC сервера\n\nПосле успешной подготовки системы, установим VNC-сервер. Для Ubuntu 24.04 доступно несколько реализаций VNC-серверов:  \n• TigerVNC: высокопроизводительный, надежный VNC-сервер с активным сообществом разработчиков.  \n• x11vnc: пакет присутствует в стандартных репозиториях большинства дистрибутивов Linux. Полезен для совместного использования существующих сеансов рабочего стола.  \n• TightVNC: эффективный VNC-сервер, ориентированный на оптимизацию пропускной способности.  \n• RealVNC Server:  коммерческое решение для удалённого доступа к серверу для различных дистрибутивов Linux.  \nВ данной статье мы будем использоавть TigerVNC, который предлагает оптимальный баланс функционала и производительности.  \n\nУстановим сервер TigerVNC:\n```\nsudo apt install tigervnc-standalone-server tigervnc-common\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"установка сервера\" src=/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_03.png width=1024>\u003C/p>\n\nУбедимся, что TigerVNC был установлен правильно, проверив его версию:\n```\nvncserver --version\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"проверка версии\" src=/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_04.png width=1024>\u003C/p>\n\n## Настройка VNC сервера\n\nУстановим пароль для доступа к VNC:\n```\nvncpasswd\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"установка пароля\" src=/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_05.png width=1024>\u003C/p>\n\nНам предложено ввести и подтвердить пароль. Этот пароль потребуется при подключении к VNC-серверу. В целях безопасности обязательно задавайте надежный пароль.  \n\nПри необходимости Вы можете установить пароль для режима view-only. Режим «только просмотр» разрешает пользователю видеть удаленный рабочий стол, но запрещает ему изменять какие-либо данные на нем.  \n\nЗапустим VNC-сервер один раз для генерации исходных конфигурационных файлов:\n```\nvncserver\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"запуск сервера\" src=/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_06.png width=1024>\u003C/p>\n\nПри этом в домашней папке будет создан каталог .vnc и он будет заполнен файлами конфигурации по умолчанию.  \nОстановим сервер для изменения этих файлов:\n```\nvncserver -kill :1\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"остановка сервера\" src=/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_07.png width=1024>\u003C/p>\n\nФайл xstartup определяет, какая среда рабочего стола запускается при подключении к VNC.  \nОтредактируем этот файл:\n```\nnano ~/.vnc/xstartup\n```\nДля XFCE заменим содержимое на:\n```\n#!/bin/bash\nxrdb $HOME/.Xresources\nstartxfce4 &\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"редактирование файла\" src=/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_08.png width=1024>\u003C/p>\n\nДля среды рабочего стола GNOME:\n```\n#!/bin/bash\nxrdb $HOME/.Xresources\nexport XKL_XMODMAP_DISABLE=1\n/etc/X11/Xsession\ngnome-session &\n```\nДля среды рабочего стола KDE Plasma:\n```\n#!/bin/bash\nxrdb $HOME/.Xresources\nexport XKL_XMODMAP_DISABLE=1\n/etc/X11/Xsession\nstartplasma-x11 &\n```\nСохраним файл (Ctrl+O, затем Enter) и выйдем (Ctrl+X).\\\nСделаем файл исполняемым:\n```\nchmod +x ~/.vnc/xstartup\n```\nНа этом настройка завершена, переходим к запуску и управлению сервером VNC.\n\n## Запуск и управление VNC сервером\n\nЗапустим свой VNC-сервер:\n```\nvncserver -localhost no\n```\n\nОпция позволяет подключаться с внешних компьютеров. Без этой опции были бы разрешены только подключения с локальной машины.\n\n\u003Cp align=\"center\">\u003Cimg alt=\"запуск сервера\" src=/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_09.png width=1024>\u003C/p>\n\n\nПри успешном выполнении команды увидим «New 'X' desktop is your_hostname:1», это означает, что сервер VNC работает на дисплее :1 (обычно порт 5901). Серверы VNC используют номера отображения, соответствующие определенным сетевым портам:  \n• Дисплей :1 соответствует порту 5901  \n• Дисплей :2 соответствует порту 5902 и так далее.  \nНомер порта рассчитывается как 5900 + номер дисплея.  \nTigerVNC предлагает множество опций командной строки для настройки сервера:  \n• geometry WIDTHxHEIGHT: Установка разрешения экрана  \n• depth DEPTH: Устанавливает глубину цвета (16, 24 и т.д.)  \n• localhost yes/no: Определяет, разрешены ли удаленные подключения  \n• name NAME: Устанавливает имя для сеанса рабочего стола  \nДля примера запустим сервер VNC с разрешением Full HD, 24-битной глубиной цвета, пользовательским именем и позволим удаленное подключение:  \n```\nvncserver -geometry 1920x1080 -depth 24 -name \"Ubuntu Remote Desktop\" -localhost no :1\n```\n\nОбеспечим запуск VNC-сервера автоматически при загрузке, создав службу в операционной системе:\n```\nsudo nano /etc/systemd/system/vncserver@.service\n```\nДобавим следующие данные:\n```\n[Unit]\nDescription=Start TigerVNC server at startup\nAfter=syslog.target network.target\n\n[Service]\nType=forking\nUser=your_username\nGroup=your_username\nWorkingDirectory=/home/your_username\n\nPIDFile=/home/your_username/.vnc/%H:%i.pid\nExecStartPre=-/usr/bin/vncserver -kill :%i > /dev/null 2>&1\nExecStart=/usr/bin/vncserver -depth 24 -geometry 1920x1080 -localhost no :%i\nExecStop=/usr/bin/vncserver -kill :%i\n\n[Install]\nWantedBy=multi-user.target\n```\n\nЗамените your_username своим фактическим именем пользователя.\n\n\u003Cp align=\"center\">\u003Cimg alt=\"автозапуск сервера\" src=/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_10.png width=1024>\u003C/p>\n\nПроведем включение и запуск службы:\n\n```\nsudo systemctl daemon-reload\nsudo systemctl enable vncserver@.service\nsudo systemctl start vncserver@.service\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"перезапуск служб\" src=/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_11.png width=1024>\u003C/p>\n\nМы создали службу, которая запускает сервер VNC на дисплее :1 при загрузке системы.\n\n## Настройка брандмауэра\n\nПри использовании UFW (Uncomplicated Firewall), необходимо разрешить трафик VNC:\n```\nsudo ufw allow 5901/tcp\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"настройка брандмауэра\" src=/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_12.png width=1024>\u003C/p>\n\nПри работе с несколькими дисплеями, потребуется разрешить дополнительные порты:\n```\nsudo ufw allow 5901:5905/tcp\n```\nПри использовании IPTables напрямую, потребуется разрешить трафик VNC:\n```\nsudo iptables -A INPUT -p tcp --dport 5901 -j ACCEPT \nsudo iptables-save\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"настройка iptables\" src=/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_13.png width=1024>\u003C/p>\n\nТакже необходимо провести сохранение этих правил:\n```\nsudo apt install iptables-persistent\nsudo netfilter-persistent save\n```\nПроверим на стройку брандмауэра и IPTables:\n```\nsudo ufw status\n```\n\n\u003Cp align=\"center\">\u003Cimg alt=\"статус ufw\" src=/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_14.png width=1024>\u003C/p>\n\n```\nsudo iptables -L\n```\n\n\u003Cp align=\"center\">\u003Cimg alt=\"статус iptables\" src=/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_15.png width=1024>\u003C/p>\n\nЭти команды отображают текущие правила брандмауэра, позволяя проверить, правильно ли разрешены порты VNC.\n\n## Подключение к VNC серверу\n\nПосле того как сервер VNC запущен и брандмауэр настроен, подключимся с клиентского устройства.  \nДля разных платформ доступны различные VNC-клиенты:  \n• Linux: TigerVNC Viewer, Remmina  \n• Windows: TightVNC Viewer, RealVNC Viewer  \n• macOS: RealVNC  \n• Android и iOS: VNC Viewer   \n\nДля подключения к VNC-серверу потребуется ввести: \n```\nyour_server_ip:1\n```\nВ некоторых случаях может потребоваться указать полный формат с номером порта:\n```\nyour_server_ip:5901\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"удаленное подключение\" src=/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_16.png width=1024>\u003C/p>\n\nРабочийстол будет выглядеть следующим образом:\n\u003Cp align=\"center\">\u003Cimg alt=\"удаленный рабочий стол\" src=/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_17.png width=1024>\u003C/p>\nVNC не был разработан с учетом высоких требований к безопасности, поэтому для защиты удаленного рабочего стола мы рекомендуем применить туннелирование через SSH. \n\nТакой подход обеспечит шифрование VNC-соединений.\n\nДля направления трафика VNC через зашифрованный туннель SSH запустим сервер с использованием параметра:\n```\nvncserver -localhost yes\n```\n\nПараметр гарантирует, что VNC-сервер принимает соединения теперь только с localhost. \n\nВыполним подключение через туннель SSH с клиентского компьютера:\n```\nssh -L 5901:localhost:5901 username@your_server_ip\n```\n\nДополнительно можно создать отдельного пользователя для доступа к VNC-серверу:\n```\nsudo adduser vncuser\nsudo usermod -aG sudo vncuser\n```\n\nВключим общий доступ к буферу обмена, чтобы копировать текст между локальными и удаленными компьютерами:\n```\nvncserver -AllowClipboardTransfer=yes :1\n```\nТакже данный сервер поддерживает передачу файлов. Включить данную возможность можно с помощью команды:\n```\nvncserver -AllowFileDrag=true :1\n```\n\nЕсли возникла необходимость удалить VNC-сервер и конфигурацию, воспользуйтесь командой:\n```\nsudo apt purge tigervnc-standalone-server tigervnc-common\nrm -rf ~/.vnc\n```\n\n## Заключение\n\nМы рассмотрели этапы установки и настройки VNC-сервера для создания удаленного рабочего стола. Уделите особое внимание безопасности при создании таких подключений. Используйте надежные пароли и ограничьте доступ к VNC  с помощью брандмауэра.  \nОбязательно создавайте SSH-туннели для защиты Ваших данных.\n",updatedAt:new Date(1749222605518),markdown:"\n\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"введение\"\n>Введение\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>VNC (Virtual Network Computing) в Ubuntu – это графическая система совместного использования рабочего стола, которая использует протокол Remote Frame Buffer для удаленного управления другим компьютером. Она функционирует по модели клиент-сервер, передает события клавиатуры и мыши с одного компьютера на другой, одновременно ретранслируя графические обновления экрана в обратном направлении по сетевому соединению. С помощью VNC можно администрировать и отлаживать системы без физического присутствия. \u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"подготовка-системы\"\n>Подготовка системы\u003C/h2>\n\u003Cblockquote>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Вам потребуются привилегии sudo для установки пакетов и настройки параметров системы.\u003C/p>\n\u003C/blockquote>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Перед установкой проведем обновление системы, чтобы убедиться, что установлены последние версии пакетов и исправлений безопасности:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt-get update &amp;&amp; \u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt-get upgrade\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_01.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"обновление пакетов\"\n                            src=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_01.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если Вы используете Ubuntu Server без графического интерфейса, Вам потребуется установить среду рабочего стола. Ubuntu 24.04 предлагает несколько вариантов:\u003Cbr>\n• GNOME: среда рабочего стола Ubuntu по умолчанию, многофункциональная, но ресурсоемкая.\u003Cbr>\n• XFCE: облегченная среда рабочего стола, идеально подходящая для сценариев удаленного доступа.\u003Cbr>\n• KDE Plasma: настраиваемое окружение рабочего стола с современными функциями и красивым дизайном.\u003Cbr>\n• MATE: легкая традиционная компоновка окружения рабочего стола.\u003Cbr>\n• LXQt: очень легкая и быстрая среда рабочего стола для старых систем.\u003Cbr>\nДля установки VNC-сервера мы будем использовать систему XFCE, как самую легковесную и быструю. Установим её:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt install xfce4 xfce4-goodies\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_02.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"установка рабочего стола\"\n                            src=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_02.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если Вы предпочитаете GNOME (рабочий стол Ubuntu по умолчанию), то его можно установить с помощью команды::\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt install ubuntu-gnome-desktop\u003C/code>\u003C/pre>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"установка-vnc-сервера\"\n>Установка VNC сервера\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>После успешной подготовки системы, установим VNC-сервер. Для Ubuntu 24.04 доступно несколько реализаций VNC-серверов:\u003Cbr>\n• TigerVNC: высокопроизводительный, надежный VNC-сервер с активным сообществом разработчиков.\u003Cbr>\n• x11vnc: пакет присутствует в стандартных репозиториях большинства дистрибутивов Linux. Полезен для совместного использования существующих сеансов рабочего стола.\u003Cbr>\n• TightVNC: эффективный VNC-сервер, ориентированный на оптимизацию пропускной способности.\u003Cbr>\n• RealVNC Server:  коммерческое решение для удалённого доступа к серверу для различных дистрибутивов Linux.\u003Cbr>\nВ данной статье мы будем использоавть TigerVNC, который предлагает оптимальный баланс функционала и производительности.  \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Установим сервер TigerVNC:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt install tigervnc-standalone-server tigervnc-common\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_03.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"установка сервера\"\n                            src=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_03.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Убедимся, что TigerVNC был установлен правильно, проверив его версию:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>vncserver \u003Cspan class=\"hljs-comment\">--version\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_04.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"проверка версии\"\n                            src=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_04.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"настройка-vnc-сервера\"\n>Настройка VNC сервера\u003C/h2>\n\u003Cp class=\"mt-2 mb-2 text-md\">Установим пароль для доступа к VNC:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">vncpasswd\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_05.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"установка пароля\"\n                            src=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_05.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Нам предложено ввести и подтвердить пароль. Этот пароль потребуется при подключении к VNC-серверу. В целях безопасности обязательно задавайте надежный пароль.  \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>При необходимости Вы можете установить пароль для режима view-only. Режим «только просмотр» разрешает пользователю видеть удаленный рабочий стол, но запрещает ему изменять какие-либо данные на нем.  \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Запустим VNC-сервер один раз для генерации исходных конфигурационных файлов:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">vncserver\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_06.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"запуск сервера\"\n                            src=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_06.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>При этом в домашней папке будет создан каталог .vnc и он будет заполнен файлами конфигурации по умолчанию.\u003Cbr>\nОстановим сервер для изменения этих файлов:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">vncserver\u003C/span> -kill :\u003Cspan class=\"hljs-number\">1\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_07.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"остановка сервера\"\n                            src=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_07.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Файл xstartup определяет, какая среда рабочего стола запускается при подключении к VNC.\u003Cbr>\nОтредактируем этот файл:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>nano ~\u003Cspan class=\"hljs-regexp\">/.vnc/\u003C/span>xstartup\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Для XFCE заменим содержимое на:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-meta\">#!/bin/bash\u003C/span>\nxrdb \u003Cspan class=\"hljs-variable\">$HOME\u003C/span>/.Xresources\nstartxfce4 &amp;\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_08.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"редактирование файла\"\n                            src=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_08.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Для среды рабочего стола GNOME:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-meta\">#!/bin/bash\u003C/span>\nxrdb \u003Cspan class=\"hljs-variable\">$HOME\u003C/span>/.Xresources\n\u003Cspan class=\"hljs-built_in\">export\u003C/span> XKL_XMODMAP_DISABLE=1\n/etc/X11/Xsession\ngnome-session &amp;\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Для среды рабочего стола KDE Plasma:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-meta\">#!/bin/bash\u003C/span>\nxrdb \u003Cspan class=\"hljs-variable\">$HOME\u003C/span>/.Xresources\n\u003Cspan class=\"hljs-built_in\">export\u003C/span> XKL_XMODMAP_DISABLE=1\n/etc/X11/Xsession\nstartplasma-x11 &amp;\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Сохраним файл (Ctrl+O, затем Enter) и выйдем (Ctrl+X).\\\nСделаем файл исполняемым:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">chmod\u003C/span> +x ~/.vnc/xstartup\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>На этом настройка завершена, переходим к запуску и управлению сервером VNC.\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"запуск-и-управление-vnc-сервером\"\n>Запуск и управление VNC сервером\u003C/h2>\n\u003Cp class=\"mt-2 mb-2 text-md\">Запустим свой VNC-сервер:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">vncserver\u003C/span> -localhost \u003Cspan class=\"hljs-literal\">no\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Опция позволяет подключаться с внешних компьютеров. Без этой опции были бы разрешены только подключения с локальной машины.\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_09.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"запуск сервера\"\n                            src=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_09.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>При успешном выполнении команды увидим «New ‘X’ desktop is your_hostname:1», это означает, что сервер VNC работает на дисплее :1 (обычно порт 5901). Серверы VNC используют номера отображения, соответствующие определенным сетевым портам:\u003Cbr>\n• Дисплей :1 соответствует порту 5901\u003Cbr>\n• Дисплей :2 соответствует порту 5902 и так далее.\u003Cbr>\nНомер порта рассчитывается как 5900 + номер дисплея.\u003Cbr>\nTigerVNC предлагает множество опций командной строки для настройки сервера:\u003Cbr>\n• geometry WIDTHxHEIGHT: Установка разрешения экрана\u003Cbr>\n• depth DEPTH: Устанавливает глубину цвета (16, 24 и т.д.)\u003Cbr>\n• localhost yes/no: Определяет, разрешены ли удаленные подключения\u003Cbr>\n• name NAME: Устанавливает имя для сеанса рабочего стола\u003Cbr>\nДля примера запустим сервер VNC с разрешением Full HD, 24-битной глубиной цвета, пользовательским именем и позволим удаленное подключение:  \u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">vncserver\u003C/span> -geometry \u003Cspan class=\"hljs-number\">1920\u003C/span>x1080 -depth \u003Cspan class=\"hljs-number\">24\u003C/span> -name \u003Cspan class=\"hljs-string\">&quot;Ubuntu Remote Desktop&quot;\u003C/span> -localhost no :\u003Cspan class=\"hljs-number\">1\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Обеспечим запуск VNC-сервера автоматически при загрузке, создав службу в операционной системе:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> nano /etc/systemd/system/vncserver@.service\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Добавим следующие данные:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-section\">[Unit]\u003C/span>\n\u003Cspan class=\"hljs-attr\">Description\u003C/span>=Start TigerVNC server at startup\n\u003Cspan class=\"hljs-attr\">After\u003C/span>=syslog.target network.target\n\n\u003Cspan class=\"hljs-section\">[Service]\u003C/span>\n\u003Cspan class=\"hljs-attr\">Type\u003C/span>=forking\n\u003Cspan class=\"hljs-attr\">User\u003C/span>=your_username\n\u003Cspan class=\"hljs-attr\">Group\u003C/span>=your_username\n\u003Cspan class=\"hljs-attr\">WorkingDirectory\u003C/span>=/home/your_username\n\n\u003Cspan class=\"hljs-attr\">PIDFile\u003C/span>=/home/your_username/.vnc/%H:%i.pid\n\u003Cspan class=\"hljs-attr\">ExecStartPre\u003C/span>=-/usr/bin/vncserver -kill :%i &gt; /dev/null \u003Cspan class=\"hljs-number\">2\u003C/span>&gt;&amp;\u003Cspan class=\"hljs-number\">1\u003C/span>\n\u003Cspan class=\"hljs-attr\">ExecStart\u003C/span>=/usr/bin/vncserver -depth \u003Cspan class=\"hljs-number\">24\u003C/span> -geometry \u003Cspan class=\"hljs-number\">1920\u003C/span>x1080 -localhost \u003Cspan class=\"hljs-literal\">no\u003C/span> :%i\n\u003Cspan class=\"hljs-attr\">ExecStop\u003C/span>=/usr/bin/vncserver -kill :%i\n\n\u003Cspan class=\"hljs-section\">[Install]\u003C/span>\n\u003Cspan class=\"hljs-attr\">WantedBy\u003C/span>=multi-user.target\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Замените your_username своим фактическим именем пользователя.\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_10.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"автозапуск сервера\"\n                            src=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_10.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Проведем включение и запуск службы:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl daemon-reload\n\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl \u003Cspan class=\"hljs-built_in\">enable\u003C/span> vncserver@.service\n\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl start vncserver@.service\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_11.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"перезапуск служб\"\n                            src=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_11.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Мы создали службу, которая запускает сервер VNC на дисплее :1 при загрузке системы.\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"настройка-брандмауэра\"\n>Настройка брандмауэра\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>При использовании UFW (Uncomplicated Firewall), необходимо разрешить трафик VNC:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> ufw allow 5901/tcp\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_12.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"настройка брандмауэра\"\n                            src=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_12.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>При работе с несколькими дисплеями, потребуется разрешить дополнительные порты:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> ufw allow 5901:5905/tcp\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>При использовании IPTables напрямую, потребуется разрешить трафик VNC:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> iptables -A INPUT -p tcp --dport 5901 -j ACCEPT \n\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> iptables-save\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_13.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"настройка iptables\"\n                            src=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_13.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Также необходимо провести сохранение этих правил:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt install iptables-persistent\n\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> netfilter-persistent save\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Проверим на стройку брандмауэра и IPTables:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> ufw status\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_14.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"статус ufw\"\n                            src=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_14.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> iptables -L\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_15.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"статус iptables\"\n                            src=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_15.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Эти команды отображают текущие правила брандмауэра, позволяя проверить, правильно ли разрешены порты VNC.\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"подключение-к-vnc-серверу\"\n>Подключение к VNC серверу\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>После того как сервер VNC запущен и брандмауэр настроен, подключимся с клиентского устройства.\u003Cbr>\nДля разных платформ доступны различные VNC-клиенты:\u003Cbr>\n• Linux: TigerVNC Viewer, Remmina\u003Cbr>\n• Windows: TightVNC Viewer, RealVNC Viewer\u003Cbr>\n• macOS: RealVNC\u003Cbr>\n• Android и iOS: VNC Viewer   \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Для подключения к VNC-серверу потребуется ввести: \u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">your_server_ip\u003C/span>:\u003Cspan class=\"hljs-number\">1\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>В некоторых случаях может потребоваться указать полный формат с номером порта:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">your_server_ip\u003C/span>:\u003Cspan class=\"hljs-number\">5901\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_16.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"удаленное подключение\"\n                            src=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_16.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Рабочийстол будет выглядеть следующим образом:\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_17.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"удаленный рабочий стол\"\n                            src=\"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_17.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nVNC не был разработан с учетом высоких требований к безопасности, поэтому для защиты удаленного рабочего стола мы рекомендуем применить туннелирование через SSH.\n\u003Cp class=\"mt-2 mb-2 text-md\">Такой подход обеспечит шифрование VNC-соединений.\u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Для направления трафика VNC через зашифрованный туннель SSH запустим сервер с использованием параметра:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">vncserver\u003C/span> -localhost \u003Cspan class=\"hljs-literal\">yes\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Параметр гарантирует, что VNC-сервер принимает соединения теперь только с localhost. \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Выполним подключение через туннель SSH с клиентского компьютера:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">ssh\u003C/span> -L \u003Cspan class=\"hljs-number\">5901\u003C/span>:localhost:\u003Cspan class=\"hljs-number\">5901\u003C/span> username@your_server_ip\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Дополнительно можно создать отдельного пользователя для доступа к VNC-серверу:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> adduser vncuser\n\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> usermod -aG \u003Cspan class=\"hljs-built_in\">sudo\u003C/span> vncuser\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Включим общий доступ к буферу обмена, чтобы копировать текст между локальными и удаленными компьютерами:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">vncserver\u003C/span> -AllowClipboardTransfer=\u003Cspan class=\"hljs-literal\">yes\u003C/span> :\u003Cspan class=\"hljs-number\">1\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Также данный сервер поддерживает передачу файлов. Включить данную возможность можно с помощью команды:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">vncserver\u003C/span> -AllowFileDrag=\u003Cspan class=\"hljs-literal\">true\u003C/span> :\u003Cspan class=\"hljs-number\">1\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если возникла необходимость удалить VNC-сервер и конфигурацию, воспользуйтесь командой:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt purge tigervnc-standalone-server tigervnc-common\n\u003Cspan class=\"hljs-built_in\">rm\u003C/span> -rf ~/.vnc\u003C/code>\u003C/pre>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"заключение\"\n>Заключение\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Мы рассмотрели этапы установки и настройки VNC-сервера для создания удаленного рабочего стола. Уделите особое внимание безопасности при создании таких подключений. Используйте надежные пароли и ограничьте доступ к VNC  с помощью брандмауэра.\u003Cbr>\nОбязательно создавайте SSH-туннели для защиты Ваших данных.\u003C/p>\n",description:"В статье рассмотрим как установить и настроить удаленный рабочий стол с помощью VNC сервера на Ubuntu 24.04. Создадим подключение к рабочему столу с персональными настройками. Настроим работу сервера для передачи файлов.",cover:"/topics/installing-the-server-software/how-to-install-vnc-server/static/ru_image_00.webp",tableOfContents:[{title:"Введение",level:2,id:"введение"},{title:"Подготовка системы",level:2,id:"подготовка-системы"},{title:"Установка VNC сервера",level:2,id:"установка-vnc-сервера"},{title:"Настройка VNC сервера",level:2,id:"настройка-vnc-сервера"},{title:"Запуск и управление VNC сервером",level:2,id:"запуск-и-управление-vnc-сервером"},{title:"Настройка брандмауэра",level:2,id:"настройка-брандмауэра"},{title:"Подключение к VNC серверу",level:2,id:"подключение-к-vnc-серверу"},{title:"Заключение",level:2,id:"заключение"}]},{slug:"how-to-install-phpmyadmin-on-ubuntu-server",tags:["phpmyadmin","php","apache","mysql","ubuntu","ubuntu-24.04","ssl"],title:"Как установить phpMyAdmin на Ubuntu 24.04",content:"\n# Как установить phpMyAdmin на Ubuntu 24.04\n\nВеб-приложение phpMyAdmin разрабатывается с открытым кодом и представляет собой веб-интерфейс для администрирования СУБД MySQL.\n\n## Установка mySQL\n\nПеред установкой и настройкой phpMyAdmin предварительно установим и настроим СУБД mySQL, если она еще не установлена на Ваш сервер.\nМы подробно расписывали установку и настройку СУБД mySQL в [этой статье](/databases/how-to-install-mysql-on-ubuntu-server), сейчас создадим только пользователя phpmyadmin, который по умолчанию будет работать с phpMyAdmin. \nУстановим и обновим все пакеты системы:\n\n```\nsudo apt update && sudo apt upgrade -y\n```\n\nУстановим mySQL:\n\n```\nsudo apt install mysql-server -y\n```\n\nЗапускаем СУБД:\n\n```\nsudo systemctl start mysql\n```\n\nУстанавливаем автоматический запуск после перезагрузки системы:\n\n```\nsudo systemctl enable mysql\n```\n\nЗащищаем нашу СУБД:\n\n```\nsudo mysql_secure_installation\n```\n\nРекомендуем согласиться со следующими параметрами:  \nУстановить утилиту для проверки надежности паролей validate password.  \nУстановим уровень 2 для максимальной сложности вводимых паролей.\n\n\u003Cp align=\"center\">\u003Cimg alt=\"validate password\" src=/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_01.png width=1024>\u003C/p>\n\nДалее предлагаем согласиться (нажать **Y**) со всеми пунктами:  \n•\tRemove anonymous users (Удалить анонимных пользователей)  \n•\tDisallow root login remotely (Запретить удаленный вход пользователя root)  \n•\tRemove the test database (Удалить тестовую базу данных)  \n•\tReload privilege tables (Перезагрузить таблицы привилегий)\n\nПереходим в mySQL:\n\n```\nsudo mysql\n```\n\nСоздаем пользователя phpmyadmin и задаем ему пароль Pmy@dm1n:\n\n```\nCREATE USER 'phpmyadmin'@'localhost' IDENTIFIED WITH 'caching_sha2_password' BY 'Pmy@dm1n';\n```\n\nРазрешаем ему выполнение всех операций:\n\n```\nGRANT ALL PRIVILEGES ON phpmyadmin.* TO 'phpmyadmin'@'localhost' WITH GRANT OPTION;\n```\n\nПрименяем изменений привилегий:\n\n```\nFLUSH PRIVILEGES;\n```\n\nПроверяем, что пользователь добавлен:\n\n```\nSELECT user,authentication_string,plugin,host FROM mysql.user;\n```\n\n\u003Cp align=\"center\">\u003Cimg alt=\"пользователь phpmyadmin в mysql\" src=/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_02.png width=1024>\u003C/p>\n\nВыходим из mySQL:\n\n```\nExit\n```\n\n## Установка Apache\n\nДля корректной работы phpMyAdmin необходим веб-сервер. Мы будем использовать Apache. Установка Apache выполняется следующей командой:\n\n```\nsudo apt install apache2 -y\n```\n\nПосле установки следует убедиться в корректном запуске службы Apache:\n\n```\nsudo systemctl status apache2\n```\n\nВывод этой команды должен содержать строку active (running), что свидетельствует о работоспособности веб-сервера. Вы можете увидеть вот такую ошибку:\n\u003Cp align=\"center\">\u003Cimg alt=\"ошибка apache\" src=/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_03.png width=1024>\u003C/p>\n\nВ этом случае проверяем, кто использует порт http (80):\n\n```\nsudo ss -tap | grep http\n```\n\n\u003Cp align=\"center\">\u003Cimg alt=\"проверяем порт 80\" src=/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_04.png width=1024>\u003C/p>\n\nСкорее всего это будет сервер nginx, как в моем варианте. Останавливаем его:\n\n```\nsudo systemctl stop nginx\n```\n\nМаскируем процесс, чтобы при перезагрузке системы не было конфликта.\n\n```\nsudo systemctl mask nginx\n```\n\nЗапускаем Apache:\n\n```\nsudo systemctl start apache2\n```\n\nПроверяем его статус:\n\n```\nsudo systemctl status apache2\n```\n\n\u003Cp align=\"center\">\u003Cimg alt=\"проверяем статус apache\" src=/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_05.png width=1024>\u003C/p>\n\nДобавляем его в автоматический запуск при перезагрузке системы:\n\n```\nsudo systemctl enable apache2\n```\n\n## Установка php\n\nУстановим набор модулей для работы php:\n\n```\nsudo apt install php libapache2-mod-php php-mysql php-mbstring php-zip php-gd php-json php-curl -y\n```\n\nЭтот набор модулей обеспечивает поддержку основного функционала phpMyAdmin:  \n•\tphp: базовый пакет PHP.  \n•\tlibapache2-mod-php: пакет интегрирует PHP с Apache.  \n•\tphp-mysql: пакет позволяет PHP взаимодействовать с MySQL.  \n•\tmbstring, zip, gd, json, curl: расширение функционала (пакеты обработки json, работы с многобайтовыми строками, архивами, изображениями).\n\nПроверяем, что php работает корректно. Для этого создаем файл\n\n```\nsudo nano /var/www/html/info.php\n```\n\nДобавим в файл следующие строки:\n\n```\n\u003C?php\nphpinfo();\n?>\n```\n\nОткрываем страницу в браузере: http://your_server_ip/info.php  \nВместо your_server_ip указываете IP-адрес Вашего сервера или доменное имя. В моем случае 192.168.6.142.  \nПри корректной настройке Вы увидите следующий результат:\n\n\u003Cp align=\"center\">\u003Cimg alt=\"php info\" src=/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_06.png width=1024>\u003C/p>\n\n## Установка phpMyAdmin\n\nУстановим сам phpMyAdmin:\n\n```\nsudo apt install phpmyadmin -y\n```\n\nВо время установки выберем сервер Apache.\n\n\u003Cp align=\"center\">\u003Cimg alt=\"выбор Apache\" src=/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_07.png width=1024>\u003C/p>\n\nНастроим базу данных для phpMyAdmin с помощью dbconfig-common. Выбираем “yes”.\n\n\u003Cp align=\"center\">\u003Cimg alt=\"Настроим базу данных для phpMyAdmin с помощью dbconfig-common\" src=/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_08.png width=1024>\u003C/p>\n\nУказываем пароль для регистрации пользователя, который мы ввели при его создании в mySQL. **В моем случае: Pmy@dm1n**\n\n\u003Cp align=\"center\">\u003Cimg alt=\"устанавливаем пароль\" src=/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_09.png width=1024>\u003C/p>\n\nПодтверждаем пароль на следующем шаге.  \nУстановщик должен автоматически установить и настроить phpMyAdmin.\n\nВключим PHP-модуль mbstring для работы с многобайтовыми строками:\n\n```\nsudo phpenmod mbstring\n```\n\nПерезагружаем Apache для применения изменений:\n\n```\nsudo systemctl restart apache2\n```\n\nПроверяем корректность установки. В первую очередь нас интересует наличие символической ссылки в html-директории:\n\n```\nsudo ls /var/www/html/phpmyadmin\n```\n\nЕсли каталог не существует (ls: cannot access '/var/www/html/phpmyadmin': No such file or directory), то необходимо создать ссылку самостоятельно:\n\n```\nsudo ln -s /usr/share/phpmyadmin /var/www/html/phpmyadmin\n```\n\nДополнительно проверяем, что Apache подключил конфигурацию phpMyAdmin:\n\n```\nsudo ln -s /etc/phpmyadmin/apache.conf /etc/apache2/conf-available/phpmyadmin.conf\n```\n\nЕсли ответа от системы нет, значит все верно.  \nВключаем конфигурационный файл Apache для phpMyAdmin, чтобы веб-сервер знал, как взаимодействовать с phpMyAdmin:\n\n```\nsudo a2enconf phpmyadmin\n```\n\nПерезагружаем Apache\n\n```\nsudo systemctl reload apache2\n```\n\nПроверяем статус Apache:\n\n```\nsudo systemctl status apache2\n```\n\nВ браузере переходим по адресу:  \nhttp://your_server_ip/phpmyadmin \n\n\u003Cp align=\"center\">\u003Cimg alt=\"открываем в браузере phpMyAdmin\" src=/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_10.png width=1024>\u003C/p>\n\nВводим имя пользователя phpmyadmin и пароль Pmy@dm1n.  \nПопадаем в рабочую область phpMyAdmin:\n\n\u003Cp align=\"center\">\u003Cimg alt=\"рабочая область phpMyAdmin\" src=/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_11.png width=1024>\u003C/p>\n\nУстановка завершена.\n\n## Настройка базовой HTTP-аутентификации\n\nНастроим авторизацию до введения логина и пароля phpMyAdmin. Выполним ее с помощью базовой HTTP аутентификации (basic HTTP authentication).\nСоздаем файл .htaccess, который позволит управлять поведением Apache:\n\n```\nsudo nano /usr/share/phpmyadmin/.htaccess\n```\n\nСоздаем конфигурацию:\n\n```\nAuthType Basic \nAuthName \"Restricted Files\"\nAuthUserFile /etc/phpmyadmin/.htpasswd\nRequire valid-user\n```\n\nгде:  \n•\tAuthType Basic – тип аутентификации (Basic - простая HTTP-авторизация).  \n•\tAuthName \"Restricted Files\" – сообщение, отображаемое в диалоговом окне браузера при запросе логина и пароля.  \n•\tAuthUserFile /etc/phpmyadmin/.htpasswd – путь к файлу с логинами и хешами паролей.  \n•\tRequire valid-user – разрешить доступ только тем, кто прошел аутентификацию.\n\nСоздаем директорию для хранения файла паролей и сам файл с первым пользователем:\n\n```\nsudo mkdir -p /etc/phpmyadmin\n```\n\n```\nsudo htpasswd -c /etc/phpmyadmin/.htpasswd jetcry\n```\n\nгде:  \n•\t.htpasswd создаёт файл с логином jetcry и запрашивает пароль.  \n•\tОпция **-c** означает \"создать новый файл\".\n\nВ файл запишется хэш пароля, а не сам пароль в открытом виде.\n\n> Если Вы добавляете второго пользователя — не используйте **-c**, иначе файл перезапишется!\n\n\u003Cp align=\"center\">\u003Cimg alt=\"файл с паролями\" src=/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_12.png width=1024>\u003C/p>\n\nТеперь необходимо настроить Apache на чтение файлов .htaccess:\n\n```\nsudo nano /etc/apache2/conf-available/phpmyadmin.conf\n```\n\nВ блоке \u003CDirectory /usr/share/phpmyadmin> добавьте или измените строку:\n\n```\nAllowOverride All\n```\n\nДиректива AllowOverride All позволяет файлам .htaccess переопределять директивы конфигурации Apache в указанной директории.\n\n\u003Cp align=\"center\">\u003Cimg alt=\"Директива AllowOverride All\" src=/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_13.png width=1024>\u003C/p>\n\nПроверим конфигурацию Apache на ошибки:\n\n```\nsudo apachectl configtest\n```\n\nЕсли все правильно, то ответ:\n**Syntax OK**\n\nПерезапускаем Apache:\n\n```\nsudo systemctl restart apache2\n```\n\nОткрываем браузер. Теперь браузер показывает окно авторизации:\n\n\u003Cp align=\"center\">\u003Cimg alt=\"браузер показывает окно авторизации\" src=/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_14.png width=1024>\u003C/p>\n\nЕсли не появилось окно с вводом пароля, дополнительно измените директивы AllowOverride с none на All в файле:\n\n```\nnano /etc/apache2/apache2.conf\n```\n\n\u003Cp align=\"center\">\u003Cimg alt=\"измените директивы AllowOverride с none на All\" src=/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_15.png width=1024>\u003C/p>\n\nПерезапустите Apache:\n\n```\nsudo systemctl restart apache2\n```\n\n## Подключение к phpMyAdmin по HTTPS\n\nСначала активируем модуль SSL для Apache:\n\n```\nsudo a2enmod ssl\n```\n\n```\nsudo systemctl restart apache2\n```\n\nСгенерируем самоподписанный сертификат. Замените 192.168.6.142 на ваш IP или доменное имя:\n\n```\nsudo openssl req -x509 -nodes -days 365 \\\n-newkey rsa:2048 \\\n-keyout /etc/ssl/private/apache-selfsigned.key \\\n-out /etc/ssl/certs/apache-selfsigned.crt \\\n-subj \"/C=RU/ST=Region/L=City/O=MyOrg/CN=192.168.6.142\"\n```\n\nЕсли у Вас есть домен, то используйте бесплатный сертификат Let's Encrypt:\n\n```\nsudo apt install certbot python3-certbot-apache\nsudo certbot --apache\n```\n\n\nОтредактируем конфигурационный файл SSL:\n\n```\nsudo nano /etc/apache2/sites-available/default-ssl.conf\n```\n\nДобавьте в конфигурацию следующие строки: \n\n```\n\u003CIfModule mod_ssl.c>\n  \u003CVirtualHost _default *:443>\n    ServerAdmin webmaster@localhost\n    ServerName 192.168.6.142\n\n    DocumentRoot /var/www/html\n\n    SSLEngine on\n    SSLCertificateFile /etc/ssl/certs/apache-selfsigned.crt\n    SSLCertificateKeyFile /etc/ssl/private/apache-selfsigned.key\n\n    \u003CDirectory /usr/share/phpmyadmin>\n        Options Indexes FollowSymLinks\n        DirectoryIndex index.php\n        AllowOverride All\n        Require all granted\n    \u003C/Directory>\n  \u003C/VirtualHost>\n\u003C/IfModule>\n```\n\n\u003Cp align=\"center\">\u003Cimg alt=\"параметры в default-ssl.comf\" src=/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_16.png width=1024>\u003C/p>\n\nПродолжение:\n\n\u003Cp align=\"center\">\u003Cimg alt=\"параметры в default-ssl.conf\" src=/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_17.png width=1024>\u003C/p>\n\nАктивируем созданную конфигурацию и перезапустим Apache:\n\n```\nsudo a2ensite default-ssl\n```\n\n```\nsudo systemctl restart apache2\n```\n\nНастроим редирект на автоматический переход на https.\nОткрываем файл, который обрабатывает запросы на порт 80:\n\n```\nsudo nano /etc/apache2/sites-available/000-default.conf\n```\n\nДобавляем редирект в блок \u003CVirtualHost *:80>:\n\n```\n    Redirect \"/phpmyadmin\" https://192.168.6.142/phpmyadmin\n```\n\n\u003Cp align=\"center\">\u003Cimg alt=\"редирект на автоматический переход на https\" src=/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_18.png width=1024>\u003C/p>\n\nСохраняем изменения в файле. Проверяем конфигурацию и перезапускаем Apache:\n\n```\nsudo apachectl configtest\n```\n\n```\nsudo systemctl restart apache2\n```\n\nПроверяем. Вводим в браузере 192.168.6.142/phpmyadmin. Автоматически переходим на https:\n\n\u003Cp align=\"center\">\u003Cimg alt=\"автоматический переход на https\" src=/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_19.png width=1024>\u003C/p>\n\nНастройка завершена. Подключение защищено.\n\n## Краткие итоги\n\nМы установили и настроили phpMyAdmin на сервере, предварительно установив другие компоненты стека LAMP: Apache, mySQL, PHP. Дополнительно защитили взаимодействие с СУБД с помощью SSL и авторизации в браузере до введения логина и пароля от СУБД.\n",updatedAt:new Date(1749222605473),markdown:"\n\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Веб-приложение phpMyAdmin разрабатывается с открытым кодом и представляет собой веб-интерфейс для администрирования СУБД MySQL.\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"установка-mysql\"\n>Установка mySQL\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Перед установкой и настройкой phpMyAdmin предварительно установим и настроим СУБД mySQL, если она еще не установлена на Ваш сервер.\nМы подробно расписывали установку и настройку СУБД mySQL в \u003Ca   href=\"https://github.com/HostVDS-com/tutorials/blob/main/topics/databases/how-to-install-mysql-on-ubuntu-server/ru.md\"\n  rel=\"nofollow\"\n  class=\"text-sky-700 transition-opacity duration-75 hover:opacity-70\"\n  target=\"_blank\"\n>этой статье\u003C/a>, сейчас создадим только пользователя phpmyadmin, который по умолчанию будет работать с phpMyAdmin.\nУстановим и обновим все пакеты системы:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt update &amp;&amp; \u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt upgrade -y\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Установим mySQL:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt install mysql-server -y\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Запускаем СУБД:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl start mysql\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Устанавливаем автоматический запуск после перезагрузки системы:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl \u003Cspan class=\"hljs-built_in\">enable\u003C/span> mysql\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Защищаем нашу СУБД:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> mysql_secure_installation\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Рекомендуем согласиться со следующими параметрами:\u003Cbr>\nУстановить утилиту для проверки надежности паролей validate password.\u003Cbr>\nУстановим уровень 2 для максимальной сложности вводимых паролей.\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_01.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"validate password\"\n                            src=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_01.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Далее предлагаем согласиться (нажать \u003Cstrong>Y\u003C/strong>) со всеми пунктами:\u003Cbr>\n•\tRemove anonymous users (Удалить анонимных пользователей)\u003Cbr>\n•\tDisallow root login remotely (Запретить удаленный вход пользователя root)\u003Cbr>\n•\tRemove the test database (Удалить тестовую базу данных)\u003Cbr>\n•\tReload privilege tables (Перезагрузить таблицы привилегий)\u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Переходим в mySQL:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> mysql\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Создаем пользователя phpmyadmin и задаем ему пароль Pmy@dm1n:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-keyword\">CREATE\u003C/span> \u003Cspan class=\"hljs-keyword\">USER\u003C/span> \u003Cspan class=\"hljs-string\">&#x27;phpmyadmin&#x27;\u003C/span>@\u003Cspan class=\"hljs-string\">&#x27;localhost&#x27;\u003C/span> IDENTIFIED \u003Cspan class=\"hljs-keyword\">WITH\u003C/span> \u003Cspan class=\"hljs-string\">&#x27;caching_sha2_password&#x27;\u003C/span> \u003Cspan class=\"hljs-keyword\">BY\u003C/span> \u003Cspan class=\"hljs-string\">&#x27;Pmy@dm1n&#x27;\u003C/span>;\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Разрешаем ему выполнение всех операций:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-keyword\">GRANT\u003C/span> \u003Cspan class=\"hljs-keyword\">ALL\u003C/span> \u003Cspan class=\"hljs-keyword\">PRIVILEGES\u003C/span> \u003Cspan class=\"hljs-keyword\">ON\u003C/span> phpmyadmin.* \u003Cspan class=\"hljs-keyword\">TO\u003C/span> \u003Cspan class=\"hljs-string\">&#x27;phpmyadmin&#x27;\u003C/span>@\u003Cspan class=\"hljs-string\">&#x27;localhost&#x27;\u003C/span> \u003Cspan class=\"hljs-keyword\">WITH\u003C/span> \u003Cspan class=\"hljs-keyword\">GRANT\u003C/span> \u003Cspan class=\"hljs-keyword\">OPTION\u003C/span>;\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Применяем изменений привилегий:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>FLUSH PRIVILEGES\u003Cspan class=\"hljs-comment\">;\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Проверяем, что пользователь добавлен:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-keyword\">SELECT\u003C/span> \u003Cspan class=\"hljs-keyword\">user\u003C/span>,authentication_string,plugin,host \u003Cspan class=\"hljs-keyword\">FROM\u003C/span> mysql.\u003Cspan class=\"hljs-keyword\">user\u003C/span>;\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_02.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"пользователь phpmyadmin в mysql\"\n                            src=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_02.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Выходим из mySQL:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-keyword\">Exit\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"установка-apache\"\n>Установка Apache\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Для корректной работы phpMyAdmin необходим веб-сервер. Мы будем использовать Apache. Установка Apache выполняется следующей командой:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt install apache2 -y\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>После установки следует убедиться в корректном запуске службы Apache:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl status apache2\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Вывод этой команды должен содержать строку active (running), что свидетельствует о работоспособности веб-сервера. Вы можете увидеть вот такую ошибку:\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_03.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"ошибка apache\"\n                            src=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_03.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>В этом случае проверяем, кто использует порт http (80):\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> ss -tap | grep http\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_04.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"проверяем порт 80\"\n                            src=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_04.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Скорее всего это будет сервер nginx, как в моем варианте. Останавливаем его:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl stop nginx\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Маскируем процесс, чтобы при перезагрузке системы не было конфликта.\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl mask nginx\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Запускаем Apache:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl start apache2\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Проверяем его статус:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl status apache2\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_05.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"проверяем статус apache\"\n                            src=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_05.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Добавляем его в автоматический запуск при перезагрузке системы:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl \u003Cspan class=\"hljs-built_in\">enable\u003C/span> apache2\u003C/code>\u003C/pre>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"установка-php\"\n>Установка php\u003C/h2>\n\u003Cp class=\"mt-2 mb-2 text-md\">Установим набор модулей для работы php:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt install php libapache2-mod-php php-mysql php-mbstring php-zip php-gd php-json php-curl -y\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Этот набор модулей обеспечивает поддержку основного функционала phpMyAdmin:\u003Cbr>\n•\tphp: базовый пакет PHP.\u003Cbr>\n•\tlibapache2-mod-php: пакет интегрирует PHP с Apache.\u003Cbr>\n•\tphp-mysql: пакет позволяет PHP взаимодействовать с MySQL.\u003Cbr>\n•\tmbstring, zip, gd, json, curl: расширение функционала (пакеты обработки json, работы с многобайтовыми строками, архивами, изображениями).\u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Проверяем, что php работает корректно. Для этого создаем файл\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> nano /var/www/html/info.php\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Добавим в файл следующие строки:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-meta\">&lt;?php\u003C/span>\n\u003Cspan class=\"hljs-title function_ invoke__\">phpinfo\u003C/span>();\n\u003Cspan class=\"hljs-meta\">?&gt;\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Открываем страницу в браузере: http://your_server_ip/info.php\u003Cbr>\nВместо your_server_ip указываете IP-адрес Вашего сервера или доменное имя. В моем случае 192.168.6.142.\u003Cbr>\nПри корректной настройке Вы увидите следующий результат:\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_06.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"php info\"\n                            src=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_06.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"установка-phpmyadmin\"\n>Установка phpMyAdmin\u003C/h2>\n\u003Cp class=\"mt-2 mb-2 text-md\">Установим сам phpMyAdmin:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt install phpmyadmin -y\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Во время установки выберем сервер Apache.\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_07.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"выбор Apache\"\n                            src=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_07.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Настроим базу данных для phpMyAdmin с помощью dbconfig-common. Выбираем “yes”.\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_08.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"Настроим базу данных для phpMyAdmin с помощью dbconfig-common\"\n                            src=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_08.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Указываем пароль для регистрации пользователя, который мы ввели при его создании в mySQL. \u003Cstrong>В моем случае: Pmy@dm1n\u003C/strong>\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_09.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"устанавливаем пароль\"\n                            src=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_09.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Подтверждаем пароль на следующем шаге.\u003Cbr>\nУстановщик должен автоматически установить и настроить phpMyAdmin.\u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Включим PHP-модуль mbstring для работы с многобайтовыми строками:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> phpenmod mbstring\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Перезагружаем Apache для применения изменений:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl restart apache2\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Проверяем корректность установки. В первую очередь нас интересует наличие символической ссылки в html-директории:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> \u003Cspan class=\"hljs-built_in\">ls\u003C/span> /var/www/html/phpmyadmin\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если каталог не существует (ls: cannot access ‘/var/www/html/phpmyadmin’: No such file or directory), то необходимо создать ссылку самостоятельно:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> \u003Cspan class=\"hljs-built_in\">ln\u003C/span> -s /usr/share/phpmyadmin /var/www/html/phpmyadmin\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Дополнительно проверяем, что Apache подключил конфигурацию phpMyAdmin:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> \u003Cspan class=\"hljs-built_in\">ln\u003C/span> -s /etc/phpmyadmin/apache.conf /etc/apache2/conf-available/phpmyadmin.conf\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Если ответа от системы нет, значит все верно.\u003Cbr>\nВключаем конфигурационный файл Apache для phpMyAdmin, чтобы веб-сервер знал, как взаимодействовать с phpMyAdmin:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> a2enconf phpmyadmin\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Перезагружаем Apache\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl reload apache2\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Проверяем статус Apache:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl status apache2\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">В браузере переходим по адресу:\u003Cbr>\nhttp://your_server_ip/phpmyadmin \u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_10.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"открываем в браузере phpMyAdmin\"\n                            src=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_10.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Вводим имя пользователя phpmyadmin и пароль Pmy@dm1n.\u003Cbr>\nПопадаем в рабочую область phpMyAdmin:\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_11.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"рабочая область phpMyAdmin\"\n                            src=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_11.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Установка завершена.\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"настройка-базовой-http-аутентификации\"\n>Настройка базовой HTTP-аутентификации\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Настроим авторизацию до введения логина и пароля phpMyAdmin. Выполним ее с помощью базовой HTTP аутентификации (basic HTTP authentication).\nСоздаем файл .htaccess, который позволит управлять поведением Apache:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> nano /usr/share/phpmyadmin/.htaccess\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Создаем конфигурацию:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>AuthType Basic \nAuthName &quot;Restricted Files&quot;\nAuthUserFile /etc/phpmyadmin/.htpasswd\nRequire \u003Cspan class=\"hljs-keyword\">valid\u003C/span>-\u003Cspan class=\"hljs-keyword\">user\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">где:\u003Cbr>\n•\tAuthType Basic – тип аутентификации (Basic - простая HTTP-авторизация).\u003Cbr>\n•\tAuthName “Restricted Files” – сообщение, отображаемое в диалоговом окне браузера при запросе логина и пароля.\u003Cbr>\n•\tAuthUserFile /etc/phpmyadmin/.htpasswd – путь к файлу с логинами и хешами паролей.\u003Cbr>\n•\tRequire valid-user – разрешить доступ только тем, кто прошел аутентификацию.\u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Создаем директорию для хранения файла паролей и сам файл с первым пользователем:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> \u003Cspan class=\"hljs-built_in\">mkdir\u003C/span> -p /etc/phpmyadmin\u003C/code>\u003C/pre>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> htpasswd -c /etc/phpmyadmin/.htpasswd jetcry\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">где:\u003Cbr>\n•\t.htpasswd создаёт файл с логином jetcry и запрашивает пароль.\u003Cbr>\n•\tОпция \u003Cstrong>-c\u003C/strong> означает “создать новый файл”.\u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>В файл запишется хэш пароля, а не сам пароль в открытом виде.\u003C/p>\n\u003Cblockquote>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если Вы добавляете второго пользователя — не используйте \u003Cstrong>-c\u003C/strong>, иначе файл перезапишется!\u003C/p>\n\u003C/blockquote>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_12.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"файл с паролями\"\n                            src=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_12.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Теперь необходимо настроить Apache на чтение файлов .htaccess:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> nano /etc/apache2/conf-available/phpmyadmin.conf\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>В блоке  добавьте или измените строку:\n\u003Cpre class=\"hljs\">\u003Ccode>AllowOverride \u003Cspan class=\"hljs-keyword\">All\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Директива AllowOverride All позволяет файлам .htaccess переопределять директивы конфигурации Apache в указанной директории.\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_13.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"Директива AllowOverride All\"\n                            src=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_13.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Проверим конфигурацию Apache на ошибки:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apachectl configtest\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Если все правильно, то ответ:\n\u003Cstrong>Syntax OK\u003C/strong>\u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Перезапускаем Apache:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl restart apache2\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Открываем браузер. Теперь браузер показывает окно авторизации:\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_14.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"браузер показывает окно авторизации\"\n                            src=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_14.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если не появилось окно с вводом пароля, дополнительно измените директивы AllowOverride с none на All в файле:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>nano /etc/apache2/apache2.conf\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_15.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"измените директивы AllowOverride с none на All\"\n                            src=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_15.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Перезапустите Apache:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl restart apache2\u003C/code>\u003C/pre>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"подключение-к-phpmyadmin-по-https\"\n>Подключение к phpMyAdmin по HTTPS\u003C/h2>\n\u003Cp class=\"mt-2 mb-2 text-md\">Сначала активируем модуль SSL для Apache:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> a2enmod ssl\u003C/code>\u003C/pre>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl restart apache2\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Сгенерируем самоподписанный сертификат. Замените 192.168.6.142 на ваш IP или доменное имя:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> openssl req -x509 -nodes -days 365 \\\n-newkey rsa:2048 \\\n-keyout /etc/ssl/private/apache-selfsigned.key \\\n-out /etc/ssl/certs/apache-selfsigned.crt \\\n-subj \u003Cspan class=\"hljs-string\">&quot;/C=RU/ST=Region/L=City/O=MyOrg/CN=192.168.6.142&quot;\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если у Вас есть домен, то используйте бесплатный сертификат Let’s Encrypt:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt install certbot python3-certbot-apache\n\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> certbot --apache\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Отредактируем конфигурационный файл SSL:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> nano /etc/apache2/sites-available/default-ssl.conf\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Добавьте в конфигурацию следующие строки: \u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-section\">&lt;IfModule mod_ssl.c&gt;\u003C/span>\n  \u003Cspan class=\"hljs-section\">&lt;VirtualHost _default *\u003Cspan class=\"hljs-number\">:443\u003C/span>&gt;\u003C/span>\n    \u003Cspan class=\"hljs-attribute\">ServerAdmin\u003C/span> webmaster@localhost\n    \u003Cspan class=\"hljs-attribute\">ServerName\u003C/span> \u003Cspan class=\"hljs-number\">192.168.6.142\u003C/span>\n\n    \u003Cspan class=\"hljs-attribute\">DocumentRoot\u003C/span> /var/www/html\n\n    \u003Cspan class=\"hljs-attribute\">SSLEngine\u003C/span> \u003Cspan class=\"hljs-literal\">on\u003C/span>\n    \u003Cspan class=\"hljs-attribute\">SSLCertificateFile\u003C/span> /etc/ssl/certs/apache-selfsigned.crt\n    \u003Cspan class=\"hljs-attribute\">SSLCertificateKeyFile\u003C/span> /etc/ssl/private/apache-selfsigned.key\n\n    \u003Cspan class=\"hljs-section\">&lt;Directory /usr/share/phpmyadmin&gt;\u003C/span>\n        \u003Cspan class=\"hljs-attribute\">Options\u003C/span> Indexes FollowSymLinks\n        \u003Cspan class=\"hljs-attribute\">DirectoryIndex\u003C/span> index.php\n        \u003Cspan class=\"hljs-attribute\">AllowOverride\u003C/span> \u003Cspan class=\"hljs-literal\">All\u003C/span>\n        \u003Cspan class=\"hljs-attribute\">Require\u003C/span> \u003Cspan class=\"hljs-literal\">all\u003C/span> granted\n    \u003Cspan class=\"hljs-section\">&lt;/Directory&gt;\u003C/span>\n  \u003Cspan class=\"hljs-section\">&lt;/VirtualHost&gt;\u003C/span>\n\u003Cspan class=\"hljs-section\">&lt;/IfModule&gt;\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_16.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"параметры в default-ssl.comf\"\n                            src=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_16.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Продолжение:\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_17.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"параметры в default-ssl.conf\"\n                            src=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_17.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Активируем созданную конфигурацию и перезапустим Apache:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> a2ensite default-ssl\u003C/code>\u003C/pre>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl restart apache2\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Настроим редирект на автоматический переход на https.\nОткрываем файл, который обрабатывает запросы на порт 80:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> nano /etc/apache2/sites-available/000-default.conf\u003C/code>\u003C/pre>\nДобавляем редирект в блок :\n\u003Cpre class=\"hljs\">\u003Ccode>    Redirect \u003Cspan class=\"hljs-string\">&quot;/phpmyadmin&quot;\u003C/span> https\u003Cspan class=\"hljs-punctuation\">:\u003C/span>\u003Cspan class=\"hljs-comment\">//192.168.6.142/phpmyadmin\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_18.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"редирект на автоматический переход на https\"\n                            src=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_18.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Сохраняем изменения в файле. Проверяем конфигурацию и перезапускаем Apache:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apachectl configtest\u003C/code>\u003C/pre>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl restart apache2\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Проверяем. Вводим в браузере 192.168.6.142/phpmyadmin. Автоматически переходим на https:\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_19.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"автоматический переход на https\"\n                            src=\"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_19.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Настройка завершена. Подключение защищено.\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"краткие-итоги\"\n>Краткие итоги\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Мы установили и настроили phpMyAdmin на сервере, предварительно установив другие компоненты стека LAMP: Apache, mySQL, PHP. Дополнительно защитили взаимодействие с СУБД с помощью SSL и авторизации в браузере до введения логина и пароля от СУБД.\u003C/p>\n\u003C/p>",description:"В статье рассмотрим как установить phpMyAdmin, php, mySQL на Ubuntu 24.04. Создадим безопасное подключение к СУБД. Настроим базовую HTTP-аутентификацию и подключение к phpMyAdmin по HTTPS.",cover:"/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/static/ru_image_00.webp",tableOfContents:[{title:"Установка mySQL",level:2,id:"установка-mysql"},{title:"Установка Apache",level:2,id:"установка-apache"},{title:"Установка php",level:2,id:"установка-php"},{title:"Установка phpMyAdmin",level:2,id:"установка-phpmyadmin"},{title:"Настройка базовой HTTP-аутентификации",level:2,id:"настройка-базовой-http-аутентификации"},{title:"Подключение к phpMyAdmin по HTTPS",level:2,id:"подключение-к-phpmyadmin-по-https"},{title:"Краткие итоги",level:2,id:"краткие-итоги"}]},{slug:"how-to-install-netdata-on-ubuntu-server",tags:["netdata","ubuntu","ubuntu-24.04"],title:"Настройка мониторинга через NetData на Ubuntu 24.04",content:"# Настройка мониторинга через NetData на Ubuntu 24.04\n\n## Введение\n\nNetData – инструмент с открытым исходным кодом для мониторинга производительности сервера Linux в режиме реального времени с веб-интерфейсом. Написанный на языке программирования C, NetData является сверхбыстрым и ресурсосберегающим.  \nNetData может отслеживать следующие параметры сервера:  \n• Загрузка ядер CPU  \n• Использование оперативной памяти  \n• Использование накопителей информации  \n• Пропускную способность сети  \n• Параметры брандмауэра  \n• Данные о процессах в системе  \n• Характеристики системных приложений  \n• Статус Apache и Nginx  \n• Работу базы данных MySQL  \n• Очередь сообщений почтового сервера Postfix  \n• Данные от аппаратных датчиков (температура, напряжение, влажность и др.)\n\n## Подготовка системы\n\n> Вам потребуются привилегии sudo для установки пакетов и настройки параметров системы.\n\nПеред установкой проведем обновление системы:\n```\nsudo apt-get update && sudo apt-get upgrade\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"обновление пакетов\" src=/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_01.png width=1024>\u003C/p>\n\nПосле успешной подготовки системы проведем установку необходимых зависимостей:\n```\nsudo apt-get install curl software-properties-common\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"установка зависимостей\" src=/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_02.png width=1024>\u003C/p>\n\n## Установка NetData\n\nNetdata входит в репозитории многих дистрибутивов Linux. Однако, скорее всего, это не последняя версия. Чтобы получить последнюю версию, необходимо воспользоваться официальным скриптом NetData для установки программного обеспечения. Этот метод удобен и автоматически установит все необходимые компоненты. Выполним следующую команду в нашей системе:\n```\nbash \u003C(curl -Ss https://my-netdata.io/kickstart-static64.sh)\n```\nСтоит отметить, что команда приведена для 64-битной операционной системы, для 32-битной выполните комнаду:\n```\nbash \u003C(curl -Ss https://my-netdata.io/kickstart.sh)\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"установка нетдата\" src=/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_03.png width=1024>\u003C/p>\n\nУстановка и обновление NetData успешно завершено.  \nПосле установки запустим, включим и проверим состояние Netdata:\n```\nsudo systemctl start netdata\nsudo systemctl enable netdata\nsudo systemctl status netdata\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"запуск проверка\" src=/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_04.png width=1024>\u003C/p>\n\n## Настройка NetData\n\nПроведем настройку доступа к панели мониторинга. После установки, Netdata будет доступен по адресу http://\u003Cyour_server_ip>:19999. \n\nВ случае, если на сервере используется брандмауэр, то вам необходимо открыть соответствующий TCP порт. По умолчанию Netdata прослушивает порт 19999. Проверим, что сервис корректно работает с помощью _netstat_:\n```\nsudo netstat -pnltu | grep netdata\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"проверка портов\" src=/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_05.png width=1024>\u003C/p>\n\nДля того, чтобы разрешить соответствующий порт в брандмауэре и перезапустить его выполним команды:\n\n```\nsudo ufw allow 19999/tcp\nsudo ufw reload\n```\n\nЕсли вы хотите изменить порт или ограничить доступ по IP, отредактируйте конфигурационный файл:\n```\nsudo nano /etc/netdata/netdata.conf\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"редактирование файла\" src=/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_06.png width=1024>\u003C/p>\n\nЕсли конфигурационный файл после проведенной установки не содержит никакой информации по настройкам NetData, то необходимо выполнить запрос файла конфигурации с помощью команды:\n```\nsudo wget –O /etc/netdata/netdata.conf http://localhost:19999/netdata.conf\n```\nПосле выполнения данной команды повторите открытие и редактирование файла с помощью предыдущей команды.\n\u003Cp align=\"center\">\u003Cimg alt=\"редактир_файла\" src=/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_07.png width=1024>\u003C/p>\n\nВ файле netdata.conf найдите строки **bind to** и **allow connections from**:\n\nДля изменения порта на 20001 задайте следующее значение строки **bind to**: \n\n```\nbind to = 127.0.0.1:20001\n```\n\nДля ограничения доступа по IP укажите нужный IP-адрес в строке **allow connections from**.  \nНапример, если Вы хотите, чтобы подключение выполнялось только с IP-адреса **192.168.0.5**, то строка должна выглядеть вот так:\n\n```\nallow connections from = 192.168.0.5/24\n```\n\nПосле внесения изменений, сохраните файл и перезапустите Netdata:\n```\nsudo systemctl restart netdata\n```\n\nЕсли Вы измените порт, то необходимо дополнительно разрешить его в брандмауэре и запретить предыдущий:\n\n```\nsudo ufw deny 19999/tcp\nsudo ufw allow 20001/tcp\nsudo ufw reload\n```\n\nПо умолчанию Netdata отслеживает множество системных параметров и служб. Также она позволяет добавлять мониторинг дополнительных сервисов или приложений, для этого необходимо провести настройки в соответствующих конфигурационных файлах, находящихся в директории /etc/netdata/.\n\nПроверим доступность и работу NetData на нашей операционной системе. Подключимся к ней с помощью браузера.\n\u003Cp align=\"center\">\u003Cimg alt=\"дашборд нетдата\" src=/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_08.png width=1024>\u003C/p>\n\n## Обновление и удаление Netdata\n\nПосле установки с помощью скрипта Netdata добавляет задание **cron ()** для автоматического ежедневного обновления программного. Если по каким-либо причинам обновление не происходит, можно провести обновление вручную с помощью команды:\n```\nsudo /usr/libexec/netdata/netdata-updater.sh\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"обнов_нетдата\" src=/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_09.png width=1024>\u003C/p>\n\nЕсли вам потребуется удалить Netdata с сервера воспользуйтесь скриптом:\n```\nsudo /usr/libexec/netdata/netdata-uninstaller.sh\n```\n\n## Защита Netdata\n\nПо умолчанию в NetData не предусмотрено никакой аутентификации при подключении по http. \nМы рекомендуем выполнить настройку базовой http-аутентификации с вводом логина и пароля, а также подключение по https. Очень подробно механизм настройки разобран в нашей статье [Как установить phpMyAdmin на Ubuntu 24.04](/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server). Рекомендуем ознакомиться и обеспечить дополнительную защиту данных при работе с NetData.\n\n## Заключение\n\nNetdata – это мощный и простой в использовании инструмент для мониторинга производительности в режиме реального времени. Вы можете настроить веб-интерфейс в соответствии с вашими конкретными потребностями. Следуя шагам, описанным в этой статье, Вы можете легко установить и выполнить первоначальную настройку Netdata.\n",updatedAt:new Date(1749222605469),markdown:"\n\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"введение\"\n>Введение\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>NetData – инструмент с открытым исходным кодом для мониторинга производительности сервера Linux в режиме реального времени с веб-интерфейсом. Написанный на языке программирования C, NetData является сверхбыстрым и ресурсосберегающим.\u003Cbr>\nNetData может отслеживать следующие параметры сервера:\u003Cbr>\n• Загрузка ядер CPU\u003Cbr>\n• Использование оперативной памяти\u003Cbr>\n• Использование накопителей информации\u003Cbr>\n• Пропускную способность сети\u003Cbr>\n• Параметры брандмауэра\u003Cbr>\n• Данные о процессах в системе\u003Cbr>\n• Характеристики системных приложений\u003Cbr>\n• Статус Apache и Nginx\u003Cbr>\n• Работу базы данных MySQL\u003Cbr>\n• Очередь сообщений почтового сервера Postfix\u003Cbr>\n• Данные от аппаратных датчиков (температура, напряжение, влажность и др.)\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"подготовка-системы\"\n>Подготовка системы\u003C/h2>\n\u003Cblockquote>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Вам потребуются привилегии sudo для установки пакетов и настройки параметров системы.\u003C/p>\n\u003C/blockquote>\n\u003Cp class=\"mt-2 mb-2 text-md\">Перед установкой проведем обновление системы:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt-get update &amp;&amp; \u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt-get upgrade\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_01.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"обновление пакетов\"\n                            src=\"/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_01.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>После успешной подготовки системы проведем установку необходимых зависимостей:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> apt-get install curl software-properties-common\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_02.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"установка зависимостей\"\n                            src=\"/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_02.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"установка-netdata\"\n>Установка NetData\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Netdata входит в репозитории многих дистрибутивов Linux. Однако, скорее всего, это не последняя версия. Чтобы получить последнюю версию, необходимо воспользоваться официальным скриптом NetData для установки программного обеспечения. Этот метод удобен и автоматически установит все необходимые компоненты. Выполним следующую команду в нашей системе:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>bash &lt;(\u003Cspan class=\"hljs-name\">curl\u003C/span> -Ss https\u003Cspan class=\"hljs-symbol\">://my-netdata\u003C/span>.io/kickstart-static64.sh)\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Стоит отметить, что команда приведена для 64-битной операционной системы, для 32-битной выполните комнаду:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>bash &lt;(\u003Cspan class=\"hljs-name\">curl\u003C/span> -Ss https\u003Cspan class=\"hljs-symbol\">://my-netdata\u003C/span>.io/kickstart.sh)\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_03.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"установка нетдата\"\n                            src=\"/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_03.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Установка и обновление NetData успешно завершено.\u003Cbr>\nПосле установки запустим, включим и проверим состояние Netdata:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl start netdata\n\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl \u003Cspan class=\"hljs-built_in\">enable\u003C/span> netdata\n\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl status netdata\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_04.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"запуск проверка\"\n                            src=\"/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_04.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"настройка-netdata\"\n>Настройка NetData\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Проведем настройку доступа к панели мониторинга. После установки, Netdata будет доступен по адресу http://:19999. \n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>В случае, если на сервере используется брандмауэр, то вам необходимо открыть соответствующий TCP порт. По умолчанию Netdata прослушивает порт 19999. Проверим, что сервис корректно работает с помощью \u003Cem>netstat\u003C/em>:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> netstat -pnltu | grep netdata\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_05.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"проверка портов\"\n                            src=\"/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_05.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Для того, чтобы разрешить соответствующий порт в брандмауэре и перезапустить его выполним команды:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> ufw allow 19999/tcp\n\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> ufw reload\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если вы хотите изменить порт или ограничить доступ по IP, отредактируйте конфигурационный файл:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> nano /etc/netdata/netdata.conf\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_06.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"редактирование файла\"\n                            src=\"/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_06.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если конфигурационный файл после проведенной установки не содержит никакой информации по настройкам NetData, то необходимо выполнить запрос файла конфигурации с помощью команды:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> wget -O /etc/netdata/netdata.conf http://localhost:19999/netdata.conf\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>После выполнения данной команды повторите открытие и редактирование файла с помощью предыдущей команды.\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_07.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"редактир_файла\"\n                            src=\"/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_07.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">В файле netdata.conf найдите строки \u003Cstrong>bind to\u003C/strong> и \u003Cstrong>allow connections from\u003C/strong>:\u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Для изменения порта на 20001 задайте следующее значение строки \u003Cstrong>bind to\u003C/strong>: \u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">bind\u003C/span> to = \u003Cspan class=\"hljs-number\">127.0.0.1:20001\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Для ограничения доступа по IP укажите нужный IP-адрес в строке \u003Cstrong>allow connections from\u003C/strong>.\u003Cbr>\nНапример, если Вы хотите, чтобы подключение выполнялось только с IP-адреса \u003Cstrong>192.168.0.5\u003C/strong>, то строка должна выглядеть вот так:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">allow\u003C/span> connections from = \u003Cspan class=\"hljs-number\">192.168.0.5\u003C/span>/\u003Cspan class=\"hljs-number\">24\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>После внесения изменений, сохраните файл и перезапустите Netdata:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl restart netdata\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если Вы измените порт, то необходимо дополнительно разрешить его в брандмауэре и запретить предыдущий:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> ufw deny 19999/tcp\n\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> ufw allow 20001/tcp\n\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> ufw reload\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>По умолчанию Netdata отслеживает множество системных параметров и служб. Также она позволяет добавлять мониторинг дополнительных сервисов или приложений, для этого необходимо провести настройки в соответствующих конфигурационных файлах, находящихся в директории /etc/netdata/.\u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Проверим доступность и работу NetData на нашей операционной системе. Подключимся к ней с помощью браузера.\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_08.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"дашборд нетдата\"\n                            src=\"/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_08.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"обновление-и-удаление-netdata\"\n>Обновление и удаление Netdata\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>После установки с помощью скрипта Netdata добавляет задание \u003Cstrong>cron ()\u003C/strong> для автоматического ежедневного обновления программного. Если по каким-либо причинам обновление не происходит, можно провести обновление вручную с помощью команды:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> /usr/libexec/netdata/netdata-updater.sh\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_09.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"обнов_нетдата\"\n                            src=\"/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_09.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если вам потребуется удалить Netdata с сервера воспользуйтесь скриптом:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> /usr/libexec/netdata/netdata-uninstaller.sh\u003C/code>\u003C/pre>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"защита-netdata\"\n>Защита Netdata\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>По умолчанию в NetData не предусмотрено никакой аутентификации при подключении по http.\nМы рекомендуем выполнить настройку базовой http-аутентификации с вводом логина и пароля, а также подключение по https. Очень подробно механизм настройки разобран в нашей статье \u003Ca   href=\"https://github.com/HostVDS-com/tutorials/blob/main/topics/installing-the-server-software/how-to-install-phpmyadmin-on-ubuntu-server/ru.md\"\n  rel=\"nofollow\"\n  class=\"text-sky-700 transition-opacity duration-75 hover:opacity-70\"\n  target=\"_blank\"\n>Как установить phpMyAdmin на Ubuntu 24.04\u003C/a>. Рекомендуем ознакомиться и обеспечить дополнительную защиту данных при работе с NetData.\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"заключение\"\n>Заключение\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Netdata – это мощный и простой в использовании инструмент для мониторинга производительности в режиме реального времени. Вы можете настроить веб-интерфейс в соответствии с вашими конкретными потребностями. Следуя шагам, описанным в этой статье, Вы можете легко установить и выполнить первоначальную настройку Netdata.\u003C/p>\n\u003C/p>",description:"В статье рассмотрим как установить NetData на Ubuntu 24.04. Настроим NetData для удаленного мониторинга состояния сервера.",cover:"/topics/installing-the-server-software/how-to-install-netdata-on-ubuntu-server/static/ru_image_00.webp",tableOfContents:[{title:"Введение",level:2,id:"введение"},{title:"Подготовка системы",level:2,id:"подготовка-системы"},{title:"Установка NetData",level:2,id:"установка-netdata"},{title:"Настройка NetData",level:2,id:"настройка-netdata"},{title:"Обновление и удаление Netdata",level:2,id:"обновление-и-удаление-netdata"},{title:"Защита Netdata",level:2,id:"защита-netdata"},{title:"Заключение",level:2,id:"заключение"}]}]},{slug:"linux-basics",title:"Основы Linux",description:"Linux — это свободная и открытая операционная система, основанная на ядре Linux.",tutorials:[{slug:"ssh-key-generation",tags:["linux","ubuntu","debian","windows","ssh","ssh-keygen","openssh","puttygen","ed25519","rsa","ecdsa"],title:"Генерация SSH-ключей",content:"# Генерация SSH-ключей\n\n## Преимущества использования ключей SSH\n\nSSH (Secure Shell) — это сетевой протокол, используемый для защищённого обмена данными и удалённого управления хостами. Протокол применяется в различных сферах, от администрирования серверов и работы с облачными хостингами до взаимодействия с базами данных и корпоративными системами. Одной из ключевых особенностей SSH является механизм аутентификации, использующий пару ключей — приватный и публичный. В статье мы рассмотрим, как происходит генерация ключей, подробно объяснив процесс создания и настройки дополнительных параметров ключей на разных операционных системах. \n\nИспользование SSH-ключей значительно безопаснее, чем использование пароля. В первую очередь, это связано с тем, что пароли можно угадать с помощью атак грубой силы, тогда как приватный ключ — это длинная и случайная последовательность данных, которая практически невозможна для подбора. Кроме того, в отличие от пароля, приватный ключ не передаётся по сети — только сам факт его использования проверяется сервером. \nТакже важным преимуществом является возможность настройки дополнительных параметров безопасности, таких как использование фраз-паролей для защиты приватных ключей.\n\n## Алгоритмы шифрования ключей\n\nSSH обеспечивает поддержку различных алгоритмов шифрования для обеспечения безопасной связи и аутентификации. Наиболее распространенными являются RSA, Ed25519, ECDSA и DSA.  \nПредпочтительнее сегодня использовать современный алгоритм Ed25519, разработанный для обеспечения высокой производительности, небольших размеров ключей и надежной безопасности. Он основан на эллиптической кривой Curve25519 и использует детерминированную генерацию ключей для устранения уязвимостей случайности.\n\nАлгоритм RSA является примером надежного алгоритма шифрования, его безопасность основана на вычислительной сложности разложения на множители больших целых чисел, в частности, произведения двух больших простых чисел. RSA с 2048-битным ключом считается безопасным от текущих угроз, в то время как 4096-битные ключи обеспечивают защиту от прогнозируемого будущего прогресса в вычислительной технике. Является наиболее распространенным ключом на сегодня. \n\nECDSA — это вариант алгоритма цифровой подписи (DSA) с эллиптической кривой. Он обеспечивает надежную защиту благодаря меньшим размерам ключей по сравнению с RSA, что делает его эффективным для систем с ограниченной пропускной способностью или хранилищем. Работает быстрее, чем RSA, но обеспечивает менее надежную защиту, чем Ed25519 из-за определенных проблем в реализации алгоритма. \n\nАлгоритм DSA не рекомендуется к применению в современных системах из-за низкого уровня обеспечения безопасности.  \nВ таблице покажем сравнение алгоритмов:  \n\n| Алгоритм | Размер ключа | Производительность | Безопасность | Пример использования |\n|-----:|---------------|---------------|---------------|---------------|\n|Ed25519 | 256 бит | Высокая | Надежный | Современные системы, системы с ограниченными ресурсами |\n|RSA | 2048 – 4096 бит | Средняя | Надежный (при использовании ключа от 2048 бит) | Системы общего назначения |\n|ECDSA | 256 – 521 бит | Средняя | Надежный | Современные системы, среды с ограниченными ресурсами |\n|DSA | 1024 бит | Низкая | Ненадежный | Устаревшие системы |\n\n  \nМы будем рассматривать примеры генерации ключей Ed25519 и RSA, размер которого мы выберем 2048 бит.\n\n## Генерация публичного и приватного ключей\n\nКлиент от OpenSSH уже включен в базовое программное обеспечение в Windows 10/11, Ubuntu, Debian. Рассмотрим генерацию ключей на клиентской машине c его помощью.  \nДля Windows нажмите Win+R, введите cmd. Для Ubuntu/Debian запустите терминал сочетанием клавиш Ctrl+Alt+T.  \nКоманда генерации ключа выглядит следующим образом:\n```\nssh-keygen [опции]\n```\nВ качестве опций можно использовать:  \n**–t**  [ dsa | ecdsa | ed25519 | rsa ]  \nУказывает тип криптографического алгоритма для ключа.  \n**-b** [размер_ключа]  \nОпределяет длину ключа в битах.  \n**-C** [комментарий]  \nДобавляет комментарий к ключу, помогая идентифицировать ключ.  Не влияет на безопасность ключа.  \n**-f** [путь_к_файлу]  \nУказывает путь и имя файла для сохранения сгенерированных ключей.  \n**-N** [пароль_для_ключа]  \nУстанавливает пароль для защиты приватного ключа.  \n**-q**  \nОтключает вывод сообщений о процессе генерации ключей. Полезно в автоматизированных сценариях.  \n**-v**  \nВключает режим подробного вывода. Полезно для отладки, если необходимо проследить каждый шаг выполнения команды.  \n**-P** [старый_пароль]  \nИзменяет пароль приватного ключа. В комбинации с параметром **-f** устанавливает новый пароль на существующий приватный ключ. \n\nВ качестве примера создадим ключ RSA в ОС Windows со следующими параметрами:  \n• длина ключа 2048 бит  \n• комментарий «Win-Ubuntu»  \n• пароль для приватного ключа: ssh  \n• имя ключа: id_rsa2048  \n• местоположение ключа: C:\\Users\\jetcry\\ssh_keys\\  \n\n> Директория «ssh_keys» должна быть предварительно создана. \n\nКоманда для создания ключа с указанными параметрами: \n```\nssh-keygen –t rsa –b 2048 –C Win-Ubuntu –N ssh –f C:\\Users\\jetcry\\ssh_keys\\id_rsa2048\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"ssh keygen \" src=/topics/linux-basics/ssh-key-generation/static/ru_image_01.png width=1024>\u003C/p>\n\nДавайте рассмотрим процесс создания ключа ed25519 без указания дополнительных параметров: \n```\nssh-keygen –t ed25519\n```\n\u003Cp align=\"center\">\u003Cimg alt=\"ssh keygen ed25519\" src=/topics/linux-basics/ssh-key-generation/static/ru_image_02.png width=1024>\u003C/p>\nЗдесь мы указали имя ключа, пароль (парольную фразу, passphrase).\nСозданный ключ был сохранен в корневой папке пользователя.\nДля Ububntu/Debian синтаксис команд аналогичен. Создадим ключ для Ubuntu. Проверим, что он появился в каталоге .ssh домашней директории. \n\u003Cp align=\"center\">\u003Cimg alt=\"ssh-keygen ubuntu\" src=/topics/linux-basics/ssh-key-generation/static/ru_image_03.png width=1024>\u003C/p>\nПары ключей сгенерированы и находятся в директории .ssh текущего пользователя Ubuntu.\n\n## Генерация ключа с помощью PuttyGen\n\nВ случае, если у Вас не установлен OpenSSH, например, на Windows 7 его нет в базовом наборе программного обеспечения, альтернативным способом создания ключа является использование приложения PuttyGen, доступного к скачиванию с официального сайта [Putty](https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html).\n\nВыбираем тип ключа и начинаем его генерацию. В нашем случае мы выбрали тип ключа – RSA, длина ключа – 2048 бит.\n\u003Cp align=\"center\">\u003Cimg alt=\"Puttygen\" src=/topics/linux-basics/ssh-key-generation/static/ru_image_04.png width=600>\u003C/p>\nВо время генерации необходимо хаотично двигать мышкой по экрану, это позволит создать неповторимый ключ. \n\u003Cp align=\"center\">\u003Cimg alt=\"Puttygen_move_mouse\" src=/topics/linux-basics/ssh-key-generation/static/ru_image_05.png width=600>\u003C/p>\nПосле того, как ключ будет создан, его можно защитить с помощью парольной фразы. После этого необходимо сохранить публичный и приватный ключи, желательно предварительно создать папку .ssh для текущего пользователя, например C:\\Users\\jetcry\\.ssh\n\u003Cp align=\"center\">\u003Cimg alt=\"Puttygen_save key\" src=/topics/linux-basics/ssh-key-generation/static/ru_image_06.png width=600>\u003C/p>\nВот как отображает созданные ключи ОС Windows:\n\u003Cp align=\"center\">\u003Cimg alt=\"Puttygen_end\" src=/topics/linux-basics/ssh-key-generation/static/ru_image_07.png width=600>\u003C/p>\nГенерация ключей завершена. \n\n## Краткие итоги\n\n1. Использование SSH-ключей сегодня является стандартом для обеспечения требований информационной безопасности.\n2. Чаще для генерации ключей используется OpenSSH, команда – ssh-keygen.\n3. Опции ssh-keygen позволяют широко управлять параметрами создаваемых ключей.\n4. Альтернативный вариант – PuttyGen.\n5. Предпочтительнее использовать ключи ED25519 или RSA с длиной ключа не менее 2048 бит.\n",updatedAt:new Date(1749222605571),markdown:"\n\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"преимущества-использования-ключей-ssh\"\n>Преимущества использования ключей SSH\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>SSH (Secure Shell) — это сетевой протокол, используемый для защищённого обмена данными и удалённого управления хостами. Протокол применяется в различных сферах, от администрирования серверов и работы с облачными хостингами до взаимодействия с базами данных и корпоративными системами. Одной из ключевых особенностей SSH является механизм аутентификации, использующий пару ключей — приватный и публичный. В статье мы рассмотрим, как происходит генерация ключей, подробно объяснив процесс создания и настройки дополнительных параметров ключей на разных операционных системах. \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Использование SSH-ключей значительно безопаснее, чем использование пароля. В первую очередь, это связано с тем, что пароли можно угадать с помощью атак грубой силы, тогда как приватный ключ — это длинная и случайная последовательность данных, которая практически невозможна для подбора. Кроме того, в отличие от пароля, приватный ключ не передаётся по сети — только сам факт его использования проверяется сервером.\nТакже важным преимуществом является возможность настройки дополнительных параметров безопасности, таких как использование фраз-паролей для защиты приватных ключей.\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"алгоритмы-шифрования-ключей\"\n>Алгоритмы шифрования ключей\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>SSH обеспечивает поддержку различных алгоритмов шифрования для обеспечения безопасной связи и аутентификации. Наиболее распространенными являются RSA, Ed25519, ECDSA и DSA.\u003Cbr>\nПредпочтительнее сегодня использовать современный алгоритм Ed25519, разработанный для обеспечения высокой производительности, небольших размеров ключей и надежной безопасности. Он основан на эллиптической кривой Curve25519 и использует детерминированную генерацию ключей для устранения уязвимостей случайности.\u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Алгоритм RSA является примером надежного алгоритма шифрования, его безопасность основана на вычислительной сложности разложения на множители больших целых чисел, в частности, произведения двух больших простых чисел. RSA с 2048-битным ключом считается безопасным от текущих угроз, в то время как 4096-битные ключи обеспечивают защиту от прогнозируемого будущего прогресса в вычислительной технике. Является наиболее распространенным ключом на сегодня. \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>ECDSA — это вариант алгоритма цифровой подписи (DSA) с эллиптической кривой. Он обеспечивает надежную защиту благодаря меньшим размерам ключей по сравнению с RSA, что делает его эффективным для систем с ограниченной пропускной способностью или хранилищем. Работает быстрее, чем RSA, но обеспечивает менее надежную защиту, чем Ed25519 из-за определенных проблем в реализации алгоритма. \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Алгоритм DSA не рекомендуется к применению в современных системах из-за низкого уровня обеспечения безопасности.\u003Cbr>\nВ таблице покажем сравнение алгоритмов:  \u003C/p>\n\u003Ctable class=\"my-5\">\n\u003Cthead>\n\u003Ctr>\n\u003Cth align=\"right\" class=\"text-md\">Алгоритм\u003C/th>\n\u003Cth class=\"text-md\">Размер ключа\u003C/th>\n\u003Cth class=\"text-md\">Производительность\u003C/th>\n\u003Cth class=\"text-md\">Безопасность\u003C/th>\n\u003Cth class=\"text-md\">Пример использования\u003C/th>\n\u003C/tr>\n\u003C/thead>\n\u003Ctbody>\n\u003Ctr>\n\u003Ctd align=\"right\" class=\"text-sm\">Ed25519\u003C/td>\n\u003Ctd class=\"text-sm\">256 бит\u003C/td>\n\u003Ctd class=\"text-sm\">Высокая\u003C/td>\n\u003Ctd class=\"text-sm\">Надежный\u003C/td>\n\u003Ctd class=\"text-sm\">Современные системы, системы с ограниченными ресурсами\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd align=\"right\" class=\"text-sm\">RSA\u003C/td>\n\u003Ctd class=\"text-sm\">2048 – 4096 бит\u003C/td>\n\u003Ctd class=\"text-sm\">Средняя\u003C/td>\n\u003Ctd class=\"text-sm\">Надежный (при использовании ключа от 2048 бит)\u003C/td>\n\u003Ctd class=\"text-sm\">Системы общего назначения\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd align=\"right\" class=\"text-sm\">ECDSA\u003C/td>\n\u003Ctd class=\"text-sm\">256 – 521 бит\u003C/td>\n\u003Ctd class=\"text-sm\">Средняя\u003C/td>\n\u003Ctd class=\"text-sm\">Надежный\u003C/td>\n\u003Ctd class=\"text-sm\">Современные системы, среды с ограниченными ресурсами\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd align=\"right\" class=\"text-sm\">DSA\u003C/td>\n\u003Ctd class=\"text-sm\">1024 бит\u003C/td>\n\u003Ctd class=\"text-sm\">Низкая\u003C/td>\n\u003Ctd class=\"text-sm\">Ненадежный\u003C/td>\n\u003Ctd class=\"text-sm\">Устаревшие системы\u003C/td>\n\u003C/tr>\n\u003C/tbody>\n\u003C/table>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Мы будем рассматривать примеры генерации ключей Ed25519 и RSA, размер которого мы выберем 2048 бит.\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"генерация-публичного-и-приватного-ключей\"\n>Генерация публичного и приватного ключей\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Клиент от OpenSSH уже включен в базовое программное обеспечение в Windows 10/11, Ubuntu, Debian. Рассмотрим генерацию ключей на клиентской машине c его помощью.\u003Cbr>\nДля Windows нажмите Win+R, введите cmd. Для Ubuntu/Debian запустите терминал сочетанием клавиш Ctrl+Alt+T.\u003Cbr>\nКоманда генерации ключа выглядит следующим образом:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">ssh\u003C/span>-keygen\u003Cspan class=\"hljs-meta\"> [опции]\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">В качестве опций можно использовать:\u003Cbr>\n\u003Cstrong>–t\u003C/strong>  [ dsa | ecdsa | ed25519 | rsa ]\u003Cbr>\nУказывает тип криптографического алгоритма для ключа.\u003Cbr>\n\u003Cstrong>-b\u003C/strong> [размер_ключа]\u003Cbr>\nОпределяет длину ключа в битах.\u003Cbr>\n\u003Cstrong>-C\u003C/strong> [комментарий]\u003Cbr>\nДобавляет комментарий к ключу, помогая идентифицировать ключ.  Не влияет на безопасность ключа.\u003Cbr>\n\u003Cstrong>-f\u003C/strong> [путь\u003Cem>к\u003C/em>файлу]\u003Cbr>\nУказывает путь и имя файла для сохранения сгенерированных ключей.\u003Cbr>\n\u003Cstrong>-N\u003C/strong> [пароль\u003Cem>для\u003C/em>ключа]\u003Cbr>\nУстанавливает пароль для защиты приватного ключа.\u003Cbr>\n\u003Cstrong>-q\u003C/strong>\u003Cbr>\nОтключает вывод сообщений о процессе генерации ключей. Полезно в автоматизированных сценариях.\u003Cbr>\n\u003Cstrong>-v\u003C/strong>\u003Cbr>\nВключает режим подробного вывода. Полезно для отладки, если необходимо проследить каждый шаг выполнения команды.\u003Cbr>\n\u003Cstrong>-P\u003C/strong> [старый_пароль]\u003Cbr>\nИзменяет пароль приватного ключа. В комбинации с параметром \u003Cstrong>-f\u003C/strong> устанавливает новый пароль на существующий приватный ключ. \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>В качестве примера создадим ключ RSA в ОС Windows со следующими параметрами:\u003Cbr>\n• длина ключа 2048 бит\u003Cbr>\n• комментарий «Win-Ubuntu»\u003Cbr>\n• пароль для приватного ключа: ssh\u003Cbr>\n• имя ключа: id_rsa2048\u003Cbr>\n• местоположение ключа: C:\\Users\\jetcry\\ssh_keys\\  \u003C/p>\n\u003Cblockquote>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Директория «ssh_keys» должна быть предварительно создана. \u003C/p>\n\u003C/blockquote>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Команда для создания ключа с указанными параметрами: \u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-variable\">ssh\u003C/span>\u003Cspan class=\"hljs-operator\">-\u003C/span>\u003Cspan class=\"hljs-variable\">keygen\u003C/span> \u003Cspan class=\"hljs-operator\">-\u003C/span>\u003Cspan class=\"hljs-variable\">t\u003C/span> \u003Cspan class=\"hljs-variable\">rsa\u003C/span> \u003Cspan class=\"hljs-operator\">-\u003C/span>\u003Cspan class=\"hljs-variable\">b\u003C/span> \u003Cspan class=\"hljs-number\">2048\u003C/span> \u003Cspan class=\"hljs-operator\">-\u003C/span>\u003Cspan class=\"hljs-built_in\">C\u003C/span> \u003Cspan class=\"hljs-variable\">Win\u003C/span>\u003Cspan class=\"hljs-operator\">-\u003C/span>\u003Cspan class=\"hljs-variable\">Ubuntu\u003C/span> \u003Cspan class=\"hljs-operator\">-\u003C/span>\u003Cspan class=\"hljs-built_in\">N\u003C/span> \u003Cspan class=\"hljs-variable\">ssh\u003C/span> \u003Cspan class=\"hljs-operator\">-\u003C/span>\u003Cspan class=\"hljs-variable\">f\u003C/span> \u003Cspan class=\"hljs-built_in\">C\u003C/span>\u003Cspan class=\"hljs-operator\">:\u003C/span>\\\u003Cspan class=\"hljs-variable\">Users\u003C/span>\\\u003Cspan class=\"hljs-variable\">jetcry\u003C/span>\\\u003Cspan class=\"hljs-type\">ssh_keys\u003C/span>\\\u003Cspan class=\"hljs-type\">id_rsa2048\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/ssh-key-generation/static/ru_image_01.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"ssh keygen \"\n                            src=\"/topics/linux-basics/ssh-key-generation/static/ru_image_01.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Давайте рассмотрим процесс создания ключа ed25519 без указания дополнительных параметров: \u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>ssh-keygen -\u003Cspan class=\"hljs-built_in\">t\u003C/span> \u003Cspan class=\"hljs-symbol\">ed25519\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/ssh-key-generation/static/ru_image_02.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"ssh keygen ed25519\"\n                            src=\"/topics/linux-basics/ssh-key-generation/static/ru_image_02.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nЗдесь мы указали имя ключа, пароль (парольную фразу, passphrase).\nСозданный ключ был сохранен в корневой папке пользователя.\nДля Ububntu/Debian синтаксис команд аналогичен. Создадим ключ для Ubuntu. Проверим, что он появился в каталоге .ssh домашней директории. \n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/ssh-key-generation/static/ru_image_03.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"ssh-keygen ubuntu\"\n                            src=\"/topics/linux-basics/ssh-key-generation/static/ru_image_03.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nПары ключей сгенерированы и находятся в директории .ssh текущего пользователя Ubuntu.\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"генерация-ключа-с-помощью-puttygen\"\n>Генерация ключа с помощью PuttyGen\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>В случае, если у Вас не установлен OpenSSH, например, на Windows 7 его нет в базовом наборе программного обеспечения, альтернативным способом создания ключа является использование приложения PuttyGen, доступного к скачиванию с официального сайта \u003Ca   href=\"https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html\"\n  rel=\"nofollow\"\n  class=\"text-sky-700 transition-opacity duration-75 hover:opacity-70\"\n  target=\"_blank\"\n>Putty\u003C/a>.\u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Выбираем тип ключа и начинаем его генерацию. В нашем случае мы выбрали тип ключа – RSA, длина ключа – 2048 бит.\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/ssh-key-generation/static/ru_image_04.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"Puttygen\"\n                            src=\"/topics/linux-basics/ssh-key-generation/static/ru_image_04.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nВо время генерации необходимо хаотично двигать мышкой по экрану, это позволит создать неповторимый ключ. \n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/ssh-key-generation/static/ru_image_05.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"Puttygen_move_mouse\"\n                            src=\"/topics/linux-basics/ssh-key-generation/static/ru_image_05.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nПосле того, как ключ будет создан, его можно защитить с помощью парольной фразы. После этого необходимо сохранить публичный и приватный ключи, желательно предварительно создать папку .ssh для текущего пользователя, например C:\\Users\\jetcry\\.ssh\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/ssh-key-generation/static/ru_image_06.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"Puttygen_save key\"\n                            src=\"/topics/linux-basics/ssh-key-generation/static/ru_image_06.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nВот как отображает созданные ключи ОС Windows:\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/ssh-key-generation/static/ru_image_07.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"Puttygen_end\"\n                            src=\"/topics/linux-basics/ssh-key-generation/static/ru_image_07.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nГенерация ключей завершена.\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"краткие-итоги\"\n>Краткие итоги\u003C/h2>\n\u003Col>\n\u003Cli>Использование SSH-ключей сегодня является стандартом для обеспечения требований информационной безопасности.\u003C/li>\n\u003Cli>Чаще для генерации ключей используется OpenSSH, команда – ssh-keygen.\u003C/li>\n\u003Cli>Опции ssh-keygen позволяют широко управлять параметрами создаваемых ключей.\u003C/li>\n\u003Cli>Альтернативный вариант – PuttyGen.\u003C/li>\n\u003Cli>Предпочтительнее использовать ключи ED25519 или RSA с длиной ключа не менее 2048 бит.\u003C/li>\n\u003C/ol>\n",description:"В статье рассмотрим алгоритмы шифрования ключей. Выполним генерацию публичного и приватного ключей с помощью ssh-keygen и PuttyGen.",cover:"/topics/linux-basics/ssh-key-generation/static/ru_image_00.webp",tableOfContents:[{title:"Преимущества использования ключей SSH",level:2,id:"преимущества-использования-ключей-ssh"},{title:"Алгоритмы шифрования ключей",level:2,id:"алгоритмы-шифрования-ключей"},{title:"Генерация публичного и приватного ключей",level:2,id:"генерация-публичного-и-приватного-ключей"},{title:"Генерация ключа с помощью PuttyGen",level:2,id:"генерация-ключа-с-помощью-puttygen"},{title:"Краткие итоги",level:2,id:"краткие-итоги"}]},{slug:"connect-to-the-server-using-ssh-keys",tags:["linux","ubuntu","debian","windows","ssh","ssh-keygen","openssh","puttygen","ed25519","rsa","ecdsa"],title:"Подключение к серверу с помощью SSH-ключей",content:"# Подключение к серверу с помощью SSH-ключей\n\n## Введение\n\nМеханизм генерации ssh-ключей был подробно описан в [этой статье](/linux-basics/ssh-key-generation). Сегодня мы рассмотрим различные способы переноса открытого ключа на сервер, а также настройку дополнительных параметров безопасности.\n\n## Предварительная настройка сервера\n\nВ качестве изначальных данных у нас готов открытый ключ на клиентской машине, так же есть доступ к root по паролю на сервере.  \nПри первом подключении необходимо подтвердить, что мы хотим установить соединение с удаленным сервером. Далее вводим пароль и вход в систему будет выполнен.\n\n\u003Cp align=\"center\">\u003Cimg alt=\"первое подключение к серверу\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_01.png width=1024>\u003C/p>\n\nМы настоятельно рекомендуем отключить возможность подключения к суперпользователю root через ssh. Поэтому нам необходимо создать нового пользователя для удаленного подключения и скопировать для него открытый ключ.\n\nСоздаем нового пользователя:\n\n```\nadduser \u003Cимя пользователя> \n```\n\nДобавляем его в группу администраторов:\n\n```\nadduser \u003Cимя пользователя> sudo\n```  \n\nПереключаемся в созданную учетную запись\n```  \nsu \u003Cимя пользователя>\n```\n\n\u003Cp align=\"center\">\u003Cimg alt=\"создание нового пользователя на сервере\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_02.png width=1024>\u003C/p>\n\nЗаходим в корневую папку созданного пользователя:\n```\ncd\n```\n\nСоздаем директорию .ssh:\n```\nmkdir .ssh\n```\n\nУстанавливаем текущему пользователю права на чтение, запись и выполнение. Остальные пользователи и группы пользователей не имеют никаких прав.\n```\nchmod 700 .ssh\n```\n\n\u003Cp align=\"center\">\u003Cimg alt=\"новая директория на сервере\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_03.png width=1024>\u003C/p>\n\nНовый пользователь и директория для хранения ключей созданы, переходим непосредственно к переносу ключей.\n\n## Автоматическое копирование ключа для Debian/Ubuntu\n\nНа Debian/Ubuntu для автоматической передачи ключа можно использовать команду:\n```\nssh-copy-id user@IP_server\n```\nгде  \n**user** – это имя пользователя на удаленном сервере;  \n**IP_server** – IP-адрес сервера.\n\u003Cp align=\"center\">\u003Cimg alt=\"автоматическое копирование ключа на сервер\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_04.png width=1024>\u003C/p>\n\nПосле копирования ключа вводим следующую команду:\n\n```\nssh user@IP_server\n```\nВ нашем случае она выглядит следующим образом:\n\n```\nssh admin@192.168.1.160\n```\n\n\u003Cp align=\"center\">\u003Cimg alt=\"подключение на сервер после копирования ключа\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_05.png width=1024>\u003C/p>\n\nМы зашли на удаленный сервер, ввод пароля не потребовался.  \nСоздадим ключ ed25519 и скопируем его на сервер:\n\n\u003Cp align=\"center\">\u003Cimg alt=\"создание ключа и его копирование на сервер\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_06.png width=1024>\u003C/p>\n\nПроверим на сервере созданные ключи в директории ~/.ssh \n\n\u003Cp align=\"center\">\u003Cimg alt=\"проверяем ключ в директории ~/.ssh\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_07.png width=600>\u003C/p>\n\nОткроем ключ на клиенте: \n\n\u003Cp align=\"center\">\u003Cimg alt=\"файл ключа на клиенте\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_08.png width=1024>\u003C/p>\n\nПроверим содержимое файла ssh_host_ed25519 на сервере:\n\n\u003Cp align=\"center\">\u003Cimg alt=\"файл ключа на сервере\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_09.png width=1024>\u003C/p>\n\nСодержимое ключей идентичны, копирование прошло успешно.\n\n## Ручное копирование ключа\n\nДля ручного копирования ключа будем использовать утилиту scp, входящую в стандартный пакет программ для Windows 10/11, Ubuntu/Debian. Настройки будем производить на примере ОС Windows 10.  \nСинтаксис команды выглядит следующим образом:\n```\nscp route\\ssh_key.pub user@IP-server:/home/user/.ssh/\n```\nгде  \n**route** – путь до ключа  \n**ssh_key.pub** – имя ключа, расширение .pub.  \n**user** – имя пользователя на сервере  \nВ нашем случае:\n```\nscp C:\\Users\\jetcry\\.ssh\\id_ed25519.pub admin@192.168.1.160:/home/admin/.ssh/\n```\nПоявится результат выполнения команды:\n\u003Cp align=\"center\">\u003Cimg alt=\"пример использования scp\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_10.png width=1024>\u003C/p>\n\nПереходим на сервер. Необходимо содержимое ключа скопировать в файл authorized_keys, который еще не создан. Воспользуемся следующими командами:\n\n```\ncd ~/.ssh\ncat id_ed25519.pub >> authorized_keys\n```\n\n\u003Cp align=\"center\">\u003Cimg alt=\"создание файла authorized_keys и копирование в него ключа\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_11.png width=600>\u003C/p>\n\nОткрываем файл, проверяем, что все получилось:\n\n```\nnano authorized_keys\n```\n\n\u003Cp align=\"center\">\u003Cimg alt=\"открываем authorized_keys с помощью текстового редактора nano\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_12.png width=1024>\u003C/p>\nВыходим из файла с помощью Сtrl+X.\n\nКлюч скопирован в ручном режиме.\n\n## Создание сервера на HostVDS и подключение к нему с помощью SSH-ключей\n\nНа сайте [hostvds.com](https://hostvds.com) выберем создать новый сервер. Укажем его местоположение, подберем тарифный план и образ системы. После этого нажмем «+» в поле “SSH-ключ”. \n\u003Cp align=\"center\">\u003Cimg alt=\"добавление ssh-ключа на hostvds\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_13.png width=600>\u003C/p>\nВставим данные нашего созданного ключа, включая его название, в открывшееся поле.\n\u003Cp align=\"center\">\u003Cimg alt=\"копирование ssh-ключа при создании сервера на hostvds\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_14.png width=600>\u003C/p>\nПосле этого создаем виртуальный сервер с заранее установленным ssh-ключом и операционной системой Ubuntu 22.04.\n\u003Cp align=\"center\">\u003Cimg alt=\"создание сервера\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_15.png width=1024>\u003C/p>\nКак только появится IP-адрес сервера, выполним подключение через терминал. Укажем протокол ssh, IP-адрес, root в качестве пользователя.\n\u003Cp align=\"center\">\u003Cimg alt=\"подключение к серверу hostvds.com\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_16.png width=1024>\u003C/p>\nПодключение выполнено. В следующем разделе разберем механизмы дополнительной защиты Вашего сервера.\n\n## Дополнительная защита подключения к серверу\n\nНастройки будем выполнять в файле /etc/ssh/sshd_config. Открываем его с помощью редактора nano\n\n```\nsudo nano /etc/ssh/sshd_config\n```\nУкажем подключение по SSH через другой порт. Расскомментируем строчку **#Port 22** и укажем любой другой номер порта из частного (динамического) диапазона операционной системы: **от 49152 до 65535**. \n\n```\nPort 59898\n```\n\n> Если Вы хотите выбрать другой порт для работы протокола ssh, необходимо убедиться, что он не занят системой. Для этого воспользуйтесь утилитой **netstat**.\n\n\u003Cp align=\"center\">\u003Cimg alt=\"изменение номера порта ssh\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_17.png width=600>\u003C/p>\n\nДалее отключим возможность подключения к суперпользователю root и вход с помощью пароля. \n\nУдаляем возможность подключения через root:\n\n```\nPermitRootLogin no\n```\n\nУдаляем возможность подключения с помощью пароля:\n\n```\nPasswordAuthentication no\nPermitEmptyPasswords no\n```\n\nУказываем, что подключение идет только с помощью ключей:\n\n```\nPubkeyAuthentication yes\n```\n\n\u003Cp align=\"center\">\u003Cimg alt=\"изменения параметров в sshd_config\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_18.png width=1024>\u003C/p>\n\nСохраняем: Ctrl+O. Enter (соглашаемся с именем сохраняемого файла).\n\nВыходим из файла с помощью Сtrl+X. \n\nПереходим в директорию sshd_config:\n\n```\ncd /etc/ssh/sshd_config\n``` \n\nПроверяем наличие там дополнительных файлов конфигурации командой **ls**\n\n\u003Cp align=\"center\">\u003Cimg alt=\"дополнительные файлы конфигурации\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_19.png width=600>\u003C/p>\n\nЗапрещаем подключение с помощью пароля (меняем **“yes”** на **“no”**)\n\n\u003Cp align=\"center\">\u003Cimg alt=\"Запрещаем подключение с помощью пароля\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_20.png width=600>\u003C/p>\n\nПерезапускаем службу ssh\n\n```\nsudo systemctl restart ssh\n```\n\n\u003Cp align=\"center\">\u003Cimg alt=\"Перезапускаем службу ssh\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_21.png width=600>\u003C/p>\n\nТеперь при подключении к пользователям root и admin по ssh будет ошибка. Подключение будет доступно только при указании верного номера порта для протокола ssh. \n\n\u003Cp align=\"center\">\u003Cimg alt=\"невозможность подключения со стандартными параметрами\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_22.png width=1024>\u003C/p>\n\nЕсли на клиенте перенести ключи из папки .ssh, то подключение будет так же запрещено, даже с указанием номера порта \n\n\u003Cp align=\"center\">\u003Cimg alt=\"невозможно подключиться без ключа\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_23.png width=600>\u003C/p>\n\nУкажем с помощью параметра **-i**, какой ключ следует использовать для подключения:\n\n```\nssh admin@192.168.1.160 -i C:\\Users\\jetcry\\id_ed25519 –p 59898\n```\n\n\u003Cp align=\"center\">\u003Cimg alt=\"подключение с указанием ключа и номера порта\" src=/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_24.png width=1024>\u003C/p>\n\nВход выполнен. Мы завершили настройку дополнительной безопасности при подключении к серверу.\n\n## Краткие итоги\n1. Использование SSH-ключей для аутентификации обеспечивает максимальный уровень безопасности при подключении к удаленному серверу.\n2. Закрытый ключ остается на клиентской машине, открытый копируется на сервер.\n3. Команда ssh-copy-id – автоматическое копирование ключа в Ubuntu/Debian.\n4. Утилита scp – копирование ключа в ручном режиме.\n5. Для обеспечения дополнительной безопасности измените номер порта для протокола ssh, удалите возможность подключения к суперпользователю root и запретите использование паролей.\n",updatedAt:new Date(1749222605543),markdown:"\n\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"введение\"\n>Введение\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Механизм генерации ssh-ключей был подробно описан в \u003Ca   href=\"https://github.com/HostVDS-com/tutorials/blob/main/topics/linux-basics/ssh-key-generation/ru.md\"\n  rel=\"nofollow\"\n  class=\"text-sky-700 transition-opacity duration-75 hover:opacity-70\"\n  target=\"_blank\"\n>этой статье\u003C/a>. Сегодня мы рассмотрим различные способы переноса открытого ключа на сервер, а также настройку дополнительных параметров безопасности.\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"предварительная-настройка-сервера\"\n>Предварительная настройка сервера\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>В качестве изначальных данных у нас готов открытый ключ на клиентской машине, так же есть доступ к root по паролю на сервере.\u003Cbr>\nПри первом подключении необходимо подтвердить, что мы хотим установить соединение с удаленным сервером. Далее вводим пароль и вход в систему будет выполнен.\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_01.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"первое подключение к серверу\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_01.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Мы настоятельно рекомендуем отключить возможность подключения к суперпользователю root через ssh. Поэтому нам необходимо создать нового пользователя для удаленного подключения и скопировать для него открытый ключ.\u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Создаем нового пользователя:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>adduser \u003Cspan class=\"hljs-tag\">&lt;\u003Cspan class=\"hljs-name\">имя\u003C/span> \u003Cspan class=\"hljs-attr\">пользователя\u003C/span>&gt;\u003C/span> \u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Добавляем его в группу администраторов:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>adduser \u003Cspan class=\"hljs-tag\">&lt;\u003Cspan class=\"hljs-name\">имя\u003C/span> \u003Cspan class=\"hljs-attr\">пользователя\u003C/span>&gt;\u003C/span> sudo\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Переключаемся в созданную учетную запись\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>su \u003Cspan class=\"hljs-tag\">&lt;\u003Cspan class=\"hljs-name\">имя\u003C/span> \u003Cspan class=\"hljs-attr\">пользователя\u003C/span>&gt;\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_02.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"создание нового пользователя на сервере\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_02.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Заходим в корневую папку созданного пользователя:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">cd\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Создаем директорию .ssh:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>mkdir .ssh\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Устанавливаем текущему пользователю права на чтение, запись и выполнение. Остальные пользователи и группы пользователей не имеют никаких прав.\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">chmod\u003C/span> \u003Cspan class=\"hljs-number\">700\u003C/span> .ssh\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_03.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"новая директория на сервере\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_03.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Новый пользователь и директория для хранения ключей созданы, переходим непосредственно к переносу ключей.\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"автоматическое-копирование-ключа-для-debianubuntu\"\n>Автоматическое копирование ключа для Debian/Ubuntu\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>На Debian/Ubuntu для автоматической передачи ключа можно использовать команду:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>ssh\u003Cspan class=\"hljs-operator\">-\u003C/span>\u003Cspan class=\"hljs-keyword\">copy\u003C/span>\u003Cspan class=\"hljs-operator\">-\u003C/span>id \u003Cspan class=\"hljs-keyword\">user\u003C/span>\u003Cspan class=\"hljs-variable\">@IP_server\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">где\u003Cbr>\n\u003Cstrong>user\u003C/strong> – это имя пользователя на удаленном сервере;\u003Cbr>\n\u003Cstrong>IP_server\u003C/strong> – IP-адрес сервера.\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_04.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"автоматическое копирование ключа на сервер\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_04.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">После копирования ключа вводим следующую команду:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">ssh\u003C/span> user\u003Cspan class=\"hljs-variable\">@IP_server\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">В нашем случае она выглядит следующим образом:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">ssh\u003C/span> admin@\u003Cspan class=\"hljs-number\">192.168.1.160\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_05.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"подключение на сервер после копирования ключа\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_05.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Мы зашли на удаленный сервер, ввод пароля не потребовался.\u003Cbr>\nСоздадим ключ ed25519 и скопируем его на сервер:\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_06.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"создание ключа и его копирование на сервер\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_06.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Проверим на сервере созданные ключи в директории ~/.ssh \u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_07.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"проверяем ключ в директории ~/.ssh\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_07.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Откроем ключ на клиенте: \u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_08.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"файл ключа на клиенте\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_08.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Проверим содержимое файла ssh_host_ed25519 на сервере:\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_09.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"файл ключа на сервере\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_09.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Содержимое ключей идентичны, копирование прошло успешно.\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"ручное-копирование-ключа\"\n>Ручное копирование ключа\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Для ручного копирования ключа будем использовать утилиту scp, входящую в стандартный пакет программ для Windows 10/11, Ubuntu/Debian. Настройки будем производить на примере ОС Windows 10.\u003Cbr>\nСинтаксис команды выглядит следующим образом:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>scp route\u003Cspan class=\"hljs-string\">\\ssh_key.pub\u003C/span> user@IP-server:\u003Cspan class=\"hljs-regexp\">/home/user/\u003C/span>.ssh/\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">где\u003Cbr>\n\u003Cstrong>route\u003C/strong> – путь до ключа\u003Cbr>\n\u003Cstrong>ssh_key.pub\u003C/strong> – имя ключа, расширение .pub.\u003Cbr>\n\u003Cstrong>user\u003C/strong> – имя пользователя на сервере\u003Cbr>\nВ нашем случае:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>scp \u003Cspan class=\"hljs-symbol\">C:\u003C/span>\\\u003Cspan class=\"hljs-title class_\">Users\u003C/span>\\jetcry\\.ssh\\id_ed25519.pub admin\u003Cspan class=\"hljs-variable\">@192\u003C/span>.\u003Cspan class=\"hljs-number\">168.1\u003C/span>.\u003Cspan class=\"hljs-number\">160\u003C/span>\u003Cspan class=\"hljs-symbol\">:/home/admin/\u003C/span>.ssh/\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Появится результат выполнения команды:\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_10.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"пример использования scp\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_10.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Переходим на сервер. Необходимо содержимое ключа скопировать в файл authorized_keys, который еще не создан. Воспользуемся следующими командами:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">cd\u003C/span> ~/.ssh\n\u003Cspan class=\"hljs-built_in\">cat\u003C/span> id_ed25519.pub &gt;&gt; authorized_keys\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_11.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"создание файла authorized_keys и копирование в него ключа\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_11.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Открываем файл, проверяем, что все получилось:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">nano authorized_keys\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_12.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"открываем authorized_keys с помощью текстового редактора nano\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_12.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nВыходим из файла с помощью Сtrl+X.\n\u003Cp class=\"mt-2 mb-2 text-md\">Ключ скопирован в ручном режиме.\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"создание-сервера-на-hostvds-и-подключение-к-нему-с-помощью-ssh-ключей\"\n>Создание сервера на HostVDS и подключение к нему с помощью SSH-ключей\u003C/h2>\n\u003Cp class=\"mt-2 mb-2 text-md\">На сайте \u003Ca   href=\"https://hostvds.com\"\n  rel=\"nofollow\"\n  class=\"text-sky-700 transition-opacity duration-75 hover:opacity-70\"\n  target=\"_blank\"\n>hostvds.com\u003C/a> выберем создать новый сервер. Укажем его местоположение, подберем тарифный план и образ системы. После этого нажмем «+» в поле “SSH-ключ”. \u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_13.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"добавление ssh-ключа на hostvds\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_13.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nВставим данные нашего созданного ключа, включая его название, в открывшееся поле.\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_14.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"копирование ssh-ключа при создании сервера на hostvds\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_14.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nПосле этого создаем виртуальный сервер с заранее установленным ssh-ключом и операционной системой Ubuntu 22.04.\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_15.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"создание сервера\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_15.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nКак только появится IP-адрес сервера, выполним подключение через терминал. Укажем протокол ssh, IP-адрес, root в качестве пользователя.\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_16.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"подключение к серверу hostvds.com\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_16.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\nПодключение выполнено. В следующем разделе разберем механизмы дополнительной защиты Вашего сервера.\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"дополнительная-защита-подключения-к-серверу\"\n>Дополнительная защита подключения к серверу\u003C/h2>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Настройки будем выполнять в файле /etc/ssh/sshd_config. Открываем его с помощью редактора nano\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> nano /etc/ssh/sshd_config\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Укажем подключение по SSH через другой порт. Расскомментируем строчку \u003Cstrong>#Port 22\u003C/strong> и укажем любой другой номер порта из частного (динамического) диапазона операционной системы: \u003Cstrong>от 49152 до 65535\u003C/strong>. \u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">Port\u003C/span> \u003Cspan class=\"hljs-number\">59898\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если Вы хотите выбрать другой порт для работы протокола ssh, необходимо убедиться, что он не занят системой. Для этого воспользуйтесь утилитой \u003Cstrong>netstat\u003C/strong>.\u003C/p>\n\u003C/blockquote>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_17.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"изменение номера порта ssh\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_17.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Далее отключим возможность подключения к суперпользователю root и вход с помощью пароля. \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Удаляем возможность подключения через root:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">PermitRootLogin\u003C/span> \u003Cspan class=\"hljs-literal\">no\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp class=\"mt-2 mb-2 text-md\">Удаляем возможность подключения с помощью пароля:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">PasswordAuthentication\u003C/span> \u003Cspan class=\"hljs-literal\">no\u003C/span>\nPermitEmptyPasswords \u003Cspan class=\"hljs-literal\">no\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Указываем, что подключение идет только с помощью ключей:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">PubkeyAuthentication\u003C/span> \u003Cspan class=\"hljs-literal\">yes\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_18.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"изменения параметров в sshd_config\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_18.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Сохраняем: Ctrl+O. Enter (соглашаемся с именем сохраняемого файла).\u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Выходим из файла с помощью Сtrl+X. \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Переходим в директорию sshd_config:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">cd\u003C/span> /etc/ssh/sshd_config\u003C/code>\u003C/pre>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Проверяем наличие там дополнительных файлов конфигурации командой \u003Cstrong>ls\u003C/strong>\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_19.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"дополнительные файлы конфигурации\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_19.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Запрещаем подключение с помощью пароля (меняем \u003Cstrong>“yes”\u003C/strong> на \u003Cstrong>“no”\u003C/strong>)\u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_20.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"Запрещаем подключение с помощью пароля\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_20.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Перезапускаем службу ssh\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-built_in\">sudo\u003C/span> systemctl restart ssh\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_21.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"Перезапускаем службу ssh\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_21.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Теперь при подключении к пользователям root и admin по ssh будет ошибка. Подключение будет доступно только при указании верного номера порта для протокола ssh. \u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_22.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"невозможность подключения со стандартными параметрами\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_22.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Если на клиенте перенести ключи из папки .ssh, то подключение будет так же запрещено, даже с указанием номера порта \u003C/p>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_23.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"невозможно подключиться без ключа\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_23.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp class=\"mt-2 mb-2 text-md\">Укажем с помощью параметра \u003Cstrong>-i\u003C/strong>, какой ключ следует использовать для подключения:\u003C/p>\n\u003Cpre class=\"hljs\">\u003Ccode>\u003Cspan class=\"hljs-attribute\">ssh\u003C/span> admin@\u003Cspan class=\"hljs-number\">192.168.1.160\u003C/span> -i C:\\Users\\jetcry\\id_ed25519 -p \u003Cspan class=\"hljs-number\">59898\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp align=\"center\">\n                        \u003Cpicture>\n                          \u003Csource srcset=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_24.webp\" type=\"image/webp\">\n                          \u003Cimg                             alt=\"подключение с указанием ключа и номера порта\"\n                            src=\"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_24.png\"\n                            loading=\"lazy\"\n                            class=\"aspect-ratio-16/9 object-contain max-w-96\"\n                          >\n                        \u003C/picture>\n                \u003C/p>\n\u003Cp   class=\"mt-2 mb-2 text-md\"\n>Вход выполнен. Мы завершили настройку дополнительной безопасности при подключении к серверу.\u003C/p>\n\u003Ch2   class=\"text-2xl font-bold mt-10 mb-2 tracking-[-0.01em]\"\n  id=\"краткие-итоги\"\n>Краткие итоги\u003C/h2>\n\u003Col>\n\u003Cli>Использование SSH-ключей для аутентификации обеспечивает максимальный уровень безопасности при подключении к удаленному серверу.\u003C/li>\n\u003Cli>Закрытый ключ остается на клиентской машине, открытый копируется на сервер.\u003C/li>\n\u003Cli>Команда ssh-copy-id – автоматическое копирование ключа в Ubuntu/Debian.\u003C/li>\n\u003Cli>Утилита scp – копирование ключа в ручном режиме.\u003C/li>\n\u003Cli>Для обеспечения дополнительной безопасности измените номер порта для протокола ssh, удалите возможность подключения к суперпользователю root и запретите использование паролей.\u003C/li>\n\u003C/ol>\n",description:"В статье рассмотрим как подключиться к серверу с помощью SSH-ключей. Настроим автоматическое и ручное копирование ключей на сервер. Создадим сервера на HostVDS и выполним подключение к нему с помощью SSH-ключей. Настроим дополнительную защиту подключения.",cover:"/topics/linux-basics/connect-to-the-server-using-ssh-keys/static/ru_image_00.webp",tableOfContents:[{title:"Введение",level:2,id:"введение"},{title:"Предварительная настройка сервера",level:2,id:"предварительная-настройка-сервера"},{title:"Автоматическое копирование ключа для Debian/Ubuntu",level:2,id:"автоматическое-копирование-ключа-для-debianubuntu"},{title:"Ручное копирование ключа",level:2,id:"ручное-копирование-ключа"},{title:"Создание сервера на HostVDS и подключение к нему с помощью SSH-ключей",level:2,id:"создание-сервера-на-hostvds-и-подключение-к-нему-с-помощью-ssh-ключей"},{title:"Дополнительная защита подключения к серверу",level:2,id:"дополнительная-защита-подключения-к-серверу"},{title:"Краткие итоги",level:2,id:"краткие-итоги"}]}]}]}},uses:{}},null,null],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
